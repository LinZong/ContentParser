/******/!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);r(3);var o=r(4),i=r(56),a=r(5),l=document.getElementById("ext-player"),s=JSON.parse(l.dataset.props);i["default"].invoke(s),a["default"].initializeClient(JSON.parse(l.dataset.styleMap),JSON.parse(l.dataset.keyframesMap));var u=r(57),c=r(24),p=u["default"].create(c["default"]);n.render(o.createElement(p,Object.assign({},s)),l)},function(e,t,r){e.exports=r(2)(33)},function(e,t){e.exports=nico.extDll},function(e,t,r){e.exports=r(2)(613)},function(e,t,r){e.exports=r(2)(1)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(6),l=function(){function e(){n(this,e),this.postcssJs=r(7),this.autoprefixer=r(8),this.map={},this.keyframsMap={},this.autoPrefixer=this.postcssJs.sync([this.autoprefixer]),this.processedStyle=a.create(),this.originalStyle=a.create()}return o(e,[{key:"registerStyle",value:function(e){var t=this.processedStyle.registerStyle(this.autoPrefixer(e));return this.map[this.originalStyle.registerStyle(e)]=t,t}},{key:"registerKeyframes",value:function(e){var t=this.processedStyle.registerKeyframes(this.autoPrefixer(e));return this.keyframsMap[this.originalStyle.registerKeyframes(e)]=t,t}},{key:"registerRule",value:function(e,t){this.processedStyle.registerRule(e,this.autoPrefixer(t))}},{key:"getCss",value:function(){return this.processedStyle.getStyles().replace(/@keyframes +([a-zA-Z0-9]+\{(?:\{[^\}]*\}|[^\{]*)*?\})/g,"$&@-webkit-keyframes $1")}},{key:"getMap",value:function(){return this.map}},{key:"getKeyframesMap",value:function(){return this.keyframsMap}}]),e}(),s=function(){function e(t,r){n(this,e),this.map=t,this.keyframesMap=r,this.style=a.create()}return o(e,[{key:"registerStyle",value:function(e){return this.map[this.style.registerStyle(e)]}},{key:"registerKeyframes",value:function(e){return this.keyframesMap[this.style.registerKeyframes(e)]}},{key:"registerRule",value:function(e,t){}},{key:"getCss",value:function(){throw new Error("getCss cannot be used on client side")}},{key:"getMap",value:function(){return this.map}},{key:"getKeyframesMap",value:function(){return this.keyframesMap}}]),e}();!function(e){function t(){p=new l}function r(e,t){p=new s(e,t)}function n(e){return p.registerStyle(e)}function o(e){return p.registerKeyframes(e)}function i(e,t){p.registerRule(e,t)}function a(){return p.getCss()}function u(){return p.getMap()}function c(){return p.getKeyframesMap()}var p=void 0;e.initializeServer=t,e.initializeClient=r,e.registerStyle=n,e.registerKeyframes=o,e.registerRule=i,e.getCss=a,e.getMap=u,e.getKeyframesMap=c,e.fontSizeXSmall=11,e.fontSizeSmall=12,e.fontSizeMedium=13,e.fontSizeLarge=14,e.fontSizeXLarge=16,e.fontSizeXXLarge=20,e.zIndexBack=-100,e.zIndexBelow=-1,e.zIndexAbove=1,e.zIndexFront=6000001}(i||(i={})),t["default"]=i},function(e,t,r){e.exports=r(2)(612)},function(e,t){e.exports=postcssJs},function(e,t){e.exports=autoprefixer},,,function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){r(this,e),this.store=t}return n(e,[{key:"updateStore",value:function(e){var t=e(this.store.state,this.store.props);"undefined"!=typeof t&&this.store.setState(t)}}]),e}();t["default"]=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(13),i=r(14);!function(e){function t(e){var t=e%60;return(e-t)/60+":"+(t<10?"0":"")+t}function r(e,t){var r=function n(e){document.removeEventListener("mousemove",t.onMove),document.removeEventListener("mouseup",n),t.onEnd(e)};document.addEventListener("mousemove",t.onMove),document.addEventListener("mouseup",r),t.onStart(e)}function n(e){return e?Object.keys(e).reduce(function(t,r,n){return""+t+(0===n?"?":"&")+encodeURIComponent(r)+"="+encodeURIComponent(e[r])},""):""}function a(){return"undefined"!=typeof document&&"undefined"!=typeof document.webkitHidden?{hidden:"webkitHidden",visibilityChange:"webkitvisibilitychange"}:{hidden:"hidden",visibilityChange:"visibilitychange"}}function l(e,t){return p.indexOf(o.parse(e).hostname)>=0?t:e}function s(){return l(document.referrer,(o.parse(document.location.href,!0).query||{}).referer||"")}function u(e){return e?function(e){return e.replace(/^http:/,"https:")}:function(e){return e}}function c(e,t){return t?e.replace(f,d).replace("http://","https://"):e}e.formatSeconds=t,e.trackMouseSeek=r,e.objectToQuery=n,e.getPrefixedVisibilityApi=a;var p=[o.parse(i.config.servers.thumbWatch).hostname,o.parse(i.config.servers.extplayervDomain).hostname];e.getOrgReferer=l,e.getOrgRefererOnClient=s,e.createProtocolAdjuster=u;var f=/http:\/\/tn(-skr[1-4]?)?\.smilevideo\.jp\//,d="https://tn.smilevideo.jp/";e.convertVideoThumbnailUrl=c}(n||(n={})),t["default"]=n},function(e,t,r){e.exports=r(2)(535)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=r(15)._publicConfig},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._publicConfig={servers:{extplayerv:"http://embed.nicovideo.jp",extplayervDomain:"http://embed.nicovideo.jp",extplayervRes:"https://secure-dcdn.cdn.nimg.jp/extplayerv/embed",nicovideo:"https://www.nicovideo.jp",nicovideoSpweb:"https://sp.nicovideo.jp",channel:"https://ch.nicovideo.jp",thumbWatch:"http://ext.nicovideo.jp",flapi:"https://flapi.nicovideo.jp",nvapi:"https://nvapi.nicovideo.jp",nicobus:"https://public.api.nicovideo.jp",secureRes:"https://secure-dcdn.cdn.nimg.jp",adsRes:"https://res.ads.nicovideo.jp",qa:"https://qa.nicovideo.jp",account:"https://account.nicovideo.jp"}}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(17),u=r(19),c=r(20),p=r(21),f=r(22),d=r(24),h=r(25),m=r(27),b=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props.error;return e.debug&&void 0,t.mayBeAbleToWatchIfLogin(e)?this.renderDirectToLoginFormView():this.renderDefaultView()}},{key:"renderDefaultView",value:function(){var e=this.props,r=e.nicovideoServerUrl,n=e.playOption,o=e.invalidUrl,i=e.observer,a=e.referer,p=e.error,f={via:p.via?p.via:"thumb_watch",ref:a},d=h.ErrorMessageMap.getMessage(p,this.props.messages),b=t.getRetryMessage(p);return p.debug&&void 0,l.createElement("div",{className:s.background},l.createElement("div",{className:s.root},l.createElement(c["default"],{className:s.niconicoLink,noLinkToNiconico:n.noLinkToNiconico,href:r,query:f,target:"_blank"},l.createElement("button",{className:s.niconicoLinkButton},l.createElement(u.NiconicoLogoWithTvChan,{className:s.svgIcon}))),o?l.createElement("div",{className:s.invalidUrl},o):null,p.videoTitle?l.createElement("div",{className:s.videoTitle},l.createElement(c["default"],{className:s.videoTitleLink,noLinkToNiconico:n.noLinkToNiconico,href:p.videoTitle.url,query:f,target:"_blank"},p.videoTitle.text)):null,d.split(/\n/).map(function(e,t){return l.createElement("p",{className:s.message,key:t},m(e,/%a%(.*)%a%/,function(e,t){return l.createElement("a",{href:p.linkURL,target:"_blank",className:s.message,key:t},e)}))}),b?l.createElement("button",{className:s.reload,onClick:function(){return i.onClickRetryMessage()}},l.createElement(u.ReloadIcon,{className:s.reloadIcon}),b):null))}},{key:"renderDirectToLoginFormView",value:function(){var e=this.props,r=e.nicovideoServerUrl,n=e.playOption,o=e.referer,i=e.error,a={via:i.via?i.via:"thumb_watch",ref:o},f=i.loginURL?{site:i.loginURL.site,next_url:i.loginURL.nextURL,sec:i.loginURL.sec}:{},b=h.ErrorMessageMap.getMessage(i,this.props.messages),y=t.mayBeAbleToWatchIfLogin(i)?d["default"].redirectToNiconico:null;return l.createElement("div",{className:s.background},l.createElement("div",{className:s.root},l.createElement("div",{className:s.niconicoLinkLogoFrame},l.createElement(c["default"],{className:s.niconicoLink,noLinkToNiconico:n.noLinkToNiconico,href:r,query:a,target:"_blank"},l.createElement("button",{className:s.niconicoLinkButtonLoginVersion},l.createElement(u.NiconicoLogoWithTvChan,{className:s.svgIcon})))),i.videoTitle?l.createElement("div",{className:s.videoFrame},l.createElement(c["default"],{className:s.videoTitleLinkLoginVersion,noLinkToNiconico:n.noLinkToNiconico,href:i.videoTitle.url,query:a,target:"_blank"},l.createElement("div",{className:s.videoThumbnailContainer},l.createElement("img",{className:s.videoThumbnail,src:i.videoThumbnail}))),l.createElement("div",{className:s.videoTitleLoginVersion},l.createElement(c["default"],{className:s.videoTitleLinkLoginVersion,noLinkToNiconico:n.noLinkToNiconico,href:i.videoTitle.url,query:a,target:"_blank"},i.videoTitle.text))):null,b.split(/\n/).map(function(e,t){return l.createElement("p",{className:s.messageLoginVersion,key:t},m(e,/%a%(.*)%a%/,function(e,t){return l.createElement("a",{href:i.linkURL,target:"_blank",className:s.message,key:t},e)}))}),y&&i.loginURL?l.createElement("div",{className:s.loginLink},l.createElement(p["default"],{className:s.loginLinkButton,href:i.loginURL.url,query:f,target:"_blank"},y)):null))}}],[{key:"getRetryMessage",value:function(e){switch(e.code){case f.FatalErrorCode.UNEXPECTED_ERROR:case f.FatalErrorCode.VIDEO_ERROR_NETWORK:return d["default"].reloadPlayer;default:return null}}},{key:"mayBeAbleToWatchIfLogin",value:function(e){switch(e.code){case f.FatalErrorCode.TECHNICALLY_UNWATCHABLE:case f.FatalErrorCode.EXTERNALLY_UNWATCHABLE:return!0;default:return!1}}}]),t}(l.PureComponent);t["default"]=b},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),a=r(18);t.background=i["default"].registerStyle({position:"absolute",top:0,right:0,bottom:0,left:0,background:"#000"}),t.root=i["default"].registerStyle({textAlign:"center",boxSizing:"border-box",margin:"0 auto",padding:"8px 12px",display:"block",width:"100%",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}),t.niconicoLinkButtonStyle=n({},"."+t.root+" &",{margin:"0 auto 32px",height:32,width:204,cursor:"default",border:"none",background:"none",outline:"none",padding:0,"@media (min-width:352px) and (max-width: 511px), (min-height: 198px) and (max-height: 287px)":{margin:"0 auto 16px",height:27,width:128},"@media (max-width:351px), (max-height: 197px)":{margin:"0 auto 8px",height:18,width:100}}),t.niconicoLinkButton=i["default"].registerStyle(t.niconicoLinkButtonStyle),t.niconicoLinkButtonLoginVersion=i["default"].registerStyle(Object.assign(t.niconicoLinkButtonStyle,n({},"."+t.root+" &",{margin:"0 auto 32px",height:32,width:204,cursor:"default",border:"none",background:"none",outline:"none",padding:0,"@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{margin:"0 auto 16px",height:27,width:128},"@media (max-width:368px), (max-height: 197px)":{margin:"0 auto 8px",height:18,width:100}}))),t.niconicoLinkStyle=n({},"."+t.root+" &",(o={"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},n(o,"&>."+t.niconicoLinkButton,{cursor:"pointer"}),n(o,"&>."+t.niconicoLinkButtonLoginVersion,{cursor:"pointer"}),o)),t.niconicoLink=i["default"].registerStyle(t.niconicoLinkStyle),t.niconicoLinkLogoFrameStyle={width:573,textAlign:"left",margin:"0 auto",padding:"0 0 0 4px",boxSizing:"border-box","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{width:344},"@media (max-width:368px), (max-height: 197px)":{width:258}},t.niconicoLinkLogoFrame=i["default"].registerStyle(t.niconicoLinkLogoFrameStyle),t.videoTitleStyle=n({},"."+t.root+" &",{fontSize:i["default"].fontSizeXXLarge,lineHeight:1.8,margin:"0 auto 28px",wordWrap:"break-word",wordBreak:"break-all",textDecoration:"none",cursor:"default",color:"#fff",fontWeight:"normal",userSelect:"none","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{fontSize:i["default"].fontSizeXLarge,lineHeight:1.6,margin:"0 auto 16px"},"@media (max-width:368px), (max-height: 197px)":{fontSize:i["default"].fontSizeSmall,lineHeight:1.4,margin:"0 auto 8px"}}),t.videoTitle=i["default"].registerStyle(t.videoTitleStyle),t.videoTitleLoginVersion=i["default"].registerStyle(Object.assign(t.videoTitleStyle,n({},"."+t.root+" &",{display:"inline-block",fontSize:22,fontWeight:"bold",width:293,maxHeight:90,lineHeight:"30px",margin:"0 22px",overflow:"hidden",textAlign:"left",wordWrap:"break-word",color:"#fff","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{width:178,maxHeight:57,fontSize:i["default"].fontSizeLarge,lineHeight:"19px",margin:"0 8px 0 10px"},"@media (max-width:368px), (max-height: 197px)":{width:140,maxHeight:57,fontSize:i["default"].fontSizeSmall,lineHeight:"19px",margin:"0 8px 0 10px"}}))),t.videoTitleLinkStyle=n({},"."+t.root+" &",n({color:"#fff","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},"&>."+t.videoTitle,{textDecoration:"underline",cursor:"pointer"})),t.videoTitleLink=i["default"].registerStyle(t.videoTitleLinkStyle),t.videoTitleLinkLoginVersion=i["default"].registerStyle(Object.assign(t.videoTitleLinkStyle,n({},"."+t.root+" &",{textDecoration:"none","&:link":{color:"#fff"},"&:visited":{color:"#fff"}}))),t.videoThumbnailStyle={width:"auto",height:"100%",maxWidth:224,maxHeight:126,"@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{maxWidth:138,maxHeight:78},"@media (max-width:368px), (max-height: 197px)":{maxWidth:115,maxHeight:65}},t.videoThumbnail=i["default"].registerStyle(t.videoThumbnailStyle),t.videoThumbnailContainerStyle={width:224,height:126,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#000",margin:"0 0 0 10px","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{width:138,height:78},"@media (max-width:368px), (max-height: 197px)":{width:115,height:65}},t.videoThumbnailContainer=i["default"].registerStyle(t.videoThumbnailContainerStyle),t.messageStyle={lineHeight:1,color:"#ffa001",userSelect:"none","@media (min-width:352px) and (max-width: 511px), (min-height: 198px) and (max-height: 287px)":{fontSize:i["default"].fontSizeMedium},"@media (max-width:351px), (max-height: 197px)":{fontSize:i["default"].fontSizeXSmall}},t.message=i["default"].registerStyle(t.messageStyle),t.messageLoginVersionStyle={fontSize:20,margin:"24px 0",lineHeight:1,color:"#fff",userSelect:"none","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{fontSize:i["default"].fontSizeMedium},"@media (max-width:368px), (max-height: 197px)":{fontSize:i["default"].fontSizeXSmall}},t.messageLoginVersion=i["default"].registerStyle(t.messageLoginVersionStyle),t.svgIcon=a.svgIcon(),t.reloadStyle={color:"#fff",background:"none",textDecoration:"underline",border:"none",cursor:"pointer",outline:"none",margin:"8px auto 0","-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (min-width:352px) and (max-width: 511px), (min-height: 198px) and (max-height: 287px)":{fontSize:i["default"].fontSizeMedium},"@media (max-width:351px), (max-height: 197px)":{fontSize:i["default"].fontSizeXSmall}},t.reload=i["default"].registerStyle(t.reloadStyle),t.reloadIconStyle={display:"inline-block",width:20,height:20,position:"relative",marginRight:8,fill:"#fff",verticalAlign:"bottom","@media (min-width:352px) and (max-width: 511px), (min-height: 198px) and (max-height: 287px)":{width:16,height:16,marginRight:6},"@media (max-width:351px), (max-height: 197px)":{width:12,height:12,marginRight:4}},t.reloadIcon=i["default"].registerStyle(t.reloadIconStyle),t.videoFrame=i["default"].registerStyle({display:"flex",background:"rgba(244, 244, 244, 0.15)",width:573,height:146,margin:"0 auto",alignItems:"center","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{width:344,height:92},"@media (max-width:368px), (max-height: 197px)":{width:258,height:85}}),t.loginLinkStyle={position:"relative",width:322,height:56,background:"#4990e2",borderRadius:4,margin:"0 auto",cursor:"pointer","&:hover":{background:"#2576d7"},"@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{width:252,height:44},"@media (max-width:368px), (max-height: 197px)":{width:240,height:44}},t.loginLink=i["default"].registerStyle(t.loginLinkStyle),t.loginLinkButtonStyle={position:"absolute",fontSize:i["default"].fontSizeXXLarge,fontWeight:"bold",textDecoration:"none",color:"#ffffff",width:280,top:"50%",left:"50%",transform:"translateY(-50%) translateX(-50%)","-webkit-tranform":"translateY(-50%) translateX(-50%)","@media (min-width:369px) and (max-width: 611px), (min-height: 198px) and (max-height: 287px)":{fontSize:i["default"].fontSizeLarge},"@media (max-width:368px), (max-height: 197px)":{fontSize:i["default"].fontSizeSmall}},t.loginLinkButton=i["default"].registerStyle(t.loginLinkButtonStyle),t.invalidUrl=i["default"].registerStyle(n({},"."+t.root+" &",{color:"#666"}))},function(e,t,r){"use strict";function n(e){return e?o["default"].registerStyle(Object.assign({},i,e)):a}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i={position:"relative",display:"inline-block",verticalAlign:"middle",width:"100%",height:"100%",fill:"#fff",fillRule:"evenodd"},a=o["default"].registerStyle(i);t.svgIcon=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.NiconicoLogoWithTvChan=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 246 39"},e),n.createElement("path",{d:"M89.47 21.11a12.56 12.56 0 0 1 .63-3.89 11.85 11.85 0 0 1 1.85-3.56 10 10 0 0 1 2.93-2.55 7.46 7.46 0 0 1 3.89-1h13.82a2.44 2.44 0 1 1 0 4.88H99.83a5.73 5.73 0 0 0-2.86.63 5.42 5.42 0 0 0-1.72 1.55 5.56 5.56 0 0 0-.86 2 10.14 10.14 0 0 0-.23 2 34.33 34.33 0 0 0 .23 3.81 5.62 5.62 0 0 0 .86 2 5.33 5.33 0 0 0 1.72 1.54 5.65 5.65 0 0 0 2.86.64h12.76a2.44 2.44 0 1 1 0 4.87H98.26a6.75 6.75 0 0 1-3.69-1 9.56 9.56 0 0 1-2.75-2.62 12.38 12.38 0 0 1-1.75-3.57 27.3 27.3 0 0 1-.6-5.73zM62.86 8.81a21 21 0 0 1 5.07.64 11.79 11.79 0 0 1 3.54 1.85 10.3 10.3 0 0 1 2.61 2.94 7.68 7.68 0 0 1 1 3.91v13.89a2.43 2.43 0 1 1-4.85 0V19.22a5.76 5.76 0 0 0-.63-2.87 5.31 5.31 0 0 0-1.54-1.73 5.44 5.44 0 0 0-2-.86 23.46 23.46 0 0 0-3.2-.23 32.67 32.67 0 0 0-3.8.23 5.43 5.43 0 0 0-2 .86 5.19 5.19 0 0 0-1.54 1.73 5.71 5.71 0 0 0-.63 2.87v12.82a2.43 2.43 0 1 1-4.85 0v-14.4a6.84 6.84 0 0 1 1-3.71 9.48 9.48 0 0 1 2.61-2.77 12.2 12.2 0 0 1 3.56-1.75 27 27 0 0 1 5.65-.6zm22.65.85q0 2.33-3.13 2.33-2.94 0-2.94-2.33t2.94-2.39q3.13 0 3.13 2.39zm-.76 22.32a2.23 2.23 0 0 1-2.22 2.49c-1.41 0-2.13-1.14-2.13-2.49V17.17a1.81 1.81 0 0 1 2-2c1.54 0 2.32.73 2.32 2v14.81zm61.4-10.93a26.29 26.29 0 0 1-.63 5.7 11.79 11.79 0 0 1-1.85 3.55 10 10 0 0 1-2.93 2.61 7.52 7.52 0 0 1-3.89 1h-11.62a7.28 7.28 0 0 1-3.69-1.14 10.05 10.05 0 0 1-2.76-2.61 12.1 12.1 0 0 1-1.74-3.5 27 27 0 0 1-.6-5.62 12.62 12.62 0 0 1 .64-3.89 11.78 11.78 0 0 1 1.84-3.55 10.31 10.31 0 0 1 2.93-2.62 7.62 7.62 0 0 1 3.89-1h11.62a7.37 7.37 0 0 1 3.69 1.14 10.31 10.31 0 0 1 2.76 2.62 12.34 12.34 0 0 1 1.74 3.51 12.67 12.67 0 0 1 .6 3.8zm-10.36 8a5.6 5.6 0 0 0 2.83-.64 5.1 5.1 0 0 0 1.74-1.55 5.39 5.39 0 0 0 .86-2 33.06 33.06 0 0 0 .22-3.82 9.6 9.6 0 0 0-.22-2 5.4 5.4 0 0 0-.86-2 5.3 5.3 0 0 0-1.74-1.55 5.66 5.66 0 0 0-2.83-.63h-9a5.61 5.61 0 0 0-2.85.63 5.33 5.33 0 0 0-1.72 1.55 5.41 5.41 0 0 0-.86 2 9.61 9.61 0 0 0-.23 2 33.07 33.07 0 0 0 .23 3.82 5.41 5.41 0 0 0 .86 2 5.11 5.11 0 0 0 1.72 1.55 5.55 5.55 0 0 0 2.85.64h9zm53.66-7.94a12.6 12.6 0 0 1 .63-3.89 11.79 11.79 0 0 1 1.84-3.55 10.11 10.11 0 0 1 2.93-2.62 7.55 7.55 0 0 1 3.9-1h13.83a2.44 2.44 0 0 1 0 4.87h-12.77a5.64 5.64 0 0 0-2.85.63 5.3 5.3 0 0 0-1.72 1.55 5.55 5.55 0 0 0-.86 2 10.1 10.1 0 0 0-.23 2 34.59 34.59 0 0 0 .23 3.82 5.45 5.45 0 0 0 .86 2 5.21 5.21 0 0 0 1.72 1.55 5.64 5.64 0 0 0 2.85.63h12.77a2.44 2.44 0 0 1 0 4.88h-14.33a6.84 6.84 0 0 1-3.7-1 9.63 9.63 0 0 1-2.75-2.62 12.27 12.27 0 0 1-1.75-3.58 27.3 27.3 0 0 1-.6-5.67zM162.84 8.78a20.88 20.88 0 0 1 5.07.64 12.07 12.07 0 0 1 3.54 1.85 10.07 10.07 0 0 1 2.6 2.94 7.66 7.66 0 0 1 1 3.91v13.89a2.41 2.41 0 0 1-2.43 2.44 2.41 2.41 0 0 1-2.43-2.44V19.19a5.69 5.69 0 0 0-.64-2.87 5.23 5.23 0 0 0-3.54-2.59 24.85 24.85 0 0 0-3.2-.23 34.42 34.42 0 0 0-3.8.23 5.22 5.22 0 0 0-3.54 2.59 5.68 5.68 0 0 0-.63 2.87v12.82a2.41 2.41 0 0 1-2.43 2.44 2.43 2.43 0 0 1-2.43-2.44V17.62a6.9 6.9 0 0 1 1-3.71 9.56 9.56 0 0 1 2.6-2.76 12.17 12.17 0 0 1 3.56-1.75 27 27 0 0 1 5.7-.62zm22.65.86q0 2.33-3.13 2.34-2.93 0-2.93-2.34c0-1.6 1-2.39 2.93-2.39s3.13.79 3.13 2.39zm-.76 22.32a2.23 2.23 0 0 1-2.22 2.49c-1.42 0-2.13-1.14-2.13-2.49V17.11a1.81 1.81 0 0 1 2-2c1.56 0 2.33.73 2.33 2v14.81zm61.41-10.94a26.34 26.34 0 0 1-.64 5.7 11.78 11.78 0 0 1-1.84 3.55 10.11 10.11 0 0 1-2.93 2.61 7.48 7.48 0 0 1-3.89 1h-11.63a7.41 7.41 0 0 1-3.68-1.14 10.08 10.08 0 0 1-2.76-2.62 12.17 12.17 0 0 1-1.75-3.5 26.47 26.47 0 0 1-.61-5.62 12.81 12.81 0 0 1 .63-3.89 11.86 11.86 0 0 1 1.85-3.55 10 10 0 0 1 2.93-2.61 7.48 7.48 0 0 1 3.89-1h11.62a7.38 7.38 0 0 1 3.65 1.16 10.07 10.07 0 0 1 2.76 2.61 12.14 12.14 0 0 1 1.74 3.5 12.73 12.73 0 0 1 .66 3.8zm-10.37 8a5.67 5.67 0 0 0 2.83-.63 5.21 5.21 0 0 0 1.75-1.55 5.45 5.45 0 0 0 .86-2 34.9 34.9 0 0 0 .23-3.82 10.2 10.2 0 0 0-.23-2 5.45 5.45 0 0 0-.86-2 5.23 5.23 0 0 0-1.75-1.55 5.67 5.67 0 0 0-2.83-.63h-9a5.62 5.62 0 0 0-2.85.63 5.27 5.27 0 0 0-1.72 1.55 5.41 5.41 0 0 0-.86 2 10 10 0 0 0-.23 2 34.18 34.18 0 0 0 .23 3.82 5.41 5.41 0 0 0 .86 2 5.25 5.25 0 0 0 1.72 1.55 5.62 5.62 0 0 0 2.85.63h9zM-.02 12.11v19.42a3.25 3.25 0 0 0 3.26 3.24h3.85l2.1 3.39a.77.77 0 0 0 .68.37.79.79 0 0 0 .67-.37l2.1-3.39h11.27l2.07 3.34a.77.77 0 0 0 .68.37.78.78 0 0 0 .67-.37l2.1-3.39h4.25a3.24 3.24 0 0 0 3.3-3.18V12.11a3.24 3.24 0 0 0-3.26-3.23H21.4l7.16-7.12L26.78 0l-8.31 8.27L10.18.03 8.39 1.8l7.13 7.08H3.26a3.24 3.24 0 0 0-3.28 3.23z"}))},t.ReloadIcon=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M95.853 60.185a4 4 0 0 1 1.918 4.663C91.427 85.201 72.428 100 50 100c-17.573 0-33.04-9.085-41.958-22.811l-1.989 1.19A4 4 0 0 1 0 74.946V56.734a3.999 3.999 0 0 1 5.913-3.513l15.936 8.68a4 4 0 0 1 .14 6.946l-3.64 2.177C25.161 81.254 36.799 88 50 88c17.278 0 31.878-11.556 36.486-27.354a3.962 3.962 0 0 1 5.713-2.41c1.254.642 2.552 1.349 3.654 1.949zM4.147 39.815a4 4 0 0 1-1.918-4.663C8.573 14.799 27.572 0 50 0c17.573 0 33.04 9.085 41.958 22.811l1.989-1.19A4 4 0 0 1 100 25.054v18.212a3.999 3.999 0 0 1-5.913 3.513l-15.936-8.68a4 4 0 0 1-.14-6.946l3.64-2.177C74.839 18.746 63.201 12 50 12c-17.278 0-31.878 11.556-36.486 27.354a3.962 3.962 0 0 1-5.713 2.41c-1.254-.642-2.552-1.349-3.654-1.949z"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(12),i=function(e){var t=Object.assign({},e);return t.href=""+e.href+o["default"].objectToQuery(e.query),delete t.noLinkToNiconico,delete t.query,e.noLinkToNiconico?n.createElement("span",{className:t.className},e.children):n.createElement("a",Object.assign({},t,{rel:"noopener"}),e.children)};t["default"]=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(12),i=function(e){var t=Object.assign({},e);return t.href=""+e.href+o["default"].objectToQuery(e.query),delete t.query,n.createElement("a",Object.assign({},t,{rel:"noopener"}),e.children)};t["default"]=i},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a,l=r(23);!function(e){e.INVALID_URL="invalid_url",e.POSSIBLY_DELETED_VIDEO="possibly_deleted_video",e.TECHNICALLY_UNWATCHABLE="technically_unwatchable",e.UNWATCHABLE_DEVICE="unwatchable_device",e.EXTERNALLY_UNWATCHABLE="externally_unwatchable",e.PRIVATE_THREAD="private_thread",e.MAINTENANCE="maintenance",e.UNEXPECTED_ERROR="unexpected_error",e.WATCH_API_ERROR="watch_api_error",e.VIDEO_ERROR_DECODE="video_error_decode",e.VIDEO_ERROR_NETWORK="video_error_network",e.UNSUPPORTED_BROWSER="unsupported_browser"}(a=t.FatalErrorCode||(t.FatalErrorCode={}));var s=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.videoTitle=e.videoTitle,r.videoThumbnail=e.videoThumbnail,r.via=e.via,r.linkURL=e.linkURL,r.loginURL=e.loginURL,r}return i(t,e),t}(l.BaseError);t.FatalError=s},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function o(e){r(this,o),this.code=e.code,this.raw=e.raw,this.debug=e.debug};t.BaseError=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={possiblyDeletedVideo:"此動畫無法顯示\n可能是現在無法收看，或是已被刪除",technicallyUnwatchable:"登入niconico即可收看此動畫",externallyUnwatchable:"登入niconico即可收看此動畫",privateThread:"此動畫不允許在niconico動畫網站之外收看",unwatchableDevice:"無法使用此播放器收看",maintenance:"目前正在維護中\n請稍候片刻",unexpectedError:"發生錯誤\n您可以嘗試更新播放器改善問題",videoError:"發生錯誤\n很抱歉，麻煩您前往niconico動畫收看",watchApiError:"目前此播放器無法收看\n不好意思，請前往niconinco動畫收看",invalidUrlError:"此網址無效",fetchThreadsFail:"留言讀取失敗",forbidSeek:"上傳者設定無法移動時間軸",forbidComment:"上傳者設定此片段無法顯示留言",reloadPlayer:"更新播放器",showAllDescription:"看更多",showPartialDescription:"關閉說明文",unsupportedBrowser:"您使用的瀏覽器無法播放此動畫 \n請您確認%a%小幫手%a%後，使用支援的瀏覽器播放",redirectToNiconico:"請登入 或 註冊",labels:{share:"分享",videoDetail:"動畫資訊",videoDescription:"動畫說明文",close:"關閉",tag:"標籤",watchOnNiconico:"前往niconico收看",play:"播放",pause:"暫停",replay:"再看一次",mute:"靜音",unmute:"解除靜音",seekBack:"返回10秒",seekForward:"前進10秒",showComment:"顯示留言",hideComment:"不顯示留言",fullScreenOn:"全螢幕",fullScreenOff:"解除全螢幕"}};t["default"]=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(22),i=r(26);!function(e){function t(e,t){if(e instanceof o.FatalError)switch(e.code){case o.FatalErrorCode.INVALID_URL:return t.invalidUrlError;case o.FatalErrorCode.POSSIBLY_DELETED_VIDEO:return t.possiblyDeletedVideo;case o.FatalErrorCode.TECHNICALLY_UNWATCHABLE:return t.technicallyUnwatchable;case o.FatalErrorCode.UNWATCHABLE_DEVICE:return t.unwatchableDevice;case o.FatalErrorCode.EXTERNALLY_UNWATCHABLE:return t.externallyUnwatchable;case o.FatalErrorCode.PRIVATE_THREAD:return t.privateThread;case o.FatalErrorCode.MAINTENANCE:return t.maintenance;case o.FatalErrorCode.UNEXPECTED_ERROR:return t.unexpectedError;case o.FatalErrorCode.WATCH_API_ERROR:return t.watchApiError;case o.FatalErrorCode.VIDEO_ERROR_DECODE:return t.videoError;case o.FatalErrorCode.VIDEO_ERROR_NETWORK:return t.unexpectedError;case o.FatalErrorCode.UNSUPPORTED_BROWSER:return t.unsupportedBrowser}return e instanceof i.PlayerError?e.raw&&e.raw.message?e.raw.message:"":t.unexpectedError}e.getMessage=t}(n=t.ErrorMessageMap||(t.ErrorMessageMap={}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l,s=r(23);!function(e){e.VIDEO="video"}(l=t.PlayerErrorTarget||(t.PlayerErrorTarget={}));var u;!function(e){e.PLAY="play",e.SEEK="seek"}(u=t.PlayerErrorAction||(t.PlayerErrorAction={}));var c;!function(e){e.VIDEO_PLAY_PROMISE_REJECTED="video:play:promise_rejected",e.VIDEO_SEEK_FORBIDDEN="video:seek:forbidden"}(c=t.PlayerErrorCode||(t.PlayerErrorCode={}));var p=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.target=e.target,r.action=e.action,r}return i(t,e),a(t,null,[{key:"create",value:function(e,r,n,o,i){return new t({target:e,action:r,code:n,raw:o,debug:i})}}]),t}(s.BaseError);t.PlayerError=p},function(e,t,r){function n(e,t,r){var n=0,l=0;if(""===e)return e;if(!e||!a(e))throw new TypeError("First argument to react-string-replace#replaceString must be a string");var s=t;o(s)||(s=new RegExp("("+i(s)+")","gi"));for(var u=e.split(s),c=1,p=u.length;c<p;c+=2)l=u[c].length,n+=u[c-1].length,u[c]=r(u[c],c,n),n+=l;return u}var o=r(28),i=r(40),a=r(46),l=r(47);e.exports=function(e,t,r){return Array.isArray(e)||(e=[e]),l(e.map(function(e){return a(e)?n(e,t,r):e}))}},function(e,t,r){var n=r(29),o=r(37),i=r(38),a=i&&i.isRegExp,l=a?o(a):n;e.exports=l},function(e,t,r){function n(e){return i(e)&&o(e)==a}var o=r(30),i=r(36),a="[object RegExp]";e.exports=n},function(e,t,r){function n(e){return null==e?void 0===e?s:l:u&&u in Object(e)?i(e):a(e)}var o=r(31),i=r(34),a=r(35),l="[object Null]",s="[object Undefined]",u=o?o.toStringTag:void 0;e.exports=n},function(e,t,r){var n=r(32),o=n.Symbol;e.exports=o},function(e,t,r){var n=r(33),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(t,function(){return this}())},function(e,t,r){function n(e){var t=a.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(o){}var i=l.call(e);return n&&(t?e[s]=r:delete e[s]),i}var o=r(31),i=Object.prototype,a=i.hasOwnProperty,l=i.toString,s=o?o.toStringTag:void 0;e.exports=n},function(e,t){function r(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=r},function(e,t){function r(e){
return null!=e&&"object"==typeof e}e.exports=r},function(e,t){function r(e){return function(t){return e(t)}}e.exports=r},function(e,t,r){(function(e){var n=r(33),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o,l=a&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e?e:l&&l.binding&&l.binding("util")}catch(t){}}();e.exports=s}).call(t,r(39)(e))},function(e,t,r){e.exports=r(2)(537)},function(e,t,r){function n(e){return e=o(e),e&&a.test(e)?e.replace(i,"\\$&"):e}var o=r(41),i=/[\\^$.*+?()[\]{}|]/g,a=RegExp(i.source);e.exports=n},function(e,t,r){function n(e){return null==e?"":o(e)}var o=r(42);e.exports=n},function(e,t,r){function n(e){if("string"==typeof e)return e;if(a(e))return i(e,n)+"";if(l(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-s?"-0":t}var o=r(31),i=r(43),a=r(44),l=r(45),s=1/0,u=o?o.prototype:void 0,c=u?u.toString:void 0;e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){function n(e){return"symbol"==typeof e||i(e)&&o(e)==a}var o=r(30),i=r(36),a="[object Symbol]";e.exports=n},function(e,t,r){function n(e){return"string"==typeof e||!i(e)&&a(e)&&o(e)==l}var o=r(30),i=r(44),a=r(36),l="[object String]";e.exports=n},function(e,t,r){function n(e){var t=null==e?0:e.length;return t?o(e,1):[]}var o=r(48);e.exports=n},function(e,t,r){function n(e,t,r,a,l){var s=-1,u=e.length;for(r||(r=i),l||(l=[]);++s<u;){var c=e[s];t>0&&r(c)?t>1?n(c,t-1,r,a,l):o(l,c):a||(l[l.length]=c)}return l}var o=r(49),i=r(50);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){function n(e){return a(e)||i(e)||!!(l&&e&&e[l])}var o=r(31),i=r(51),a=r(44),l=o?o.isConcatSpreadable:void 0;e.exports=n},function(e,t,r){var n=r(52),o=r(36),i=Object.prototype,a=i.hasOwnProperty,l=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},function(e,t,r){function n(e){return i(e)&&o(e)==a}var o=r(30),i=r(36),a="[object Arguments]";e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(13),u=r(54),c=r(12),p=r(22),f=r(25),d=r(26),h=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.error,r=e.observer,n=s.parse(c["default"].getOrgRefererOnClient());this.connector=new u.PlayerIFrameConnector(s.parse(window.location.href,!0).query.playerId,n.protocol+"//"+n.host),this.connector.eventEmitter.emit(this.error2EventName(t),{code:t.code,message:f.ErrorMessageMap.getMessage(t,this.props.messages),raw:t.raw&&{name:t.raw.name,message:t.raw.message}}),r.onEmitErrorEvent()}},{key:"shouldComponentUpdate",value:function(e){return!1}},{key:"render",value:function(){return null}},{key:"error2EventName",value:function(e){return e instanceof p.FatalError?"error":e instanceof d.PlayerError?"player-error:"+e.target+":"+e.action:"error"}}]),t}(l.Component);t["default"]=h},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(55),s=function(){function e(t,r){var n=this;i(this,e),this.playerId=t,this.targetDomain=r,this._eventEmitter=new l.EventEmitter,this.messageEventFunction=function(e){n.receiveMessage(e)},window.addEventListener("message",this.messageEventFunction),Object.keys(this.listeningEvents()).forEach(function(e){return n.eventEmitter.on(e,function(t){return n.postMessage(e,t)})})}return a(e,[{key:"dispose",value:function(){window.removeEventListener("message",this.messageEventFunction),this._eventEmitter.removeAllListeners()}},{key:"receiveMessage",value:function(e){this.isTarget(e)&&this._eventEmitter.emit(e.data.eventName,e.data.data)}},{key:"isTarget",value:function(e){return e.origin===this.targetDomain&&(e.data.sourceConnectorType===this.targetConnectorType&&e.data.playerId===this.playerId)}},{key:"eventEmitter",get:function(){return this._eventEmitter}}]),e}();t.IFrameConnector=s;var u=function(e){function t(e,r,o){i(this,t);var a=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return a.iframeElement=o,a.connectorType=s.ConnectorType.controller,a.targetConnectorType=s.ConnectorType.player,a}return o(t,e),a(t,[{key:"postMessage",value:function(e,t){this.iframeElement.contentWindow.postMessage({sourceConnectorType:this.connectorType,playerId:this.playerId,eventName:e,data:t},this.targetDomain)}},{key:"listeningEvents",value:function(){return{play:!0,pause:!0,seek:!0,mute:!0,volumeChange:!0}}}]),t}(s);t.ControllerIFrameConnector=u;var c=function(e){function t(){i(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.connectorType=s.ConnectorType.player,e.targetConnectorType=s.ConnectorType.controller,e}return o(t,e),a(t,[{key:"postMessage",value:function(e,t){window.parent.postMessage({sourceConnectorType:this.connectorType,playerId:this.playerId,eventName:e,data:t},this.targetDomain)}}]),t}(s);t.PlayerIFrameConnectorBase=c;var p=function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"listeningEvents",value:function(){return{loadComplete:!0,error:!0,statusChange:!0,playerStatusChange:!0,seekStatusChange:!0,playerMetadataChange:!0,"player-error:video:play":!0,"player-error:video:seek":!0}}}]),t}(c);t.PlayerIFrameConnector=p;var f=function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"listeningEvents",value:function(){return{enterProgrammaticFullScreen:!0,exitProgrammaticFullScreen:!0}}}]),t}(c);t.PlayerFullScreenIFrameConnector=f,function(e){var t=void 0;!function(e){e[e.player=0]="player",e[e.controller=1]="controller"}(t=e.ConnectorType||(e.ConnectorType={})),e.programmaticFullScreen=function(e){function t(){if(!a){var t=window.innerWidth>=window.innerHeight,o=(t?window.innerWidth:window.innerHeight)+"px",i=(t?window.innerHeight:window.innerWidth)+"px";e.style.width===o&&e.style.height===i||(e.style.setProperty("width",o,"important"),e.style.setProperty("height",i,"important"),window.scrollTo(0,0)),t!==u&&(u=t,t?(e.style.setProperty("transform","none","important"),e.style.setProperty("-webkit-transform","none","important"),e.style.setProperty("left","0","important")):(e.style.setProperty("transform","rotate(90deg)","important"),e.style.setProperty("-webkit-transform","rotate(90deg)","important"),e.style.setProperty("left","100%","important"))),n=setTimeout(r,200)}}function r(){window.requestAnimationFrame?window.requestAnimationFrame(t):t()}var n,o=["width","height","top","left","position","z-index","max-width","transform","-webkit-transform","transform-origin","-webkit-transform-origin"],i=o.reduce(function(t,r){return t[r]={value:e.style.getPropertyValue(r),priority:e.style.getPropertyPriority(r)},t},{}),a=!1,l=window.scrollX,s=window.scrollY,u=null;return r(),e.style.setProperty("top","0","important"),e.style.setProperty("position","fixed","important"),e.style.setProperty("z-index","2147483647","important"),e.style.setProperty("max-width","none","important"),e.style.setProperty("transform-origin","0% 0%","important"),e.style.setProperty("-webkit-transform-origin","0% 0%","important"),function(){o.forEach(function(t){var r=i[t];e.style.removeProperty(t),e.style.setProperty(t,r.value,r.priority)}),clearTimeout(n),a=!0,window.scrollTo(l,s)}}}(s=t.IFrameConnector||(t.IFrameConnector={}))},function(e,t,r){e.exports=r(2)(356)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){function t(e){var t=window!==window.parent;if(e.isSp&&!t)return void(location.href=e.nicovideoSpwebServerUrl+"/watch/"+e.videoWatchId)}e.invoke=t}(r||(r={})),t["default"]=r},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s,u=r(4),c=r(58),p=r(60),f=r(146),d=r(154),h=r(155),m=r(158),b=r(159),y=r(161),v=r(91),g=r(162),w=r(16),S=r(86),_=r(169),E=r(12),k=r(13),x=r(22),O=r(53);!function(e){function t(e){var t=function(t){function r(t){o(this,r);var n=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));n.state={playRequest:0,pendingPlayRequest:0,playerStatus:0,currentTimeMs:t.fromMs,seekStatus:0,fullScreen:!1,showComment:!t.playOption.defaultNoComment,mute:t.playOption.mute,volume:.5,playerOverlay:0,controllingVolume:!1,recentVolumeControl:!1,recentUserAction:!1,maximumSeekableMs:0,maximumBufferedMs:0,incrementViewCounter:!0,reverseOwnerThread:!1,reverseNonOwnerThread:!1,forbidSeek:!1,forbidComment:!1,relatedVideoListPage:0,unintendedHover:!1,contentAreaSize:{width:0,height:0}};var a=E["default"].createProtocolAdjuster(n.props.isHttps);return n.observer=new g["default"](n,e,a),n.immutable=Object.assign({adjustProtocol:a},n.props),n}return a(r,t),l(r,[{key:"render",value:function(){var t,r=v["default"].mutableWithComputed(this.state);return u.createElement("div",{id:c.rootElementId,className:S(c.fillParent,(t={},n(t,c.sp,this.props.isSp),n(t,c.unintendedHover,this.state.unintendedHover),n(t,c.androidStandardBrowser,this.props.androidStandardBrowser),t))},u.createElement(p["default"],{immutable:this.immutable,mutable:r,observer:this.observer,messages:e}),this.state.error instanceof x.FatalError?null:u.createElement(f["default"],{immutable:this.immutable,mutable:r,observer:this.observer}),u.createElement(d["default"],{immutable:this.immutable,mutable:r,observer:this.observer}),u.createElement(h["default"],{immutable:this.immutable,mutable:r,observer:this.observer}),u.createElement(_["default"],{immutable:this.immutable,mutable:r,observer:this.observer}),this.props.playOption.noRelatedVideo||this.props.playOption.noLinkToNiconico?null:u.createElement(b["default"],{immutable:this.immutable,mutable:r,observer:this.observer}),u.createElement(y["default"],{immutable:this.immutable,mutable:r}),this.props.jsApiEnable?u.createElement(m["default"],{immutable:this.immutable,mutable:r,observer:this.observer}):null,this.state.error instanceof x.FatalError&&u.createElement(w["default"],{observer:this.observer,error:this.state.error,playOption:this.props.playOption,jsApiEnable:this.props.jsApiEnable,nicovideoServerUrl:this.props.nicovideoServerUrl,referer:k.parse(this.props.parentUrl).hostname,messages:e}),this.props.jsApiEnable&&this.state.error&&u.createElement(O["default"],{observer:this.observer,error:this.state.error,messages:e}))}},{key:"componentDidMount",value:function(){this.observer.onMount()}}]),r}(u.Component);return t}e.create=t}(s||(s={})),t["default"]=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59);t.rootElementId="rootElementId",t.sp="sp",t.unintendedHover="unintendedHover",t.androidStandardBrowser="androidStandardBrowser",t.enabledHover="#"+t.rootElementId+":not(."+t.unintendedHover+")",t.disabledHover="#"+t.rootElementId+"."+t.unintendedHover,t.fillParent=n.fillParent()},function(e,t,r){"use strict";function n(e){return e?o["default"].registerStyle(Object.assign({},i,e)):a}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i={width:"100%",height:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,userSelect:"none",overflow:"hidden","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},a=o["default"].registerStyle(i);t.fillParent=n},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(61),c=r(65),p=r(68),f=r(104),d=r(105),h=r(110),m=r(112),b=r(114),y=r(118),v=r(120),g=r(1),w=r(140),S=r(86),_=r(141),E=r(64),k=r(143),x=E["default"].create(function(e,t){return function(r){function E(){o(this,E);var r=i(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments));return r.element=null,r.clientWidth=-1,r.clientHeight=-1,r.onResize=function(){var e=r.element,t=e.clientWidth,n=e.clientHeight;r.clientWidth===t&&r.clientHeight===n||r.resizeContentArea(t,n)},r.onBlur=function(){return r.props.observer.onBlurWindow()},r.propsForChildren=t,r.mutableChanged=e,r}return a(E,r),l(E,[{key:"componentDidMount",value:function(){var e=this;this.fullScreen=k["default"].create(g.findDOMNode(this),this.props.immutable),this.fullScreen.enabled&&(this.fullScreen.addFullScreenChangeListener(function(){e.fullScreen&&e.props.observer.onFullScreenChanged(e.fullScreen.isFullScreen)}),this.fullScreen.onError(function(t){e.fullScreen=t,e.fullScreen.enabled?e.props.mutable.fullScreen&&e.props.observer.onToggleFullScreen():e.props.observer.setFullScreenAvailable(!1)}),this.props.observer.setFullScreenAvailable(!0)),window.addEventListener("resize",this.onResize),window.addEventListener("blur",this.onBlur),this.resizeContentArea(this.element.clientWidth,this.element.clientHeight)}},{key:"componentWillUnmount",value:function(){this.fullScreen&&this.fullScreen.enabled&&this.fullScreen.dispose(),window.removeEventListener("resize",this.onResize),window.removeEventListener("blur",this.onBlur)}},{key:"render",value:function(){var e,t=this,r=this.props.mutable,o=r.playerStatus,i=r.controllingPlayer,a=w.started;return 0===o?a=w.unplayed:4===o&&(a=w.finished),s.createElement("div",{className:w.root,ref:function(e){return t.element=e}},s.createElement("div",{className:w.background}),s.createElement("div",{style:this.props.mutable.contentAreaSize,className:w.contentArea},s.createElement(u["default"],Object.assign({},this.propsForChildren())),s.createElement(c["default"],Object.assign({},this.propsForChildren())),s.createElement(_["default"],{isLoading:this.isLoading(this.props)})),s.createElement("div",{className:S(w.player,a,(e={},n(e,w.controlling,i),n(e,w.fullScreen,this.props.mutable.fullScreen),n(e,w.sp,this.props.immutable.isSp),e)),onTouchStart:function(e){return t.props.observer.onTouchStartPlayer(m["default"].isEventTargetedToSurface(e.target),t.fullScreen.isProgrammatic,e)},onMouseMove:function(){return t.props.observer.onMouseMovePlayer()},onMouseLeave:function(){return t.props.observer.onUserAction(!0)},onClick:function(){return t.props.observer.onClickPlayer()}},s.createElement(m["default"],Object.assign({},this.propsForChildren())),this.props.immutable.playOption.noRelatedVideo||this.props.immutable.playOption.noLinkToNiconico?null:s.createElement(b["default"],Object.assign({},this.propsForChildren())),this.props.immutable.showAds?s.createElement(d["default"],Object.assign({},this.propsForChildren())):null,this.props.immutable.playOption.noController?null:s.createElement(p["default"],Object.assign({},this.propsForChildren())),s.createElement(y["default"],Object.assign({},this.propsForChildren())),this.props.immutable.playOption.noHeader?null:s.createElement(v["default"],Object.assign({},this.propsForChildren()))),s.createElement(f["default"],Object.assign({},this.propsForChildren())),s.createElement(h["default"],Object.assign({},this.propsForChildren())))}},{key:"shouldComponentUpdate",value:function(e){var t=this.mutableChanged(e);return this.fullScreen&&this.fullScreen.enabled?e.mutable.fullScreen===this.props.mutable.fullScreen?t:(e.mutable.fullScreen?this.fullScreen.request():this.fullScreen.exit(),t):t}},{key:"isLoading",value:function(e){return 1===e.mutable.playerStatus||(5===e.immutable.browser.type?2===e.mutable.seekStatus&&3!==e.mutable.playerStatus:2===e.mutable.seekStatus)}},{key:"resizeContentArea",value:function(e,t){this.clientWidth=e,this.clientHeight=t,this.props.observer.onResizePlayer(e,t)}}]),E}(s.Component)},{playerStatus:!0,seekStatus:!0,fullScreen:!0,controllingPlayer:!0,contentAreaSize:!0},u["default"],c["default"],m["default"],b["default"],d["default"],p["default"],y["default"],v["default"],f["default"],h["default"]);t["default"]=x},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(62),u=r(63),c=r(64),p=c["default"].create(function(){var e;return e=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onceLoaded=!1,e.isWaitingForFirstPlayAfterSrcReplaced=!1,e.isAndroidBrowserPendingTimeUpdate=!1,e}return i(t,e),a(t,[{key:"getVideoStyle",value:function(){if(!this.props.mutable.showComment)return u.defaultVideo;switch(this.props.immutable.backCommentMode){case 1:return u.normalBackgroundVideo;case 2:return u.largeBackgroundVideo;case 3:return u.cinemaBackgroundVideo;case 4:return u.wideBackgroundVideo;default:return u.defaultVideo}}},{key:"render",value:function(){return l.createElement("div",{id:t.ROOT_ELEMENT_ID,className:this.getVideoStyle()})}},{key:"componentDidMount",value:function(){var e=this;this.videoPlayer=new s["default"](t.ROOT_ELEMENT_ID,{muted:this.props.immutable.playOption.mute});var r=this.props.observer;this.videoPlayer.event("play").on(function(){r.onVideoPlay(),e.isWaitingForFirstPlayAfterSrcReplaced&&(e.props.mutable.currentTimeMs&&e.videoPlayer.currentTime(e.props.mutable.currentTimeMs/1e3),e.isWaitingForFirstPlayAfterSrcReplaced=!1,e.isAndroidBrowserPendingTimeUpdate=!!e.props.mutable.currentTimeMs&&5===e.props.immutable.browser.type)}).event("pause").on(function(){return r.onVideoPause()}).event("timeupdate").on(function(){if(e.videoPlayer.paused()&&!e.videoPlayer.ended()||(e.isAndroidBrowserPendingTimeUpdate&&(e.isAndroidBrowserPendingTimeUpdate=e.videoPlayer.currentTime()<e.props.mutable.currentTimeMs/1e3),e.isAndroidBrowserPendingTimeUpdate?e.videoPlayer.currentTime(e.props.mutable.currentTimeMs/1e3):e.isWaitingForFirstPlayAfterSrcReplaced||r.onTimeUpdate(e.videoPlayer.buffered())),e.videoPlayer.currentTime()===e.videoPlayer.duration()&&e.videoPlayer.ended()){if(5===e.props.immutable.browser.type)return;r.onVideoEnd()}}).event("durationchange").on(function(){return r.onDurationChange(1e3*e.videoPlayer.duration())}).event("progress").on(function(){return r.onProgress(e.videoPlayer.buffered())}).event("seeked").on(function(){return r.onVideoSeeked()}).event("ended").on(function(){return r.onVideoEnd()}).event("loadedmetadata").on(function(){return r.onVideoLoadedMetaData()}).event("error").on(function(){return r.onVideoError(e.videoPlayer.error())}),r.onVideoMount(function(){return 1e3*e.videoPlayer.currentTime()});var n=this.videoPlayer.element();n.setAttribute("playsinline","playsinline"),n.setAttribute("webkit-playsinline","webkit-playsinline"),this.props.immutable.playOption.autoplay&&this.videoPlayer.event("canplay").once(function(){e.videoPlayer.play()["catch"](function(e){return r.onVideoAutoplayRejected(e)})})}},{key:"shouldComponentUpdate",value:function(e){var t=this,r=e.mutable,n=r.contentUrl,o=r.playRequest,i=r.playerStatus,a=r.seekStatus,l=r.currentTimeMs,s=r.mute,u=r.volume,c=r.showComment,p=c!==this.props.mutable.showComment;1!==i||this.onceLoaded||(this.videoPlayer.load(),this.onceLoaded=!0);var f=!1;if(n&&this.props.mutable.contentUrl!==n&&(this.videoPlayer.src(n),this.isWaitingForFirstPlayAfterSrcReplaced=!0,this.videoPlayer.load()),2!==a||this.props.mutable.seekStatus===a&&this.props.mutable.currentTimeMs===l||(f=!0),s!==this.props.mutable.mute&&this.videoPlayer.muted(s),u!==this.props.mutable.volume&&this.videoPlayer.volume(u),0!==o){var d=void 0;return this.videoPlayer.paused()?(f&&this.videoPlayer.currentTime(l/1e3),1===o?this.videoPlayer.play()["catch"](function(e){t.props.observer.onPlayPromiseRejected(e)}):d=3):(2===o?this.videoPlayer.pause():d=2,f&&this.videoPlayer.currentTime(l/1e3)),this.props.observer.onPlayRequestAccepted(d),p}return f&&this.videoPlayer.currentTime(l/1e3),p}}]),t}(l.Component),e.ROOT_ELEMENT_ID="video",e},{contentUrl:!0,playRequest:!0,playerStatus:!0,seekStatus:!0,currentTimeMs:!0,mute:!0,volume:!0,showComment:!0});t["default"]=p},function(e,t,r){e.exports=r(2)(599)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59),o={"& video":{position:"absolute"},"& video::-webkit-media-controls-start-playback-button":{display:"none !important"},"& video::-webkit-media-controls-overlay-play-button":{display:"none !important"}},i=Object.assign({},o,{width:"80%",height:"80%",top:"10%",left:"10%",right:"10%",bottom:"10%"}),a=Object.assign({},o,{width:"80%",height:"80%",top:"20%",left:"10%",right:"10%",bottom:0}),l=Object.assign({},o,{top:"-10%",left:0,right:0,bottom:"10%"}),s=Object.assign({},o,{width:"80%",height:"80%",top:0,left:"10%",right:"10%",bottom:"20%"});t.defaultVideo=n.fillParent(o),t.normalBackgroundVideo=n.fillParent(i),t.largeBackgroundVideo=n.fillParent(a),t.cinemaBackgroundVideo=n.fillParent(l),t.wideBackgroundVideo=n.fillParent(s)},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){function t(e,t){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var a=Object.assign.apply(null,[{},t].concat(r(o.map(function(e){return e.mutableToUse}))));return Object.assign(e(function(e){var t=this;return e.mutable&&this.props.mutable?Object.keys(a).some(function(r){return e.mutable[r]!==t.props.mutable[r]}):e.mutable!==this.props.mutable},function(){return this.props}),{mutableToUse:a})}e.create=t}(n||(n={})),t["default"]=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(66),u=r(64),c=r(67),p={heightRatio:.2,offsetTopRatio:.8},f=u["default"].create(function(){var e;return e=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.className=e.getClassName(),e}return i(t,e),a(t,[{key:"render",value:function(){return l.createElement("div",{id:t.ROOT_ELEMENT_ID,className:this.className})}},{key:"componentDidMount",value:function(){var e=this,r=5===this.props.immutable.browser.type;r&&(s["default"].frameRate=24),this.commentRenderer=new s["default"](t.ROOT_ELEMENT_ID,{processUpdatingContentTime:function(){var t=e.props.mutable,r=t.getCurrentVideoTimeMs,n=void 0===r?function(){return 0}:r,o=t.currentTimeMs,i=t.seekStatus;switch(i){case 0:return n();case 1:return o;default:return Math.max(n(),o)}},resolution:r?1:2,contentLengthMs:1e3*this.props.immutable.lengthInSeconds,stagingCommentsIntervalMs:r?250:s["default"].AUTO_STAGING_COMMENTS_INTERVAL}),this.commentRenderer.visible=this.props.mutable.showComment,this.props.observer.onCommentRendererInitialized(this.commentRenderer.createThread.bind(this.commentRenderer))}},{key:"shouldComponentUpdate",value:function(e){var t=e.mutable,r=t.playerStatus,n=t.threadProcessors,o=t.showComment,i=t.currentTimeMs,a=t.durationMs,l=t.forbidComment,s=t.reverseOwnerThread,u=t.reverseNonOwnerThread,c=e.immutable,f=c.backCommentMode,d=c.browser,h=c.fromMs,m=e.mutable.contentAreaSize,b=this.props.mutable.contentAreaSize;if(b.width===m.width&&b.height===m.height||this.commentRenderer.onResizedParent(),n&&n!==this.props.mutable.threadProcessors){n.community&&n.normal&&(this.commentRenderer.getThreadEffectControl(n.normal).alpha=.5);var y=this.commentRenderer.getAllThreadEffectControl(),v=f;3!==v&&4!==v||(y.renderArea=p),this.onUpdateReverseNonOwnerThread(n,u),this.onUpdateReverseOwnerThread(n,s)}else u!==this.props.mutable.reverseNonOwnerThread&&this.onUpdateReverseNonOwnerThread(n,u),s!==this.props.mutable.reverseOwnerThread&&this.onUpdateReverseOwnerThread(n,s);switch("undefined"!=typeof a&&a!==this.commentRenderer.contentLengthMs&&(5===d.type?i!==h&&(this.commentRenderer.contentLengthMs=a):this.commentRenderer.contentLengthMs=a),o===this.props.mutable.showComment&&l===this.props.mutable.forbidComment||(this.commentRenderer.visible=!l&&o),r){case this.props.mutable.playerStatus:break;case 2:this.commentRenderer.play();break;case 3:case 4:this.commentRenderer.pause()}return!1}},{key:"onUpdateReverseNonOwnerThread",value:function(e,t){if(e){var r=this.commentRenderer.getThreadEffectControl([e.normal,e.community].filter(Boolean));r&&(r.reverseMoving=t)}}},{key:"onUpdateReverseOwnerThread",value:function(e,t){if(e&&e.owner){var r=this.commentRenderer.getThreadEffectControl(e.owner);r&&(r.reverseMoving=t)}}},{key:"getClassName",value:function(){return 1===this.props.immutable.backCommentMode||2===this.props.immutable.backCommentMode||4===this.props.immutable.backCommentMode?c.backgroundComment:c.defaultComment}}]),t}(l.Component),e.ROOT_ELEMENT_ID="comment",e},{playerStatus:!0,currentTimeMs:!0,durationMs:!0,getCurrentVideoTimeMs:!0,threadProcessors:!0,seekStatus:!0,showComment:!0,reverseOwnerThread:!0,reverseNonOwnerThread:!0,forbidComment:!0,contentAreaSize:!0});t["default"]=f},function(e,t,r){e.exports=r(2)(172)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(59),o=r(5);t.defaultComment=n.fillParent(),t.backgroundComment=n.fillParent({zIndex:o["default"].zIndexBelow})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(69),c=r(78),p=r(80),f=r(84),d=r(87),h=r(89),m=r(95),b=r(98),y=r(101),v=r(92),g=r(86),w=r(64),S=w["default"].create(function(e,r){return t.PcController=function(t){function c(){o(this,c);var t=i(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments));return t.shouldComponentUpdate=e,t.propsForChildren=r,t}return a(c,t),l(c,[{key:"render",value:function(){return s.createElement("div",{className:g(v.root,n({},v.hidden,0!==this.props.mutable.playerOverlay))},s.createElement("div",{className:v.controller},s.createElement(d["default"],Object.assign({},this.propsForChildren())),s.createElement("div",{className:v.container},s.createElement("div",{className:v.inner},s.createElement(u["default"],Object.assign({},this.propsForChildren())),s.createElement(y["default"],Object.assign({},this.propsForChildren())),s.createElement(b["default"],Object.assign({},this.propsForChildren()))),s.createElement("div",{
className:v.inner+" "+v.center},s.createElement(p["default"],Object.assign({},this.propsForChildren()),s.createElement(f["default"],Object.assign({},this.propsForChildren())))),s.createElement("div",{className:v.inner},s.createElement(h["default"],Object.assign({},this.propsForChildren())),s.createElement(m["default"],Object.assign({},this.propsForChildren()))))))}}]),c}(s.Component),t.SpController=function(t){function h(){o(this,h);var t=i(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments));return t.state={hiddenByVideoStart:!1},t.shouldComponentUpdate=e,t.propsForChildren=r,t}return a(h,t),l(h,[{key:"componentWillReceiveProps",value:function(e){var t=e.mutable.playerStatus,r=this.props.mutable.playerStatus;t!==r&&(0===r?this.setState({hiddenByVideoStart:!0}):this.setState({hiddenByVideoStart:!1}))}},{key:"render",value:function(){return s.createElement("div",{className:g(v.root,n({},v.hidden,0!==this.props.mutable.playerOverlay||this.state.hiddenByVideoStart))},s.createElement("div",{className:v.spUpperController},s.createElement(p["default"],Object.assign({},this.propsForChildren()),s.createElement(u["default"],Object.assign({},this.propsForChildren())))),s.createElement("div",{className:v.controller},s.createElement("div",{className:v.spContainer},s.createElement("div",{className:v.spInner},s.createElement(d["default"],Object.assign({},this.propsForChildren()))),s.createElement("div",{className:v.spInner},s.createElement(f["default"],Object.assign({},this.propsForChildren()))),s.createElement(c["default"],Object.assign({},this.propsForChildren())),s.createElement("div",{className:v.spInner},s.createElement(b["default"],Object.assign({},this.propsForChildren())),s.createElement(m["default"],Object.assign({},this.propsForChildren()))))))}}]),h}(s.Component),function(e){var r=e.immutable.isSp?t.SpController:t.PcController;return s.createElement(r,Object.assign({},e))}},{playerOverlay:!0,playerStatus:!0},d["default"],u["default"],y["default"],p["default"],f["default"],b["default"],m["default"],c["default"],h["default"]);t["default"]=S},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(70),u=r(76),c=r(77),p=r(64),f=p["default"].create(function(e){return function(t){function r(){n(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return i(r,t),a(r,[{key:"render",value:function(){var e=this.getOnClickAndIcon(),t=e.onClick,r=e.Icon,n=e.title;return l.createElement(c["default"],{className:s.playToggleButton,onClick:t,"data-title":n},l.createElement(r,{className:s.playToggleButtonIcon}))}},{key:"getOnClickAndIcon",value:function(){var e=this.props.observer,t=this.props.mutable,r=t.playerStatus,n=t.pendingPlayRequest,o=t.playRequest,i={onClick:function(){return e.onClickPlay()},Icon:u.Play,title:this.props.messages.labels.play},a={onClick:function(){return e.onClickPause()},Icon:u.Pause,title:this.props.messages.labels.pause},l={onClick:function(){e.onClickReplay(),e.countReplay()},Icon:u.Replay,title:this.props.messages.labels.replay};if(0!==n)return 2===n?i:a;switch(r){case 0:case 3:return i;case 1:return 2===o?i:a;case 2:return a;case 4:return l}throw new Error("unknown playerStatus")}}]),r}(l.Component)},{playerStatus:!0,pendingPlayRequest:!0,playRequest:!0});t["default"]=f},function(e,t,r){(function(e){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i;Object.defineProperty(t,"__esModule",{value:!0});var a=r(75);t.playToggleButton=a.actionButton((o={minWidth:34,width:46},n(o,a.toolTipPropName,a.toolTipStyle({left:0,transform:null})),n(o,".sp &",{width:62,height:62,padding:0,margin:"0 40px","-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 479px), (max-height: 269px)":{width:40,height:40}}),n(o,".sp .unplayed &",{margin:"0 16px",width:84,height:84,background:"url(data:image/svg+xml;base64,"+new e('<svg viewBox="0 0 73 76" xmlns="http://www.w3.org/2000/svg"><path d="M0 23.65v37.89a6.36 6.36 0 0 0 6.39 6.32h7.53l4.12 6.61a1.51 1.51 0 0 0 1.34.72 1.53 1.53 0 0 0 1.31-.72l4.12-6.61h22.11l4.12 6.61a1.51 1.51 0 0 0 1.34.72 1.53 1.53 0 0 0 1.31-.72l4.13-6.61h8.36a6.35 6.35 0 0 0 6.39-6.32V23.65a6.35 6.35 0 0 0-6.39-6.32H41.99L56.05 3.44 52.56-.03 36.23 16.11 19.92.06l-3.5 3.45 14 13.82h-24A6.36 6.36 0 0 0 0 23.65z" style="fill:rgba(0,0,0,.8);stroke:rgba(66,66,66,.8);"/></svg>').toString("base64")+") no-repeat 50% 50%",border:"none",transition:"all .1s ease",cursor:"pointer",outline:"none",paddingTop:10,"-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 479px), (max-height: 269px)":{width:56,height:56,paddingTop:4}}),n(o,".sp .started &:active",{stroke:"#ccc",filter:"drop-shadow(0 0 4px rgba(255, 255, 255, 1))"}),o)),t.playToggleButtonIcon=a.svgIcon(t.playToggleButton,(i={height:16},n(i,".sp &",{height:40,fill:"rgba(255, 255, 255, .9)",stroke:"#666","@media (max-width: 479px), (max-height: 269px)":{height:26}}),n(i,".sp .unplayed ."+t.playToggleButton+":active &",{fill:"#fff",filter:"none"}),n(i,".sp .unplayed &, .sp:active .unplayed &",{height:24,fill:"rgba(255, 255, 255, .8)","@media (max-width: 479px), (max-height: 269px)":{height:16}}),i))}).call(t,r(71).Buffer)},function(e,t,r){(function(e,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,r){if(i()<r)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=e.prototype):(null===t&&(t=new e(r)),t.length=r),t}function e(t,r,n){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,r,n);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return l(this,t,r,n)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,r,n):"string"==typeof t?p(e,t,r):h(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function u(e,t,r,n){return s(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}function c(t,r){if(s(r),t=a(t,r<0?0:0|m(r)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function p(t,r,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|y(r,n);t=a(t,o);var i=t.write(r,n);return i!==o&&(t=t.slice(0,i)),t}function f(e,t){var r=t.length<0?0:0|m(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(t,r,n,o){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return r=void 0===n&&void 0===o?new Uint8Array(r):void 0===o?new Uint8Array(r,n):new Uint8Array(r,n,o),e.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=e.prototype):t=f(t,r),t}function h(t,r){if(e.isBuffer(r)){var n=0|m(r.length);return t=a(t,n),0===t.length?t:(r.copy(t,0,0,n),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||Q(r.length)?a(t,0):f(t,r);if("Buffer"===r.type&&$(r.data))return f(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function b(t){return+t!=t&&(t=0),e.alloc(+t)}function y(t,r){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(t).length;default:if(o)return q(t).length;r=(""+r).toLowerCase(),o=!0}}function v(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return M(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function w(t,r,n,o,i){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof r&&(r=e.from(r,o)),e.isBuffer(r))return 0===r.length?-1:S(t,r,n,o,i);if("number"==typeof r)return r=255&r,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):S(t,[r],n,o,i);throw new TypeError("val must be string, number or Buffer")}function S(e,t,r,n,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,l=e.length,s=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,l/=2,s/=2,r/=2}var u;if(o){var c=-1;for(u=r;u<l;u++)if(i(e,u)===i(t,c===-1?0:u-c)){if(c===-1&&(c=u),u-c+1===s)return c*a}else c!==-1&&(u-=u-c),c=-1}else for(r+s>l&&(r=l-s),u=r;u>=0;u--){for(var p=!0,f=0;f<s;f++)if(i(e,u+f)!==i(t,f)){p=!1;break}if(p)return u}return-1}function _(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var l=parseInt(t.substr(2*a,2),16);if(isNaN(l))return a;e[r+a]=l}return a}function E(e,t,r,n){return G(q(t,e.length-r),e,r,n)}function k(e,t,r,n){return G(Y(t),e,r,n)}function x(e,t,r,n){return k(e,t,r,n)}function O(e,t,r,n){return G(X(t),e,r,n)}function P(e,t,r,n){return G(K(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],a=null,l=i>239?4:i>223?3:i>191?2:1;if(o+l<=r){var s,u,c,p;switch(l){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128===(192&s)&&(p=(31&i)<<6|63&s,p>127&&(a=p));break;case 3:s=e[o+1],u=e[o+2],128===(192&s)&&128===(192&u)&&(p=(15&i)<<12|(63&s)<<6|63&u,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:s=e[o+1],u=e[o+2],c=e[o+3],128===(192&s)&&128===(192&u)&&128===(192&c)&&(p=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&c,p>65535&&p<1114112&&(a=p))}}null===a?(a=65533,l=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=l}return j(n)}function j(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ee));return r}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function I(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=W(e[i]);return o}function L(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function A(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,r,n,o,i,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<a)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function B(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function U(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function z(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,o){return o||z(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(e,t,r,n,23,4),r+4}function V(e,t,r,n,o){return o||z(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(e,t,r,n,52,8),r+8}function F(e){if(e=H(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function H(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function Y(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function K(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function X(e){return J.toByteArray(F(e))}function G(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function Q(e){return e!==e}var J=r(72),Z=r(73),$=r(74);t.Buffer=e,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=i(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,r){return l(null,e,t,r)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,r){return u(null,e,t,r)},e.allocUnsafe=function(e){return c(null,e)},e.allocUnsafeSlow=function(e){return c(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,o=r.length,i=0,a=Math.min(n,o);i<a;++i)if(t[i]!==r[i]){n=t[i],o=r[i];break}return n<o?-1:o<n?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var o=e.allocUnsafe(r),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},e.byteLength=y,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):v.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,r,n,o,i){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),r<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var a=i-o,l=n-r,s=Math.min(a,l),u=this.slice(o,i),c=t.slice(r,n),p=0;p<s;++p)if(u[p]!==c[p]){a=u[p],l=c[p];break}return a<l?-1:l<a?1:0},e.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},e.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},e.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},e.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return E(this,e,t,r);case"ascii":return k(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return O(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=this.subarray(t,r),o.__proto__=e.prototype;else{var i=r-t;o=new e(i,(void 0));for(var a=0;a<i;++a)o[a]=this[a+t]}return o},e.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||A(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},e.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||A(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},e.prototype.readUInt8=function(e,t){return t||A(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||A(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||A(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||A(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||A(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||A(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||A(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt16BE=function(e,t){t||A(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt32LE=function(e,t){return t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||A(e,4,this.length),Z.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||A(e,4,this.length),Z.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||A(e,8,this.length),Z.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||A(e,8,this.length),Z.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t=0|t,r=0|r,!n){var o=Math.pow(2,8*r)-1;N(this,e,t,r,o,0)}var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},e.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t=0|t,r=0|r,!n){var o=Math.pow(2,8*r)-1;N(this,e,t,r,o,0)}var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},e.prototype.writeUInt8=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},e.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):B(this,t,r,!0),r+2},e.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):B(this,t,r,!1),r+2},e.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):U(this,t,r,!0),r+4},e.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):U(this,t,r,!1),r+4},e.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var o=Math.pow(2,8*r-1);N(this,e,t,r,o-1,-o)}var i=0,a=1,l=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===l&&0!==this[t+i-1]&&(l=1),this[t+i]=(e/a>>0)-l&255;return t+r},e.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var o=Math.pow(2,8*r-1);N(this,e,t,r,o-1,-o)}var i=r-1,a=1,l=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===l&&0!==this[t+i+1]&&(l=1),this[t+i]=(e/a>>0)-l&255;return t+r},e.prototype.writeInt8=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},e.prototype.writeInt16LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):B(this,t,r,!0),r+2},e.prototype.writeInt16BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):B(this,t,r,!1),r+2},e.prototype.writeInt32LE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):U(this,t,r,!0),r+4},e.prototype.writeInt32BE=function(t,r,n){return t=+t,r=0|r,n||N(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):U(this,t,r,!1),r+4},e.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},e.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},e.prototype.writeDoubleLE=function(e,t,r){return V(this,e,t,!0,r)},e.prototype.writeDoubleBE=function(e,t,r){return V(this,e,t,!1,r)},e.prototype.copy=function(t,r,n,o){if(n||(n=0),o||0===o||(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var i,a=o-n;if(this===t&&n<r&&r<o)for(i=a-1;i>=0;--i)t[i+r]=this[i+n];else if(a<1e3||!e.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+r]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),r);return a},e.prototype.fill=function(t,r,n,o){if("string"==typeof t){if("string"==typeof r?(o=r,r=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!e.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t=255&t);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=r;a<n;++a)this[a]=t;else{var l=e.isBuffer(t)?t:q(new e(t,o).toString()),s=l.length;for(a=0;a<n-r;++a)this[a+r]=l[a%s]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,r(71).Buffer,function(){return this}())},function(e,t){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-r(e)}function o(e){var t,n,o,i,a,l,s=e.length;a=r(e),l=new c(3*s/4-a),o=a>0?s-4:s;var p=0;for(t=0,n=0;t<o;t+=4,n+=3)i=u[e.charCodeAt(t)]<<18|u[e.charCodeAt(t+1)]<<12|u[e.charCodeAt(t+2)]<<6|u[e.charCodeAt(t+3)],l[p++]=i>>16&255,l[p++]=i>>8&255,l[p++]=255&i;return 2===a?(i=u[e.charCodeAt(t)]<<2|u[e.charCodeAt(t+1)]>>4,l[p++]=255&i):1===a&&(i=u[e.charCodeAt(t)]<<10|u[e.charCodeAt(t+1)]<<4|u[e.charCodeAt(t+2)]>>2,l[p++]=i>>8&255,l[p++]=255&i),l}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function a(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(i(n));return o.join("")}function l(e){for(var t,r=e.length,n=r%3,o="",i=[],l=16383,u=0,c=r-n;u<c;u+=l)i.push(a(e,u,u+l>c?c:u+l));return 1===n?(t=e[r-1],o+=s[t>>2],o+=s[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=s[t>>10],o+=s[t>>4&63],o+=s[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=n,t.toByteArray=o,t.fromByteArray=l;for(var s=[],u=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=p.length;f<d;++f)s[f]=p[f],u[p.charCodeAt(f)]=f;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,l=8*o-n-1,s=(1<<l)-1,u=s>>1,c=-7,p=r?o-1:0,f=r?-1:1,d=e[t+p];for(p+=f,i=d&(1<<-c)-1,d>>=-c,c+=l;c>0;i=256*i+e[t+p],p+=f,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+p],p+=f,c-=8);if(0===i)i=1-u;else{if(i===s)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),i-=u}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,l,s,u=8*i-o-1,c=(1<<u)-1,p=c>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+p>=1?f/s:f*Math.pow(2,1-p),t*s>=2&&(a++,s/=2),a+p>=c?(l=0,a=c):a+p>=1?(l=(t*s-1)*Math.pow(2,o),a+=p):(l=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[r+d]=255&l,d+=h,l/=256,o-=8);for(a=a<<o|l,u+=o;u>0;e[r+d]=255&a,d+=h,a/=256,u-=8);e[r+d-h]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return e?u["default"].registerStyle(Object.assign({},h,e)):t.defaultActionButton}function i(e){return e?Object.assign({},d,e):d}function a(e,r){return e!==t.defaultActionButton||r?c.svgIcon(Object.assign(l(e),r)):m}function l(e){var r;return r={},n(r,p.enabledHover+" ."+e+":hover &",{fill:"#007cff",transition:"all .2s ease .2s"}),n(r,p.enabledHover+" ."+e+"."+t.disabled+":hover &",{fill:"#fff"}),r}var s;Object.defineProperty(t,"__esModule",{value:!0});var u=r(5),c=r(18),p=r(58),f=u["default"].registerKeyframes({"0%":{opacity:0},"50%":{opacity:0},"100%":{opacity:1}});t.sp="sp",t.toolTipPropName=p.enabledHover+" [data-title]&:hover:after",t.disabled="disabled";var d={display:"block",minWidth:20,minHeight:20,position:"absolute",left:"50%",transform:"translateX(-50%)",bottom:"calc(100% + 8px)",padding:"0 .35em",border:"1px solid #333",zIndex:u["default"].zIndexFront,content:"attr(data-title)",textAlign:"center",fontSize:u["default"].fontSizeSmall,lineHeight:"20px",whiteSpace:"nowrap",color:"#fff",backgroundColor:"rgba(28,28,28,.9)",animation:f+" ease .4s 1 normal"},h=(s={border:"none",cursor:"pointer",display:"inline-block",verticalAlign:"top",outline:"none",background:"transparent",minWidth:30,minHeight:30,width:34,height:34,userSelect:"none",position:"relative"},n(s,t.toolTipPropName,d),n(s,"&:after",{display:"none"}),n(s,"&."+t.sp,n({width:36,height:36,padding:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",":active":{filter:"drop-shadow(0 0 4px rgba(255, 255, 255, 1))",transition:"none"}},"&."+t.disabled+":active",{filter:"none"})),n(s,".fullScreen &."+t.sp,{width:40,height:40}),s);t.defaultActionButton=u["default"].registerStyle(h);var m=c.svgIcon(l(t.defaultActionButton));t.actionButton=o,t.toolTipStyle=i,t.svgIcon=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.Play=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M95.092 42.059a8.878 8.878 0 0 1 0 15.882L12.848 99.063A8.878 8.878 0 0 1 0 91.122V8.878A8.879 8.879 0 0 1 12.848.937l82.244 41.122z"}))},t.Pause=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 88 100"},e),n.createElement("path",{d:"M32 4a3.995 3.995 0 0 0-1.172-2.828A3.995 3.995 0 0 0 28 0H4a3.995 3.995 0 0 0-2.828 1.172A3.995 3.995 0 0 0 0 4v92c0 1.061.421 2.078 1.172 2.828A3.995 3.995 0 0 0 4 100h24a3.995 3.995 0 0 0 2.828-1.172A3.995 3.995 0 0 0 32 96V4zM88 4a3.995 3.995 0 0 0-1.172-2.828A3.995 3.995 0 0 0 84 0H60a3.995 3.995 0 0 0-2.828 1.172A3.995 3.995 0 0 0 56 4v92c0 1.061.421 2.078 1.172 2.828A3.995 3.995 0 0 0 60 100h24a3.995 3.995 0 0 0 2.828-1.172A3.995 3.995 0 0 0 88 96V4z"}))},t.Replay=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M65.427 46.608a4.001 4.001 0 0 0 0 6.784L93.88 71.175a4.001 4.001 0 0 0 6.12-3.392V32.217a4 4 0 0 0-6.12-3.392L65.427 46.608zM25.427 46.608a4.001 4.001 0 0 0 0 6.784L53.88 71.175A4.001 4.001 0 0 0 60 67.783V32.217a4 4 0 0 0-6.12-3.392L25.427 46.608zM0 4a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v92a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4z"}))}},function(e,t,r){"use strict";function n(e){var t=function(t){try{t.currentTarget.blur()}catch(r){}e.onClick&&e.onClick(t)};return o.createElement("button",Object.assign({},Object.assign({className:i.defaultActionButton},e,{onClick:t})),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(4),i=r(75);t["default"]=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(79),u=r(76),c=r(77),p=r(64),f=p["default"].create(function(e){return function(t){function r(){n(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return i(r,t),a(r,[{key:"render",value:function(){var e=this.props,t=e.observer,r=e.messages;return l.createElement(c["default"],{className:s.root,onClick:function(){t.onClickReplay(),t.countReplay()}},l.createElement(u.Replay,{className:s.replayButtonIcon}),l.createElement("span",{className:s.title},r.labels.replay))}}]),r}(l.Component)},{});t["default"]=f},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(75);t.root=o["default"].registerStyle({display:"block",position:"absolute",left:0,bottom:8,background:"rgba(0,0,0,.8)",padding:"8px 12px",border:"1px solid #333",color:"#fff",fontSize:o["default"].fontSizeLarge,outline:"none","&:active":{background:"#fff",color:"#000"}}),t.replayButtonIcon=i.svgIcon(t.root,n({width:18,height:18,marginRight:8},"."+t.root+":active &",{fill:"#000"})),t.title=o["default"].registerStyle({display:"inline-block",verticalAlign:"middle"})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(81),u=r(82),c=r(77),p=r(83),f=r(64),d=10,h=f["default"].create(function(){return function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this;return l.createElement("div",null,l.createElement(c["default"],{className:s.seekSkipButton,onClick:function(){return e.onClickSkipButton(!1)},"data-title":this.props.messages.labels.seekBack},l.createElement(u.SeekBack,{className:s.seekSkipButtonIcon})),this.props.children,l.createElement(c["default"],{className:s.seekSkipButton,onClick:function(){return e.onClickSkipButton(!0)},"data-title":this.props.messages.labels.seekForward},l.createElement(u.SeekForward,{className:s.seekSkipButtonIcon})))}},{key:"onClickSkipButton",value:function(e){t.skip(e,p["default"].Action.click,this.props)}}],[{key:"skip",value:function(e,t,r){var n=r.mutable,o=n.currentTimeMs,i=n.playerStatus;if(0!==i&&(4!==i||!e)){var a=(e?1e3:-1e3)*d;r.observer.onSeek(o+a,2).then(function(){return r.observer.countSeek(t,e,Math.abs(a))})}}}]),t}(l.Component)},{playerStatus:!0,currentTimeMs:!0});t["default"]=h},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(75);t.seekSkipButton=i.actionButton((o={minWidth:36,width:36,"@media (max-width:383px)":{display:"none"}},n(o,".sp &",{width:62,height:62,padding:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (min-width:224px)":{display:"inline-block"},"@media (max-width: 479px), (max-height: 269px)":{width:40,height:40,margin:"0 8px"}}),n(o,".sp .unplayed &",{display:"none"}),n(o,".sp &:active",{stroke:"#ccc",filter:"drop-shadow(0 0 4px rgba(255, 255, 255, 1))"}),o)),t.seekSkipButtonIcon=i.svgIcon(t.seekSkipButton,n({height:18},".sp &",{height:40,fill:"rgba(255, 255, 255, .9)",stroke:"#666","@media (max-width: 479px), (max-height: 269px)":{height:26}}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.SeekBack=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M18.349 28.976C25.161 18.746 36.799 12 50 12c20.973 0 38 17.027 38 38S70.973 88 50 88c-10.559 0-20.118-4.316-27.008-11.279a3.982 3.982 0 0 0-5.661-.028c-.938.914-1.954 1.93-2.859 2.835a4 4 0 0 0-.035 5.623C23.512 94.314 36.097 100 50 100c27.596 0 50-22.404 50-50S77.596 0 50 0C32.427 0 16.96 9.085 8.042 22.811l-1.989-1.19A4 4 0 0 0 0 25.054v18.212a3.999 3.999 0 0 0 5.913 3.513l15.936-8.68a4 4 0 0 0 .14-6.946l-3.64-2.177zM42 66a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V40h-2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v32zm32 0a2 2 0 0 1-2 2H52a2 2 0 0 1-2-2V34a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v32zm-8-26h-8v20h8V40z"}))},t.SeekForward=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{
d:"M81.651 28.976C74.839 18.746 63.201 12 50 12c-20.973 0-38 17.027-38 38s17.027 38 38 38c10.559 0 20.118-4.316 27.008-11.279a3.982 3.982 0 0 1 5.661-.028c.938.914 1.954 1.93 2.859 2.835a4 4 0 0 1 .035 5.623C76.488 94.314 63.903 100 50 100 22.404 100 0 77.596 0 50S22.404 0 50 0c17.573 0 33.04 9.085 41.958 22.811l1.989-1.19A4 4 0 0 1 100 25.054v18.212a3.999 3.999 0 0 1-5.913 3.513l-15.936-8.68a4 4 0 0 1-.14-6.946l3.64-2.177zM37 66a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V40h-2a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v32zm32 0a2 2 0 0 1-2 2H47a2 2 0 0 1-2-2V34a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v32zm-8-26h-8v20h8V40z"}))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e.replay=function(e){return{path:"/replay",data:{wti:e}}},e.seek=function(e,r,n,o){return{path:"/seek",data:{action:t[e],type:r?"FF":"REW",st:n,wti:o}}},e.fullScreen=function(e,r,n){return{path:"/full-screen",data:{action:t[e],type:r?"start":"exit",wti:n}}},e.shareTwitter={path:"/share-twitter"},e.shareFacebook={path:"/share-facebook"},e.shareLine={path:"/share-line"},e.dmcErrorWatchApi=function(e){return{path:"/dmc-error/watch-api/"+e}},e.dmcErrorSessionApi=function(e){return{path:"/dmc-error/session-api/"+e}};var t=void 0;!function(e){e[e.click=0]="click",e[e.key=1]="key"}(t=e.Action||(e.Action={}))}(r||(r={})),t["default"]=r},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var r=String(e),n=r.length;if(n<=t)for(;n<t;)r="0"+r,n++;else r=r.substr(n-t);return r}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),c=r(85),p=r(86),f=r(64),d=4,h=2,m=f["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),s(r,[{key:"render",value:function(){var e=this.props.mutable,t=e.currentTimeMs,r=e.durationMs,o=void 0===r?1e3*this.props.immutable.lengthInSeconds:r,i=Math.floor(o/6e4),a=Math.floor(o%6e4/1e3),s=Math.floor(t/6e4),f=Math.floor(t%6e4/1e3),m=String(i),b=m.length;return b>d&&(m=m.substr(b-d),b=d),u.createElement("div",{className:p(c.root,n({},c.sp,this.props.immutable.isSp))},u.createElement("span",null,l(s,b)+":"+l(f,h)),u.createElement("span",null,"/"),u.createElement("span",null,m+":"+l(a,h)))}}]),r}(u.Component)},{durationMs:!0,currentTimeMs:!0});t["default"]=m},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5);t.sp="sp",t.root=o["default"].registerStyle(n({position:"relative",display:"inline-block",verticalAlign:"top",height:34,color:"#fff",textAlign:"center",lineHeight:"34px",cursor:"default",margin:"0 2px",letterSpacing:"1px",fontSize:o["default"].fontSizeMedium,"@media (max-width: 319px)":{display:"none"}},"&."+t.sp,{fontSize:o["default"].fontSizeSmall,margin:"0 8px",height:36,lineHeight:"36px","@media all and (max-width: 319px)":{display:"inline-block"}}))},function(e,t,r){e.exports=r(2)(593)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(88),c=r(12),p=r(86),f=r(83),d=r(64),h=d["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.seekBar=null,t.time=null,t.seekStartTimeMs=0,t.state={playedBarWidth:0,seekableBarWidth:0,bufferedBarWidth:0,pointingTime:0,pointingLeft:0},t.mutableChanged=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e,t=this;return s.createElement("div",{className:p(u.root,n({},u.sp,this.props.immutable.isSp))},s.createElement("div",{className:p(u.seekBar,(e={},n(e,u.seeking,1===this.props.mutable.seekStatus),n(e,u.seekAllowed,!this.props.mutable.forbidSeek),n(e,u.sp,this.props.immutable.isSp),e)),ref:function(e){return t.seekBar=e},onMouseDown:function(e){return c["default"].trackMouseSeek(e,{onStart:function(e){return t.seek(e,1)},onMove:function(e){return 1===t.props.mutable.seekStatus&&t.seek(e,1)},onEnd:function(e){return 1===t.props.mutable.seekStatus&&t.seek(e,2)}})},onMouseMove:function(e){return t.setState(t.calculatePointingTime(e.clientX))},onTouchStart:function(e){return t.seek(e.touches[0],1)},onTouchMove:function(e){e.preventDefault(),1===t.props.mutable.seekStatus&&t.seek(e.touches[0],1)},onTouchEnd:function(e){return 1===t.props.mutable.seekStatus&&t.seek(e.touches[0],2)},onTouchCancel:function(e){return 1===t.props.mutable.seekStatus&&t.seek(e.touches[0],2)}},s.createElement("div",{className:u.slider},s.createElement("div",{className:u.seekableBar,style:{width:this.state.seekableBarWidth}}),s.createElement("div",{className:u.bufferedBar,style:{width:this.state.bufferedBarWidth}}),s.createElement("div",{className:u.playedBar,style:{width:this.state.playedBarWidth}})),s.createElement("div",{className:u.time,style:{left:this.state.pointingLeft},ref:function(e){return t.time=e}},c["default"].formatSeconds(Math.floor(this.state.pointingTime/1e3)))))}},{key:"componentDidMount",value:function(){var e=this;this.onResize=function(){return e.componentWillReceiveProps(e.props)},window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"componentWillReceiveProps",value:function(e){var t=e.mutable,r=t.durationMs,n=void 0===r?1e3*this.props.immutable.lengthInSeconds:r,o=t.currentTimeMs,i=t.maximumBufferedMs,a=this.seekBar.clientWidth,l=o/n*a,s=i/n*a;this.setState({playedBarWidth:l,bufferedBarWidth:s})}},{key:"shouldComponentUpdate",value:function(e,t){var r=this;return this.mutableChanged(e)||Object.keys(t).some(function(e){return t[e]!==r.state[e]})}},{key:"seek",value:function(e,t){var r=this,n=e&&e.clientX;5===this.props.immutable.browser.type?setTimeout(function(){return r._seek(n,t)}):this._seek(n,t)}},{key:"_seek",value:function(e,t){var r=this;this.props.observer.onUserAction();var n=this.props.mutable.currentTimeMs,o=this.props.mutable.seekStatus;this.props.observer.onSeek("number"==typeof e?this.calculatePointingTime(e).pointingTime:n,t).then(function(e){var t=e.currentTimeMs,i=e.seekStatus;1===i&&1!==o&&(r.seekStartTimeMs=n),2===i&&r.props.observer.countSeek(f["default"].Action.click,t>=r.seekStartTimeMs)})}},{key:"calculatePointingTime",value:function(e){var t=this.props.mutable,r=t.durationMs,n=void 0===r?1e3*this.props.immutable.lengthInSeconds:r,o=t.maximumSeekableMs,i=this.seekBar.clientWidth,a=e-u.HORIZONTAL_PADDING,l=n*(Math.min(Math.max(0,a),i)/i),s=Math.min(l,o)/n*i;return{pointingLeft:this.adjustPointingLeft(a),pointingTime:l,seekableBarWidth:s}}},{key:"adjustPointingLeft",value:function(e){var t=this.time.clientWidth,r=this.seekBar.clientWidth;return t?Math.min(Math.max(0,e-t/2),r-t):e}}]),r}(s.Component)},{durationMs:!0,currentTimeMs:!0,seekStatus:!0,maximumSeekableMs:!0,maximumBufferedMs:!0,forbidSeek:!0});t["default"]=h},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i,a,l,s;Object.defineProperty(t,"__esModule",{value:!0});var u=r(5),c=r(58),p=4,f={width:"100%",position:"absolute",bottom:0,height:p};t.HORIZONTAL_PADDING=8,t.sp="sp",t.root=u["default"].registerStyle(n({position:"relative",padding:"8px "+t.HORIZONTAL_PADDING+"px 0",marginBottom:2,outline:"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},"&."+t.sp,{display:"block",width:"100%",padding:"0 8px 0 12px",boxSizing:"border-box",top:"50%",transform:"translateY(-50%)","@media (max-width: 223px)":{display:"none"}})),t.slider=u["default"].registerStyle((o={},n(o,"."+t.root+" &",{width:"100%",position:"absolute",bottom:0,height:12,boxSizing:"border-box"}),n(o,"."+t.root+"."+t.sp+" &",{bottom:-16,height:36}),o)),t.seekBar=u["default"].registerStyle(n({},"."+t.root+" &",{position:"relative",width:"100%",height:p,backgroundColor:"#657586",cursor:"pointer"})),t.seeking="seeking",t.seekableBar=u["default"].registerStyle((i={},n(i,"."+t.root+" &",Object.assign({background:"rgba(255,255,255,0.4)",visibility:"hidden",opacity:0},f)),n(i,"."+t.root+"."+t.sp+" &",{bottom:16}),n(i,c.enabledHover+" ."+t.root+" ."+t.seekBar+":hover &",{visibility:"visible",opacity:1}),i)),t.bufferedBar=u["default"].registerStyle((a={},n(a,"."+t.root+" &",Object.assign({backgroundColor:"#fff"},f)),n(a,"."+t.root+"."+t.sp+" &",{bottom:16}),a)),t.seekAllowed="seekAllowed",t.playedBar=u["default"].registerStyle((l={},n(l,"."+t.root+" &",Object.assign({backgroundColor:"#007cff"},f)),n(l,"."+t.root+"."+t.sp+" &",{bottom:16}),n(l,"."+t.root+" &:after",{visibility:"hidden",content:'""',position:"absolute",top:-6,right:-8,width:16,height:16,borderRadius:"50%",backgroundColor:"#007cff",zIndex:u["default"].zIndexAbove,boxSizing:"border-box",transform:"scale(0)"}),n(l,"."+t.root+" ."+t.seekBar+"."+t.seekAllowed+":active &:after, "+c.enabledHover+" ."+t.root+" ."+t.seekBar+"."+t.seekAllowed+":hover &:after, ."+t.root+" ."+t.seekBar+"."+t.seekAllowed+"."+t.seeking+" &:after",{visibility:"visible",transform:"none",transition:"transform .2s ease .1s"}),n(l,"."+t.root+"."+t.sp+" &:after",{visibility:"visible",transform:"none",transition:"transform .2s ease .1s"}),l)),t.time=u["default"].registerStyle((s={},n(s,"."+t.root+" &",{position:"absolute",top:-24,fontSize:u["default"].fontSizeXSmall,background:"#fff",color:"#000",padding:2,borderRadius:2,visibility:"hidden",opacity:0,cursor:"default",userSelect:"none"}),n(s,c.enabledHover+" ."+t.root+" ."+t.seekBar+":hover &",{visibility:"visible",opacity:1}),s))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(90),u=r(64),c=r(20),p=r(13),f=r(91),d=r(94),h=u["default"].create(function(e){return function(t){function r(){n(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return i(r,t),a(r,[{key:"render",value:function(){var e=this,t=this.props.immutable,r=t.videoWatchId,n=t.nicovideoServerUrl,o=t.playOption,i=t.parentUrl,a=this.props.mutable.playerStatus;return l.createElement(c["default"],{className:d.root,noLinkToNiconico:o.noLinkToNiconico,href:n+"/watch/"+r,query:{via:"thumb_watch",at:"logo",state:f["default"].createStateQuery(a),ref:p.parse(i).hostname},target:"_blank",onClick:function(t){return e.props.observer.jumpToWatchPage(t)}},l.createElement(s.NiconicoLogo,{className:d.niconicoLogo}),l.createElement("span",{className:d.watchLinkBalloon},this.props.messages.labels.watchOnNiconico))}}]),r}(l.Component)},{playerStatus:!0});t["default"]=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.NiconicoLogo=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 196 27"},e),n.createElement("path",{d:"M39.44 13.86a12.57 12.57 0 0 1 .63-3.89 11.85 11.85 0 0 1 1.85-3.56 10 10 0 0 1 2.93-2.61 7.46 7.46 0 0 1 3.89-1h13.82a2.44 2.44 0 1 1 0 4.88H49.8a5.73 5.73 0 0 0-2.86.63 5.42 5.42 0 0 0-1.72 1.55 5.59 5.59 0 0 0-.86 2 10.17 10.17 0 0 0-.23 2 34.44 34.44 0 0 0 .23 3.81 5.65 5.65 0 0 0 .86 2 5.33 5.33 0 0 0 1.72 1.54 5.65 5.65 0 0 0 2.86.64h12.76a2.44 2.44 0 1 1 0 4.87H48.23a6.76 6.76 0 0 1-3.69-1 9.57 9.57 0 0 1-2.75-2.62 12.39 12.39 0 0 1-1.74-3.57 27.3 27.3 0 0 1-.61-5.67zM12.83 1.56a21 21 0 0 1 5.07.64 11.83 11.83 0 0 1 3.54 1.85 10.28 10.28 0 0 1 2.61 2.94 7.67 7.67 0 0 1 1 3.91v13.89a2.35 2.35 0 0 1-.71 1.72 2.44 2.44 0 0 1-3.44 0 2.35 2.35 0 0 1-.71-1.72V11.97a5.77 5.77 0 0 0-.63-2.87 5.3 5.3 0 0 0-1.54-1.73 5.43 5.43 0 0 0-2-.86 23.43 23.43 0 0 0-3.2-.23 32.7 32.7 0 0 0-3.8.23 5.41 5.41 0 0 0-2 .86A5.19 5.19 0 0 0 5.48 9.1a5.71 5.71 0 0 0-.63 2.87v12.82a2.43 2.43 0 1 1-4.85 0v-14.4a6.84 6.84 0 0 1 1-3.71 9.49 9.49 0 0 1 2.61-2.77 12.2 12.2 0 0 1 3.56-1.75 27 27 0 0 1 5.66-.6zm22.65.85q0 2.33-3.13 2.33-2.94 0-2.94-2.33T32.35.02q3.13 0 3.13 2.39zm-.76 22.32a2.23 2.23 0 0 1-2.22 2.49c-1.41 0-2.13-1.14-2.13-2.49V9.92a1.81 1.81 0 0 1 2-2c1.54 0 2.32.73 2.32 2v14.81zM96.08 13.8a26.37 26.37 0 0 1-.63 5.7 11.84 11.84 0 0 1-1.85 3.55 10 10 0 0 1-2.93 2.61 7.53 7.53 0 0 1-3.89 1H75.2a7.28 7.28 0 0 1-3.69-1.14 10.07 10.07 0 0 1-2.76-2.61 12.07 12.07 0 0 1-1.74-3.5 26.86 26.86 0 0 1-.6-5.62 12.56 12.56 0 0 1 .67-3.93 11.8 11.8 0 0 1 1.84-3.55 10.28 10.28 0 0 1 2.93-2.62 7.61 7.61 0 0 1 3.89-1h11.62a7.37 7.37 0 0 1 3.69 1.14 10.31 10.31 0 0 1 2.76 2.62 12.41 12.41 0 0 1 1.74 3.51 12.7 12.7 0 0 1 .53 3.84zm-10.36 8a5.6 5.6 0 0 0 2.83-.64 5.08 5.08 0 0 0 1.74-1.55 5.4 5.4 0 0 0 .86-2 33 33 0 0 0 .22-3.82 9.59 9.59 0 0 0-.22-2 5.41 5.41 0 0 0-.86-2 5.29 5.29 0 0 0-1.74-1.55 5.66 5.66 0 0 0-2.83-.63h-9a5.61 5.61 0 0 0-2.85.63 5.3 5.3 0 0 0-1.72 1.55 5.42 5.42 0 0 0-.86 2 9.54 9.54 0 0 0-.23 2 32.84 32.84 0 0 0 .23 3.82 5.42 5.42 0 0 0 .86 2 5.09 5.09 0 0 0 1.72 1.55 5.55 5.55 0 0 0 2.85.64h9zm53.7-7.94a12.6 12.6 0 0 1 .63-3.89 11.74 11.74 0 0 1 1.84-3.55 10.1 10.1 0 0 1 2.93-2.62 7.55 7.55 0 0 1 3.9-1h13.83a2.44 2.44 0 0 1 0 4.87h-12.77a5.63 5.63 0 0 0-2.85.63 5.31 5.31 0 0 0-1.72 1.55 5.55 5.55 0 0 0-.86 2 10.1 10.1 0 0 0-.23 2 34.61 34.61 0 0 0 .23 3.82 5.44 5.44 0 0 0 .86 2 5.22 5.22 0 0 0 1.72 1.55 5.63 5.63 0 0 0 2.85.63h12.77a2.44 2.44 0 0 1 0 4.88h-14.33a6.84 6.84 0 0 1-3.7-1 9.65 9.65 0 0 1-2.75-2.62 12.34 12.34 0 0 1-1.75-3.58 27.44 27.44 0 0 1-.6-5.67zM112.81 1.53a20.88 20.88 0 0 1 5.07.64 12.08 12.08 0 0 1 3.54 1.85 10.05 10.05 0 0 1 2.6 2.94 7.65 7.65 0 0 1 1 3.91v13.89a2.41 2.41 0 0 1-2.43 2.44 2.42 2.42 0 0 1-2.43-2.44V11.94a5.67 5.67 0 0 0-.63-2.87 5.23 5.23 0 0 0-3.54-2.59 24.83 24.83 0 0 0-3.2-.23 34.41 34.41 0 0 0-3.8.23 5.22 5.22 0 0 0-3.54 2.59 5.66 5.66 0 0 0-.63 2.87v12.82a2.41 2.41 0 0 1-2.43 2.44 2.42 2.42 0 0 1-2.42-2.44V10.37a6.88 6.88 0 0 1 1-3.71 9.54 9.54 0 0 1 2.6-2.76 12.17 12.17 0 0 1 3.56-1.75 27 27 0 0 1 5.68-.62zm22.65.86q0 2.33-3.13 2.34-2.93 0-2.93-2.34c0-1.6 1-2.39 2.93-2.39s3.13.79 3.13 2.39zm-.76 22.32a2.23 2.23 0 0 1-2.22 2.49c-1.42 0-2.13-1.14-2.13-2.49V9.86a1.81 1.81 0 0 1 2-2c1.56 0 2.33.73 2.33 2v14.81zm61.38-10.94a26.3 26.3 0 0 1-.64 5.7 11.78 11.78 0 0 1-1.84 3.55 10.09 10.09 0 0 1-2.93 2.61 7.47 7.47 0 0 1-3.89 1h-11.6a7.42 7.42 0 0 1-3.69-1.14 10.06 10.06 0 0 1-2.76-2.62 12.17 12.17 0 0 1-1.74-3.5 26.57 26.57 0 0 1-.61-5.62 12.83 12.83 0 0 1 .63-3.89 11.89 11.89 0 0 1 1.85-3.55 10 10 0 0 1 2.93-2.61 7.48 7.48 0 0 1 3.89-1h11.62a7.4 7.4 0 0 1 3.69 1.14 10.08 10.08 0 0 1 2.76 2.61 12.13 12.13 0 0 1 1.74 3.5 12.71 12.71 0 0 1 .59 3.82zm-10.37 8a5.67 5.67 0 0 0 2.83-.63 5.22 5.22 0 0 0 1.74-1.55 5.42 5.42 0 0 0 .86-2 34.76 34.76 0 0 0 .23-3.82 10.15 10.15 0 0 0-.23-2 5.42 5.42 0 0 0-.86-2 5.24 5.24 0 0 0-1.74-1.55 5.67 5.67 0 0 0-2.83-.63h-9a5.61 5.61 0 0 0-2.85.63 5.26 5.26 0 0 0-1.72 1.55 5.42 5.42 0 0 0-.86 2 10 10 0 0 0-.23 2 34.1 34.1 0 0 0 .23 3.82 5.42 5.42 0 0 0 .86 2 5.24 5.24 0 0 0 1.72 1.55 5.61 5.61 0 0 0 2.85.63h9z"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(92),i=r(93),a=r(58);!function(e){function t(e){return"undefined"!=typeof e.id}function r(e){var t=e.seekStatus,r=e.controllingVolume,o=e.recentUserAction,i=e.playerOverlay,a=e.error;return Object.assign({controllingPlayer:!a&&(1===t||r||o||0!==i||n())},e)}function n(){return"undefined"!=typeof document&&!(!document.querySelector(a.enabledHover+" ."+o.root+":hover")&&!document.querySelector(a.enabledHover+" ."+i.root+":hover"))}function l(e){switch(e){case 0:return"unplayed";case 4:return"finished";default:return"started"}}e.isNonEmptyUploaderInfo=t,e.mutableWithComputed=r;var s=void 0;!function(e){e.SERVICE_USER_ID_KEY="serviceUserId",e.VOLUME_SETTING_KEY="volumeSetting",e.MUTE_SETTING_KEY="muteSetting",e.HIDE_COMMENT_SETTING_KEY="hideCommentSetting"}(s=e.LocalStorageConstants||(e.LocalStorageConstants={})),e.createStateQuery=l}(n||(n={})),t["default"]=n},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i;Object.defineProperty(t,"__esModule",{value:!0});var a=r(5);t.hidden="hidden",t.root=a["default"].registerStyle(n({position:"absolute",top:0,right:0,bottom:0,left:0,pointerEvents:"none"},"&."+t.hidden,{display:"none"})),t.controller=a["default"].registerStyle({width:"100%",boxSizing:"border-box",background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.5) 40%,rgba(0,0,0,0.8) 100%)",position:"absolute",bottom:0,pointerEvents:"auto"}),t.container=a["default"].registerStyle({display:"flex",verticalAlign:"middle",flexDirection:"row",width:"100%",padding:"2px 8px",boxSizing:"border-box",position:"relative",userSelect:"none"}),t.center="center",t.inner=a["default"].registerStyle((o={flex:1,whiteSpace:"nowrap"},n(o,"."+t.controller+" &."+t.center,{textAlign:"center","@media (max-width: 223px)":{display:"none"}}),n(o,"."+t.controller+" &:last-child",{textAlign:"right"}),o)),t.spContainer=a["default"].registerStyle({display:"flex",verticalAlign:"middle",width:"100%",height:44,boxSizing:"border-box",position:"relative",userSelect:"none",padding:4,".unplayed &":{display:"none"}}),t.spInner=a["default"].registerStyle((i={justifyContent:"space-between"},n(i,"&:first-child",{flex:1,height:"100%"}),n(i,"&:last-child",{textAlign:"right",marginRight:4}),i)),t.spUpperController=a["default"].registerStyle({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",textAlign:"center",whiteSpace:"noWrap",pointerEvents:"auto",".started &":{zIndex:a["default"].zIndexAbove},".started.fullScreen &":{"@media screen and (orientation: portrait)":{top:"auto",bottom:76,transform:"translate(-50%,50%)"}},".finished &":{display:"none"}})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(5);t.expand="expand",t.root=i["default"].registerStyle((o={width:"100%",boxSizing:"border-box",background:"linear-gradient(to bottom, rgba(0,0,0,.8) 0%,rgba(0,0,0,.6) 60%,rgba(0,0,0,.4) 80%,rgba(0,0,0,0) 100%)",display:"inline-block",position:"absolute",top:0,color:"#fff",padding:"16px 16px 12px",transition:"all .4s ease",zIndex:i["default"].zIndexFront},n(o,"&."+t.expand,{height:"100%",background:"rgba(0, 0, 0, .8)",transition:"all .4s ease"}),n(o,"@media (max-width: 479px), (max-height: 269px)",{padding:"12px 12px 8px"}),o))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=e.bottom,r=e.borderColor,n=e.zIndex;return{content:'""',position:"absolute",bottom:t,left:"50%",marginLeft:t,display:"block",width:0,height:0,borderStyle:"solid",borderWidth:-t+"px "+-t+"px 0px "+-t+"px",borderColor:r+" transparent transparent transparent",zIndex:n}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(5),l=r(58);t.niconicoLogo=i.svgIcon({display:"inline-block",position:"relative",width:76,height:34,marginRight:16,fill:"rgb(255,255,255)",filter:"drop-shadow(0 0 1px rgba(66,66,66,.6))","@media (max-width: 410px)":{display:"none"}}),t.watchLinkBalloon=a["default"].registerStyle({display:"none","@media (max-width: 479px), (max-height: 269px)":{fontSize:a["default"].fontSizeSmall}}),t.root=a["default"].registerStyle(n({},l.enabledHover+" a&:hover ."+t.watchLinkBalloon,{display:"inline-block",position:"absolute",bottom:40,right:40,padding:"4px 8px",lineHeight:1.8,background:"#000",color:"#fff",border:"1px solid #ccc",borderRadius:4,fontSize:a["default"].fontSizeMedium,cursor:"pointer",transition:"all .2s ease","&:before":o({bottom:-6,borderColor:"#000",zIndex:a["default"].zIndexAbove+1}),"&:after":o({bottom:-7,borderColor:"#fff",zIndex:a["default"].zIndexAbove})}))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(96),c=r(97),p=r(75),f=r(77),d=r(86),h=r(64),m=h["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e=this;return s.createElement(f["default"],{className:d(u.fullScreenToggleButton,n({},p.disabled,!this.props.mutable.fullScreenAvailable),n({},p.sp,this.props.immutable.isSp)),onClick:function(){return e.props.observer.onToggleFullScreen()},"data-title":this.props.mutable.fullScreen?this.props.messages.labels.fullScreenOff:this.props.messages.labels.fullScreenOn},this.props.mutable.fullScreen?s.createElement(c.FullScreenOff,{className:d(u.fullScreenToggleButtonIcon,n({},p.sp,this.props.immutable.isSp))}):s.createElement(c.FullScreenOn,{className:d(u.fullScreenToggleButtonIcon,n({},p.sp,this.props.immutable.isSp))}))}}]),r}(s.Component)},{fullScreenAvailable:!0,fullScreen:!0});t["default"]=m},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(75);t.fullScreenToggleButton=i.actionButton((o={display:null},n(o,i.toolTipPropName,i.toolTipStyle({right:0,left:null,transform:null})),n(o,"&:after",{display:"none"}),n(o,"&."+i.disabled,{opacity:.3,cursor:"default"}),n(o,"@media all and (min-width: 126px)",{display:"inline-block"}),n(o,"@media (max-width: 125px)",{display:"none"}),n(o,"&."+i.sp,{padding:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 125px)":{display:"inline-block"}}),n(o,"&."+i.sp+":not(."+i.disabled+"):active",{filter:"drop-shadow(0 0 4px rgba(255, 255, 255, 1))"}),n(o,".finished &."+i.sp,{"@media (max-width: 179px)":{display:"none"}}),o)),t.fullScreenToggleButtonIcon=i.svgIcon(t.fullScreenToggleButton,n({height:16},".fullScreen ."+i.sp+" &",{height:20}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.FullScreenOff=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M97.816 65.816a4 4 0 0 1-4 4H78.302l20.526 20.527a3.998 3.998 0 0 1 0 5.657L96 98.828a3.997 3.997 0 0 1-5.657 0L69.816 78.302v15.514a4 4 0 0 1-4 4h-4a3.999 3.999 0 0 1-4-4v-32a4 4 0 0 1 4-4h32a4.002 4.002 0 0 1 4 4v4zM2.184 34.184a4 4 0 0 1 4-4h15.514L1.172 9.657a3.998 3.998 0 0 1 0-5.657L4 1.172a3.997 3.997 0 0 1 5.657 0l20.527 20.526V6.184a4 4 0 0 1 4-4h4a3.999 3.999 0 0 1 4 4v32a4 4 0 0 1-4 4h-32a4.002 4.002 0 0 1-4-4v-4z"}))},t.FullScreenOn=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M60 92a4 4 0 0 1 4-4h15.515L58.988 67.473a4 4 0 0 1 0-5.657l2.828-2.828a4.002 4.002 0 0 1 5.657 0L88 79.515V64a4 4 0 0 1 4-4h4c1.061 0 2.078.421 2.828 1.172A3.995 3.995 0 0 1 100 64v32a4 4 0 0 1-4 4H64a3.995 3.995 0 0 1-2.828-1.172A3.995 3.995 0 0 1 60 96v-4zM40 8a4 4 0 0 1-4 4H20.485l20.527 20.527a4 4 0 0 1 0 5.657l-2.828 2.828a4.002 4.002 0 0 1-5.657 0L12 20.485V36a4 4 0 0 1-4 4H4a3.995 3.995 0 0 1-2.828-1.172A3.995 3.995 0 0 1 0 36V4a4 4 0 0 1 4-4h32c1.061 0 2.078.421 2.828 1.172A3.995 3.995 0 0 1 40 4v4z"}))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(99),c=r(100),p=r(75),f=r(77),d=r(86),h=r(64),m=h["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e=this,t=this.props.mutable,r=t.showComment,o=t.forbidComment;return o&&(r=!1),s.createElement(f["default"],{className:d(u.commentDisplayToggleButton,n({},p.sp,this.props.immutable.isSp)),onClick:function(){return e.props.observer.onToggleComment()},"data-title":r?this.props.messages.labels.hideComment:this.props.messages.labels.showComment},r?s.createElement(c.CommentOn,{className:u.commentDisplayToggleButtonIcon}):s.createElement(c.CommentOff,{className:u.commentDisplayToggleButtonIcon}))}}]),r}(s.Component)},{showComment:!0,forbidComment:!0});t["default"]=m},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(75);t.commentDisplayToggleButton=i.actionButton((o={display:null,marginLeft:43,"@media all and (min-width: 161px)":{display:"inline-block"},"@media (max-width: 159px)":{display:"none"}},n(o,"&."+i.sp,{padding:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 191px)":{display:"none"}}),n(o,"&."+i.sp+":active",{filter:"drop-shadow(0 0 4px rgba(255, 255, 255, 1))"}),o)),t.commentDisplayToggleButtonIcon=i.svgIcon(t.commentDisplayToggleButton,n({height:16},".fullScreen ."+i.sp+" &",{height:20}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.CommentOff=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M24 80H8a8 8 0 0 1-8-8V8a8 8 0 0 1 8-8h84a8 8 0 0 1 8 8v64a8 8 0 0 1-8 8H52.507l-20.92 18.828c-1.271 1.144-3.183 1.487-4.843.867C25.083 99.076 24 97.618 24 96V80zm26-46.667l10.505-10.505a4 4 0 0 1 5.657 0l1.01 1.01a4 4 0 0 1 0 5.657L56.667 40l10.505 10.505a4 4 0 0 1 0 5.657l-1.01 1.01a4 4 0 0 1-5.657 0L50 46.667 39.495 57.172a4 4 0 0 1-5.657 0 480.88 480.88 0 0 0-1.01-1.01 4 4 0 0 1 0-5.657L43.333 40 32.828 29.495a4 4 0 0 1 0-5.657l1.01-1.01a4 4 0 0 1 5.657 0L50 33.333z"}))},t.CommentOn=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M24 80H8a8 8 0 0 1-8-8V8a8 8 0 0 1 8-8h84a8 8 0 0 1 8 8v64a8 8 0 0 1-8 8H52.507l-20.92 18.828c-1.271 1.144-3.183 1.487-4.843.867C25.083 99.076 24 97.618 24 96V80z"}))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(102),c=r(103),p=r(77),f=r(86),d=r(12),h=r(64),m=h["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e,t=this;return s.createElement("div",{className:f(u.root,(e={},n(e,u.controllingVolume,this.props.mutable.controllingVolume||this.props.mutable.recentVolumeControl),n(e,u.notSeeking,1!==this.props.mutable.seekStatus),e)),onMouseLeave:function(){return t.props.observer.onMouseLeaveVolumeController();
}},s.createElement(p["default"],{className:u.muteToggleButton,onClick:function(){return t.props.observer.onToggleMute()},"data-title":this.props.mutable.mute?this.props.messages.labels.unmute:this.props.messages.labels.mute},this.props.mutable.mute?s.createElement(c.VolumeOff,{className:u.muteToggleButtonIcon}):s.createElement(c.VolumeOn,{className:u.muteToggleButtonIcon})),s.createElement("div",{className:u.volumeBarContainer},s.createElement("div",{className:f(u.volumeBar,n({},u.disabled,this.props.mutable.mute)),onMouseDown:function(e){return d["default"].trackMouseSeek(e,{onStart:function(e){return t.updateVolume(e,!0)},onMove:function(e){return t.updateVolume(e)},onEnd:function(e){return t.updateVolume(e,!1)}})},onTouchStart:function(e){return t.updateVolume(e.touches[0],!0)},onTouchMove:function(e){e.preventDefault(),t.updateVolume(e.touches[0])},onTouchEnd:function(e){return t.updateVolume(e.touches[0],!1)},ref:function(e){return t.volumeBarElement=e}},s.createElement("div",{className:u.slider},s.createElement("div",{className:u.volume,style:{height:100*this.props.mutable.volume+"%"}})))))}},{key:"updateVolume",value:function(e,t){this.props.observer.onUserAction(),this.props.observer.onVolumeChange(e?(this.volumeBarElement.getBoundingClientRect().bottom-e.clientY)/u.VOLUME_BAR_CONTAINER_HEIGHT:this.props.mutable.volume,t)}}]),r}(s.Component)},{mute:!0,volume:!0,controllingVolume:!0,recentVolumeControl:!0,seekStatus:!0});t["default"]=m},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i;Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),l=r(75);t.VOLUME_BAR_CONTAINER_HEIGHT=58,t.controllingVolume="controllingVolume",t.notSeeking="notSeeking",t.root=a["default"].registerStyle(n({display:"inline-block",width:34,boxSizing:"border-box",position:"absolute",left:54,bottom:1,border:"1px solid transparent"},"&."+t.notSeeking+"."+t.controllingVolume+", &."+t.notSeeking+":hover",{height:110,background:"#000",border:"1px solid #666",borderRadius:4,transition:"all .2s ease"})),t.volumeBarContainer=a["default"].registerStyle((o={},n(o,"."+t.root+" &",{visibility:"hidden",opacity:0}),n(o,"."+t.root+"."+t.notSeeking+"."+t.controllingVolume+" &, ."+t.root+"."+t.notSeeking+":hover &",{visibility:"visible",opacity:1,position:"absolute",minWidth:32,height:t.VOLUME_BAR_CONTAINER_HEIGHT,top:8,left:0,transition:"all .2s ease"}),o)),t.muteToggleButton=l.actionButton((i={},n(i,"."+t.root+" &",{position:"absolute",bottom:0}),n(i,l.toolTipPropName,l.toolTipStyle({bottom:"calc(100% + 78px)"})),i)),t.muteToggleButtonIcon=l.svgIcon(t.muteToggleButton,{height:16}),t.disabled="disabled",t.volumeBar=a["default"].registerStyle(n({},"."+t.root+" &",n({width:8,height:"100%",backgroundColor:"#657586",top:"50%",left:"50%",transform:"translate(-50%,-50%)",cursor:"pointer",position:"absolute",transition:"all .2s ease"},"&."+t.disabled,{opacity:.5}))),t.slider=a["default"].registerStyle(n({},"."+t.root+" &",{bottom:0,boxSizing:"border-box",cursor:"pointer",width:"100%",transition:"all .2s ease"})),t.volume=a["default"].registerStyle(n({},"."+t.root+" &",{width:"100%",height:"100%",position:"absolute",bottom:0,transition:"all .2s ease",backgroundColor:"#007cff"}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.VolumeOff=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M24.122 24L45.228 1.252C46.383.006 48.091-.346 49.567.358 51.042 1.063 52 2.686 52 4.484v91.032c0 1.798-.958 3.421-2.433 4.126-1.476.704-3.184.352-4.339-.894L24.122 76H8a8 8 0 0 1-8-8V32a8 8 0 0 1 8-8h16.122zM80 42.731l11.454-11.454a4.362 4.362 0 0 1 6.168 0l1.101 1.101a4.362 4.362 0 0 1 0 6.168L87.269 50l11.454 11.454a4.362 4.362 0 0 1 0 6.168l-1.101 1.101a4.362 4.362 0 0 1-6.168 0L80 57.269 68.546 68.723a4.362 4.362 0 0 1-6.168 0l-1.101-1.101a4.362 4.362 0 0 1 0-6.168L72.731 50 61.277 38.546a4.362 4.362 0 0 1 0-6.168l1.101-1.101a4.362 4.362 0 0 1 6.168 0L80 42.731z"}))},t.VolumeOn=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M24.122 24L45.228 1.252C46.383.006 48.091-.346 49.567.358 51.042 1.063 52 2.686 52 4.484v91.032c0 1.798-.958 3.421-2.433 4.126-1.476.704-3.184.352-4.339-.894L24.122 76H8a8 8 0 0 1-8-8V32a8 8 0 0 1 8-8h16.122zm51.364-9.325c.155-.244.338-.473.546-.681.468-.494.959-.985 1.425-1.451a4 4 0 0 1 5.439-.202C93.373 21.519 100 34.992 100 50s-6.627 28.481-17.112 37.649a3.987 3.987 0 0 1-5.422-.201 136.193 136.193 0 0 1-1.447-1.429 4.002 4.002 0 0 1 .219-5.86 40.077 40.077 0 0 0 8.915-11.077l.061-.11.113-.212a38.342 38.342 0 0 0 1.399-2.9 39.533 39.533 0 0 0 2.376-7.402c.264-1.224.472-2.47.621-3.733l.032-.274C89.917 52.99 90 51.505 90 50c0-10.566-4.106-20.181-10.808-27.335l-.112-.12-.064-.067a43.96 43.96 0 0 0-.881-.9l-.155-.153-.119-.115a39.186 39.186 0 0 0-1.612-1.483 4.011 4.011 0 0 1-.908-1.131l-.013-.023-.01-.019-.013-.026-.004-.007a3.976 3.976 0 0 1 .122-3.844l.036-.059.027-.043zM62.189 27.828c.363-.38.73-.747 1.079-1.096a4.001 4.001 0 0 1 5.286-.329 30.77 30.77 0 0 1 2.516 2.229C76.578 34.085 80 41.646 80 50c0 9.562-4.483 18.084-11.46 23.579a3.245 3.245 0 0 1-.15.112l-.077.053a3.964 3.964 0 0 1-2.11.673l-.089.001a3.97 3.97 0 0 1-2.831-1.165 48.55 48.55 0 0 1-.938-.909l-.536-.535a4.014 4.014 0 0 1-.651-.857l-.018-.031-.006-.01-.064-.122a3.995 3.995 0 0 1 1.109-4.963 19.914 19.914 0 0 0 7.122-10.57C69.757 53.581 70 51.819 70 50c0-6.449-3.059-12.19-7.804-15.848a3.973 3.973 0 0 1-.367-5.941l.179-.192.181-.191z"}))}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(80),u=r(83),c=r(64),p=.1,f={SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},d=c["default"].create(function(){return function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.disableForwardSkip=!1,e.disableBackwardSkip=!1,e.keydownListener=function(t){var r=e.props.mutable,n=r.playerStatus,o=r.volume;switch(t.keyCode){case f.SPACE:switch(t.preventDefault(),n){case 0:case 3:return e.props.observer.onUserAction(),e.props.observer.onClickPlay();case 1:case 2:return e.props.observer.onUserAction(),e.props.observer.onClickPause();case 4:return e.props.observer.onUserAction(),e.props.observer.onClickReplay()}return;case f.LEFT:if(t.preventDefault(),!e.disableBackwardSkip)return e.disableBackwardSkip=!0,e.props.observer.onUserAction(),s["default"].skip(!1,u["default"].Action.key,e.props);break;case f.UP:return t.preventDefault(),e.props.observer.onUserAction(),e.props.observer.onVolumeChange(o+p);case f.RIGHT:if(t.preventDefault(),!e.disableForwardSkip)return e.disableForwardSkip=!0,e.props.observer.onUserAction(),s["default"].skip(!0,u["default"].Action.key,e.props);break;case f.DOWN:return t.preventDefault(),e.props.observer.onUserAction(),e.props.observer.onVolumeChange(o-p)}},e.keyupListener=function(t){switch(t.keyCode){case f.LEFT:e.disableBackwardSkip=!1;break;case f.RIGHT:e.disableForwardSkip=!1}},e}return i(t,e),a(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.keydownListener),window.addEventListener("keyup",this.keyupListener)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.keydownListener),window.removeEventListener("keyup",this.keyupListener)}},{key:"render",value:function(){return null}}]),t}(l.Component)},{playerStatus:!0,currentTimeMs:!0,volume:!0});t["default"]=d},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(106),c=r(107),p=r(77),f=r(86),d=r(64),h="overlayBanner",m=9e3,b=1e3,y=3e4,v=3e4,g=1040,w=1041,S=d["default"].create(function(){return function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.displayPeriodPassed=!1,e.state={show:!1,adsInBack:!0},e}return a(t,e),l(t,[{key:"render",value:function(){var e,t=this,r=this.props.immutable,o=r.isSp,i=r.adsResUrl,a=r.adjustProtocol;return s.createElement("div",{className:f(u.root,(e={},n(e,u.sp,o),n(e,u.hidden,!this.state.show),n(e,u.adsInBack,this.state.adsInBack),e))},s.createElement(p["default"],{className:u.closeButton,onClick:function(){return t.setState({show:!1})}},s.createElement(c["default"],null)),s.createElement("div",{id:h,className:u.adsBanner},s.createElement("script",{type:"text/javascript",src:a(i)+"/assets/js/ads2.js?ref=ext_video",async:!0})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;1!==e.mutable.playerStatus&&1===this.props.mutable.playerStatus&&setTimeout(function(){if("undefined"!=typeof Ads&&!window.matchMedia(u.ADS_INVISIBLE_MEDIA_QUERY).matches){Ads.pageUrl=t.props.immutable.parentUrl;var r=t;new Ads.Advertisement({zone:e.immutable.isSp?w:g}).set(h,function(){return r.setState({show:!0}),setTimeout(function(){r.setState({adsInBack:!1}),setTimeout(function(){r.displayPeriodPassed=!0,r.hideBannerIfNecessary(r.props)},e.immutable.isSp?v:y)},b),this.getTag()})}},m),this.hideBannerIfNecessary(e)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this;return Object.keys(this.state).some(function(e){return t[e]!==r.state[e]})}},{key:"hideBannerIfNecessary",value:function(e){this.displayPeriodPassed&&this.state.show&&!e.mutable.controllingPlayer&&this.setState({show:!1})}}]),t}(s.Component)},{playerStatus:!0,controllingPlayer:!0});t["default"]=S},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i,a;Object.defineProperty(t,"__esModule",{value:!0});var l=r(5),s=r(58);t.sp="sp",t.hidden="hidden",t.adsInBack="ads-in-back",t.ADS_INVISIBLE_MEDIA_QUERY="(max-height: 179px)",t.root=l["default"].registerStyle((o={width:468,height:60,position:"absolute",bottom:60,right:"50%",transform:"translateX(50%)","@media (max-width: 468px)":{right:0,transform:"none"},"@media (min-height: 180px) and (max-height: 319px)":{bottom:0}},n(o,"@media "+t.ADS_INVISIBLE_MEDIA_QUERY,{display:"none"}),n(o,"&."+t.hidden,{display:"none"}),n(o,"&."+t.sp,n({width:320,height:50,bottom:48,right:"50%",transform:"translateX(50%)","-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 320px)":{right:0,transform:"none"},"@media (max-height: 319px)":{bottom:0}},"@media "+t.ADS_INVISIBLE_MEDIA_QUERY,{display:"none"})),n(o,".fullScreen &."+t.sp,{"@media screen and (orientation: portrait)":{bottom:112}}),n(o,"&."+t.adsInBack,{zIndex:l["default"].zIndexBack}),o)),t.closeButton=l["default"].registerStyle((i={},n(i,"."+t.root+" &",{position:"absolute",right:0,top:-24,width:24,height:24,padding:0,borderRadius:"2px 2px 0 0",border:"none",cursor:"pointer",background:"rgba(255,255,255,.6)",outline:"none"}),n(i,s.enabledHover+" ."+t.root+":hover &",{background:"rgba(255,255,255,1)",transition:"all .2s ease .2s"}),i)),t.adsBanner=l["default"].registerStyle((a={},n(a,"."+t.root+" &",{position:"absolute",right:0,bottom:0,width:468,height:60}),n(a,"."+t.root+"."+t.sp+" &",{width:320,height:50}),a))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),o=r(108),i=r(109);t["default"]=function(){return n.createElement(o.Close,{className:i.closeIcon})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.Close=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("path",{d:"M50 32.762l31.55-31.55a4.139 4.139 0 0 1 5.851 0l11.387 11.387a4.137 4.137 0 0 1 0 5.851L67.238 50l31.55 31.55a4.139 4.139 0 0 1 0 5.851L87.401 98.788a4.137 4.137 0 0 1-5.851 0L50 67.238l-31.55 31.55a4.139 4.139 0 0 1-5.851 0L1.212 87.401a4.137 4.137 0 0 1 0-5.851L32.762 50 1.212 18.45a4.139 4.139 0 0 1 0-5.851L12.599 1.212a4.137 4.137 0 0 1 5.851 0L50 32.762z"}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(18);t.closeIcon=n.svgIcon({fill:"black",width:12,"@media (min-width:288px) and (max-width: 479px), (min-height:162px) and (max-height: 269px)":{width:10}})},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(111),u=r(64),c=u["default"].create(function(){return function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){return null}},{key:"shouldComponentUpdate",value:function(e){var t=this;if(!e.mutable.timeDependentNicoscript||this.props.mutable.timeDependentNicoscript)return!1;var r=e.mutable.timeDependentNicoscript,n=r.jumpToSeekPositionTriggerParameters,o=r.forbidSeekTimeRanges,i=r.forbidCommentTimeRanges,a=r.reverseTimeRangesForNonOwner,l=r.reverseTimeRangesForOwner,u=e.observer,c=s["default"].create(function(){return t.props.mutable.currentTimeMs}),p=s["default"].create(function(){return t.props.mutable.getCurrentVideoTimeMs?t.props.mutable.getCurrentVideoTimeMs():0});return this.addTimeRangeHandler(p,o,function(){return u.onEnterForbidSeek()},function(){return u.onExitForbidSeek()}),this.addTimeRangeHandler(c,i,function(){return u.onEnterForbidComment()},function(){return u.onExitForbidComment()}),this.addTimeRangeHandler(c,a,function(){return u.onEnterReverseNonOwnerThread()},function(){return u.onExitReverseNonOwnerThread()}),this.addTimeRangeHandler(c,l,function(){return u.onEnterReverseOwnerThread()},function(){return u.onExitReverseOwnerThread()}),n.forEach(function(e){var r=e.timeRange,n=e.seekPositionMs;t.addTimeRangeHandler(p,[r],function(){return u.onSeek(n,2,!0)},function(){})}),c.start(),p.start(),!1}},{key:"addTimeRangeHandler",value:function(e,t,r,n){0!==t.length&&e.add(e.makeTimeRange({rangeList:t,enterCallback:r,exitCallback:n}))}}]),t}(l.Component)},{getCurrentVideoTimeMs:!0,currentTimeMs:!0,timeDependentNicoscript:!0});t["default"]=c},function(e,t,r){e.exports=r(2)(594)},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(113),c=r(90),p=r(76),f=r(77),d=r(86),h=r(64),m=r(12),b=h["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.state={displayButton:!0},t.mutableChanged=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e=this.props.immutable,t=e.thumbnailUrl,r=e.hasLargeThumbnail,o=e.isSp,i=e.playOption,a=e.isHttps,l=this.props.mutable,p=l.controllingPlayer,h=l.playerStatus,b=!o||i.noController,y=this.getOnClickAndIcon(),v=y.onClick,g=y.Icon;return s.createElement("div",{className:u.root,onClick:b?v:void 0},s.createElement("div",{className:u.thumbnail},s.createElement("img",{src:""+m["default"].convertVideoThumbnailUrl(t,a)+(r?".L":""),alt:""})),s.createElement(c.NiconicoLogo,{className:d(u.niconicoLogo,n({},u.controlling,p))}),b?s.createElement("div",{className:u.controller},s.createElement(f["default"],{className:d(u.playToggleButton,n({},u.fadeout,0!==h)),style:{display:this.state.displayButton?"inline-block":"none"}},s.createElement(g,{className:u.playToggleButtonIcon}))):null)}},{key:"getOnClickAndIcon",value:function(){var e=this.props.observer,t=this.props.mutable,r=t.playerStatus,n=t.pendingPlayRequest,o=t.playRequest;if(0!==n)return 2===n?{onClick:function(){return e.onClickPlay()},Icon:p.Pause}:{onClick:function(){return e.onClickPause()},Icon:p.Play};switch(r){case 0:return{onClick:function(){return e.onClickPlay()},Icon:p.Play};case 3:return{onClick:function(){return e.onClickPlay()},Icon:p.Pause};case 1:return 2===o?{onClick:function(){return e.onClickPlay()},Icon:p.Pause}:{onClick:function(){return e.onClickPause()},Icon:p.Play};case 2:return{onClick:function(){return e.onClickPause()},Icon:p.Play};default:return{Icon:p.Play}}}},{key:"shouldComponentUpdate",value:function(e,t){return this.mutableChanged(e)||t.displayButton!==this.state.displayButton}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=e.mutable,n=r.playerStatus,o=r.playRequest,i=r.pendingPlayRequest,a=this.props.mutable.pendingPlayRequest;if(0===n)return this.fadeoutDurationTimer&&clearTimeout(this.fadeoutDurationTimer),void this.setState({displayButton:!0});if(0===this.props.mutable.playerStatus)return void this.setState({displayButton:!1});if(0===o){if(0!==i&&0!==a&&i!==a)return this.fadeoutDurationTimer=setTimeout(function(){return t.setState({displayButton:!1})},u.fadeoutDuration),void this.setState({displayButton:!0})}else if(0===i&&0===a)return this.fadeoutDurationTimer=setTimeout(function(){return t.setState({displayButton:!1})},u.fadeoutDuration),void this.setState({displayButton:!0})}}],[{key:"isEventTargetedToSurface",value:function(e){for(var t=e;t;){if(t.className===u.root)return!0;t=t.parentElement}return!1}}]),r}(s.Component)},{playerStatus:!0,pendingPlayRequest:!0,playRequest:!0,controllingPlayer:!0});t["default"]=b},function(e,t,r){(function(e){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i;Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),l=r(18),s=r(58),u=a["default"].registerKeyframes({"0%":{opacity:1,transform:"scale(1)"},to:{opacity:0,transform:"scale(1.1)"}});t.root=a["default"].registerStyle(n({position:"absolute",top:0,left:0,width:"100%",height:"100%",cursor:"default","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.enabledHover+" &:hover img",{transform:"translate(-50%,-50%) scale(1.1)"})),t.thumbnail=a["default"].registerStyle(n({},"."+t.root+" &",{display:"inline-block",width:"100%",height:"100%",position:"absolute",top:0,left:0,background:"#000",overflow:"hidden",userSelect:"none","& img":{display:"inline-block",position:"absolute",width:"100%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",transition:"all .1s ease"}})),t.playToggleButtonIcon=l.svgIcon(n({},"."+t.root+" &",{width:24,fill:"rgba(255,255,255,.8)"})),t.fadeout="fadeout",t.fadeoutDuration=400,t.playToggleButton=a["default"].registerStyle((o={},n(o,"."+t.root+" &",{width:84,height:84,background:"url(data:image/svg+xml;base64,"+new e('<svg viewBox="0 0 73 76" xmlns="http://www.w3.org/2000/svg"><path d="M0 23.65v37.89a6.36 6.36 0 0 0 6.39 6.32h7.53l4.12 6.61a1.51 1.51 0 0 0 1.34.72 1.53 1.53 0 0 0 1.31-.72l4.12-6.61h22.11l4.12 6.61a1.51 1.51 0 0 0 1.34.72 1.53 1.53 0 0 0 1.31-.72l4.13-6.61h8.36a6.35 6.35 0 0 0 6.39-6.32V23.65a6.35 6.35 0 0 0-6.39-6.32H41.99L56.05 3.44 52.56-.03 36.23 16.11 19.92.06l-3.5 3.45 14 13.82h-24A6.36 6.36 0 0 0 0 23.65z" style="fill:rgba(0,0,0,.8);stroke:rgba(66,66,66,.8);"/></svg>').toString("base64")+") no-repeat center",border:"none",transition:"all .1s ease",cursor:"pointer",outline:"none",paddingTop:12,"-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 479px), (max-height: 269px)":n({width:56,height:56,paddingTop:9},"& ."+t.playToggleButtonIcon,{width:16,fill:"rgba(255,255,255,.8)"})}),n(o,s.enabledHover+" ."+t.root+":hover &",n({transform:"scale(1.1)"},"& ."+t.playToggleButtonIcon,{opacity:1,fill:"#fff"})),n(o,"."+t.root+" &."+t.fadeout,n({background:"none",animation:u+" "+t.fadeoutDuration/1e3+"s linear 1 normal forwards"},"& ."+t.playToggleButtonIcon,{width:40,fill:"rgba(255,255,255,.9)",stroke:"#666","@media (max-width: 479px), (max-height: 269px)":{width:26}})),n(o,s.enabledHover+" ."+t.root+":hover &."+t.fadeout,n({background:"none"},"& ."+t.playToggleButtonIcon,{opacity:.8})),o)),t.controller=a["default"].registerStyle({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",textAlign:"center",whiteSpace:"noWrap"}),t.controlling="controlling",t.niconicoLogo=l.svgIcon((i={},n(i,"."+t.root+" &",{display:"none"}),n(i,".unplayed ."+t.root+" &",{display:"block",position:"absolute",opacity:1,transition:"opacity .4s ease",width:120,height:18,bottom:12,right:16,fill:"rgba(255,255,255,.8)",filter:"drop-shadow(0 0 1px rgba(66,66,66,.6))","@media (max-width: 479px), (max-height: 269px)":{width:104,bottom:8,right:12},"@media (max-width: 223px), (max-height: 125px)":{display:"none"}}),n(i,".unplayed ."+t.root+" &."+t.controlling,{opacity:0,transition:"opacity .4s ease"}),i))}).call(t,r(71).Buffer)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(115),u=r(116),c=r(77),p=r(117),f=r(12),d=r(86),h=r(13),m=r(64),b=r(20),y=m["default"].create(function(e){var t=function(t){function r(){n(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.state={disabledLeftArrowButton:!1,disabledRightArrowButton:!1},t.mutableChanged=e,t.onClickItem=function(e){if(t.props.mutable.relatedVideos){var r=e.currentTarget.getAttribute("data-id"),n=t.props.mutable.relatedVideos.items.find(function(e){return e.id===r});n&&t.props.mutable.relatedVideos.logResponse(n)}},t}return i(r,t),a(r,[{key:"shouldComponentUpdate",value:function(e,t){var r=this;return this.mutableChanged(e)||Object.keys(t).some(function(e){return t[e]!==r.state[e]})}},{key:"onClickArrowLeft",value:function(){this.state.disabledLeftArrowButton||this.props.observer.onRelatedVideoListPageChange(this.props.mutable.relatedVideoListPage-1)}},{key:"onClickArrowRight",value:function(){this.state.disabledRightArrowButton||this.props.observer.onRelatedVideoListPageChange(this.props.mutable.relatedVideoListPage+1)}},{key:"onChangePageability",value:function(e){this.setState({disabledLeftArrowButton:!e.toPrevious,disabledRightArrowButton:!e.toNext}),this.props.observer.onRelatedVideoListPageChange(e.currentPage)}}]),r}(l.Component),r=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props.immutable,r=t.playOption,n=t.isHttps,o=t.parentUrl,i=h.parse(o).hostname;return l.createElement("div",{className:d(s.root)},l.createElement(c["default"],{className:d(s.leftArrowButton,{disabled:this.state.disabledLeftArrowButton}),onClick:function(){return e.onClickArrowLeft()}},l.createElement(u.ArrowLeft,{className:s.arrowIcon})),l.createElement(p["default"],{className:s.list,page:this.props.mutable.relatedVideoListPage,onChangePageability:function(t){return e.onChangePageability(t)}},this.props.mutable.relatedVideos&&this.props.mutable.relatedVideos.items.map(function(t,o){return l.createElement("div",{className:s.item,key:o},l.createElement(b["default"],{href:e.props.immutable.nicovideoServerUrl+"/watch/"+t.id,query:{via:"thumb_watch",at:"relation",ref:i},noLinkToNiconico:r.noLinkToNiconico,target:"_blank","data-id":t.id,onClick:e.onClickItem},l.createElement("div",{className:s.thumbnail},l.createElement("img",{src:f["default"].convertVideoThumbnailUrl(t.content.thumbnail.url,n),alt:t.content.title})),l.createElement("div",{className:s.time},f["default"].formatSeconds(t.content.duration)),l.createElement("div",{className:s.cover},l.createElement("p",{className:s.title},t.content.title))))})),l.createElement(c["default"],{className:d(s.rightArrowButton,{disabled:this.state.disabledRightArrowButton}),onClick:function(){return e.onClickArrowRight()}},l.createElement(u.ArrowRight,{className:s.arrowIcon})))}}]),t}(t),m=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props.immutable,r=t.playOption,n=t.isHttps,o=t.parentUrl,i=h.parse(o).hostname;return l.createElement("div",{className:d(s.root)},l.createElement(c["default"],{className:d(s.leftArrowButton,{disabled:this.state.disabledLeftArrowButton}),onClick:function(){return e.onClickArrowLeft()}},l.createElement(u.ArrowLeft,{className:s.arrowIcon})),l.createElement(p["default"],{className:s.list,page:this.props.mutable.relatedVideoListPage,onChangePageability:function(t){return e.onChangePageability(t)}},this.props.mutable.relatedVideos&&this.props.mutable.relatedVideos.items.map(function(t,o){return l.createElement(b["default"],{href:e.props.immutable.nicovideoServerUrl+"/watch/"+t.id,query:{via:"thumb_watch",at:"relation",ref:i},noLinkToNiconico:r.noLinkToNiconico,target:"_blank",key:o},l.createElement("div",{className:s.item},l.createElement("div",{className:s.thumbnailContainer},l.createElement("div",{className:s.thumbnail},l.createElement("img",{src:f["default"].convertVideoThumbnailUrl(t.content.thumbnail.url,n),alt:t.content.title})),l.createElement("div",{className:s.time},f["default"].formatSeconds(t.content.duration))),l.createElement("div",{className:s.cover},l.createElement("p",{className:s.title},t.content.title))))})),l.createElement(c["default"],{className:d(s.rightArrowButton,{disabled:this.state.disabledRightArrowButton}),onClick:function(){return e.onClickArrowRight()}},l.createElement(u.ArrowRight,{className:s.arrowIcon})))}}]),t}(t);return function(e){var t=e.immutable,n=e.mutable,o=e.observer;return t.isSp?l.createElement(m,{immutable:t,mutable:n,observer:o}):l.createElement(r,{immutable:t,mutable:n,observer:o})}},{relatedVideos:!0,relatedVideoListPage:!0});t["default"]=y},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i,a,l,s,u,c,p,f,d;Object.defineProperty(t,"__esModule",{value:!0});var h=r(5),m=r(18),b=r(75),y=r(58);t.root=h["default"].registerStyle({background:"rgba(0,0,0,0.8)",position:"absolute",left:0,top:0,cursor:"default",width:"100%",height:"100%"}),t.list=h["default"].registerStyle((o={},n(o,"."+t.root+" &",{display:"flex",flexFlow:"column wrap",justifyContent:"flex-start",maxWidth:480,position:"relative",left:0,right:0,top:"50%",transform:"translateY(-50%)",margin:"auto",overflow:"hidden",height:"100%","@media (min-width: 480px) and (min-height: 270px)":{transform:"translateY(calc(-50% + 24px))"},"@media (max-width: 223px), (max-height: 191px)":{display:"none"},"@media (min-height: 192px) and (max-height: 341px)":{maxHeight:94},"@media (min-height: 342px) and (max-height: 431px)":{maxHeight:188},"@media (min-height: 432px)":{maxHeight:282},"@media (min-width: 224px) and (max-width: 383px)":{maxWidth:160},"@media (min-width: 384px) and (max-width: 543px)":{maxWidth:320},"@media (min-width: 544px)":{maxWidth:480}}),n(o,".sp ."+t.root+" &",{display:["flex","-webkit-flex"],maxWidth:772,top:"50%",transform:"translateY(-50%)",flexFlow:"column wrap","-webkit-flex-flow":"column wrap",">a":{textDecoration:"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},"@media (min-width: 480px) and (min-height: 270px)":{transform:"translateY(-45%)"},"@media (max-width: 316px), (max-height: 161px)":{display:"none"},"@media (min-height: 162px) and (max-height: 323px)":{maxHeight:90},"@media (min-height: 324px) and (max-height: 383px)":{maxHeight:180},"@media (min-height: 414px)":{maxHeight:270},"@media (min-width: 160px) and (max-width: 575px)":{maxWidth:258},"@media (min-width: 576px) and (max-width: 863px)":{maxWidth:516},"@media (min-width: 864px)":{maxWidth:774}}),o)),t.item=h["default"].registerStyle((i={},n(i,"."+t.root+" &",n({width:152,height:86,position:"relative",margin:4},y.enabledHover+" &:hover:after",{content:'""',width:"100%",height:"100%",position:"absolute",border:"1px solid rgba(0,124,255,.7)",borderRadius:1,boxSizing:"border-box",pointerEvents:"none"})),n(i,".sp ."+t.root+" &",n({width:240,height:72,border:"1px solid #333",padding:4,background:"#000"},"&:active",{border:"1px solid rgba(0,124,255,.7)"})),i)),t.thumbnailContainer=h["default"].registerStyle(n({},".sp ."+t.root+" &",{width:128,height:72,position:"absolute",top:"50%",
left:4,transform:"translateY(-50%)"})),t.thumbnail=h["default"].registerStyle((a={},n(a,"."+t.root+" &",{display:"inline-block",width:"100%",height:"100%",position:"absolute",top:0,left:0,background:"#000",overflow:"hidden"}),n(a,"."+t.root+" & img",{display:"inline-block",position:"absolute",width:"100%",height:"auto",top:"50%",left:"50%",transform:"translate(-50%,-50%)",transition:"all .2s ease"}),a)),t.time=h["default"].registerStyle(n({},"."+t.root+" &",{position:"absolute",right:4,bottom:4,background:"rgba(0,0,0,0.8)",padding:4,margin:0,color:"#fff",fontSize:h["default"].fontSizeSmall})),t.cover=h["default"].registerStyle((l={},n(l,"."+t.root+" &",{position:"absolute",width:"100%",height:"100%",background:"linear-gradient(to bottom, rgba(0,0,0,.8) 0%,rgba(0,0,0,.6) 12%,rgba(0,0,0,.4) 20%,rgba(0,0,0,0) 32%)",transition:"0.4s",padding:"4px 8px",boxSizing:"border-box"}),n(l,y.enabledHover+" ."+t.root+" ."+t.item+":hover &",{background:"rgba(0,0,0,.8)"}),n(l,".sp ."+t.root+" &",{width:116,background:"rgba(0,0,0,1)",top:0,right:0}),l)),t.title=h["default"].registerStyle((s={},n(s,"."+t.root+" &",{fontSize:h["default"].fontSizeMedium,lineHeight:"1.5",height:16,overflow:"hidden",color:"#fff",margin:0,wordWrap:"break-word",wordBreak:"break-all"}),n(s,y.enabledHover+" ."+t.root+" ."+t.item+":hover &",{height:"100%"}),n(s,".sp ."+t.root+" &",{fontSize:h["default"].fontSizeXSmall,lineHeight:"1.4",height:"100%"}),s)),t.leftArrowButton=b.actionButton((c={},n(c,"."+t.root+" &",(u={position:"absolute",top:"50%",transform:"translateY(-50%)",left:0,background:"none",border:"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 223px), (max-height: 191px)":{display:"none"},"@media (min-width: 480px) and (min-height: 270px)":{transform:"translateY(calc(-50% + 24px))"}},n(u,"&."+b.disabled,{opacity:.3,cursor:"default"}),n(u,"&:not(."+b.disabled+"):active",{transition:"none",filter:"drop-shadow(0 0 5px rgba(255,255,255,.5))"}),u)),n(c,".sp ."+t.root+" &",{padding:0,"@media (max-width: 316px), (max-height: 161px)":{display:"none"},"@media (min-width: 317px) and (min-height: 162px)":{display:"block"},"@media (min-width: 480px) and (min-height: 270px)":{transform:"translateY(-45%)"}}),c)),t.rightArrowButton=b.actionButton((f={},n(f,"."+t.root+" &",(p={position:"absolute",top:"50%",transform:"translateY(-50%)",right:0,background:"none",border:"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-width: 223px), (max-height: 191px)":{display:"none"},"@media (min-width: 480px) and (min-height: 270px)":{transform:"translateY(calc(-50% + 24px))"}},n(p,"&."+b.disabled,{opacity:.3,cursor:"default"}),n(p,"&:not(."+b.disabled+"):active",{transition:"none",filter:"drop-shadow(0 0 5px rgba(255,255,255,.5))"}),p)),n(f,".sp ."+t.root+" &",{padding:0,"@media (max-width: 316px), (max-height: 161px)":{display:"none"},"@media (min-width: 317px) and (min-height: 162px)":{display:"block"},"@media (min-width: 480px) and (min-height: 270px)":{transform:"translateY(-45%)"}}),f)),t.arrowIcon=m.svgIcon((d={},n(d,".sp ."+t.root+" &",{fill:"white",width:12,opacity:.9}),n(d,".sp ."+t.root+" ."+t.rightArrowButton+":not(."+b.disabled+"):active &, .sp ."+t.root+" ."+t.leftArrowButton+":not(."+b.disabled+"):active &",{opacity:1}),d))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.ArrowLeft=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 52 100"},e),n.createElement("path",{d:"M1.247 53.144a4.586 4.586 0 0 1 0-6.288l43.046-45.46A4.434 4.434 0 0 1 49.194.328 4.541 4.541 0 0 1 52 4.54v90.92a4.541 4.541 0 0 1-2.806 4.212 4.434 4.434 0 0 1-4.901-1.068L1.247 53.144z"}))},t.ArrowRight=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 52 100"},e),n.createElement("path",{d:"M50.753 46.856a4.586 4.586 0 0 1 0 6.288L7.707 98.604a4.434 4.434 0 0 1-4.901 1.068A4.541 4.541 0 0 1 0 95.46V4.54A4.541 4.541 0 0 1 2.806.328a4.434 4.434 0 0 1 4.901 1.068l43.046 45.46z"}))}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.boundOnResize=e.onResize.bind(e),e}return i(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.filterDivProps(this.props);return l.createElement("div",Object.assign({},t,{ref:function(t){return e.updatePage(t)}}),this.props.children)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.boundOnResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.boundOnResize)}},{key:"updatePage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(this.divElement=t);var r=this.divElement;r.scrollLeft=this.props.page*r.clientWidth;var n=r.scrollWidth-r.clientWidth,o={toPrevious:r.scrollLeft>0,toNext:r.scrollLeft<n,currentPage:0|Math.ceil(r.scrollLeft/r.clientWidth)};this.pageability&&!Object.keys(o).some(function(t){return o[t]!==e.pageability[t]})||(this.pageability=o,this.props.onChangePageability(o))}},{key:"filterDivProps",value:function(e){return Object.keys(e).reduce(function(t,r){return["page","onChangePage","onChangePageability"].indexOf(r)>=0?t:(t[r]=e[r],t)},{})}},{key:"onResize",value:function(){this.updatePage()}}]),t}(l.Component);t["default"]=s},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(119),c=r(86),p=r(64),f=2e3,d=p["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.messageDeletionTimerId=null,t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e=this,t=this.props.mutable.message;return this.messageDeletionTimerId&&(clearTimeout(this.messageDeletionTimerId),this.messageDeletionTimerId=null),t&&(this.messageDeletionTimerId=setTimeout(function(){e.messageDeletionTimerId=null,e.props.observer.clearMessage()},f)),s.createElement("div",{className:c(u.root,n({},u.show,!!t))},s.createElement("p",{className:u.message},t))}}]),r}(s.Component)},{message:!0});t["default"]=d},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5);t.show="show",t.root=o["default"].registerStyle(n({display:"none"},"&."+t.show,{display:"block",width:"100%",height:"100%",position:"absolute",top:0,left:0})),t.message=o["default"].registerStyle(n({},"."+t.root+" &",{position:"relative",top:"50%",transform:"translateY(-50%)",textAlign:"center",background:"rgba(0, 0, 0, 0.8)",lineHeight:1.8,color:"#ffa001",margin:"0 20px",padding:8,borderRadius:4}))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(121),c=r(124),p=r(127),f=r(130),d=r(131),h=r(133),m=r(139),b=r(93),y=r(86),v=r(64),g=v["default"].create(function(e,t){return function(r){function v(){o(this,v);var r=i(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments));return r.shouldComponentUpdate=e,r.propsForChildren=t,r}return a(v,r),l(v,[{key:"render",value:function(){return s.createElement("div",{className:y(b.root,n({},b.expand,0!==this.props.mutable.playerOverlay))},s.createElement(f["default"],Object.assign({},this.propsForChildren())),s.createElement(u["default"],Object.assign({},this.propsForChildren())),this.props.immutable.playOption.noTags?null:s.createElement(p["default"],Object.assign({},this.propsForChildren())),this.props.immutable.playOption.noShare?null:s.createElement(c["default"],Object.assign({},this.propsForChildren())),s.createElement(m["default"],Object.assign({},this.propsForChildren())),s.createElement(h["default"],Object.assign({},this.propsForChildren())),s.createElement(d["default"],Object.assign({},this.propsForChildren())))}}]),v}(s.Component)},{playerOverlay:!0},f["default"],u["default"],p["default"],c["default"],h["default"],d["default"]);t["default"]=g},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.noShare,r=e.noVideoDetail,n=e.playerOverlay;return 0!==n?1:(t?0:1)+(r?0:1)}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),c=r(122),p=r(123),f=r(75),d=r(77),h=r(107),m=r(86),b=r(64),y=b["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),s(r,[{key:"render",value:function(){var e,t=this.props.mutable.playerOverlay,r=this.props.immutable.playOption,o=r.noShare,i=r.noVideoDetail;return u.createElement("div",null,o?null:this.createActionButton({icon:u.createElement(p.Share,{className:c.toggleIcon}),isHidden:0!==t,title:this.props.messages.labels.share,next:1,extraClassName:(e={},n(e,c.shareButton,!0),n(e,c.rightMostButton,i),e)}),i?null:this.createActionButton({icon:u.createElement(p.VideoDetail,{className:c.toggleIcon}),isHidden:0!==t,title:this.props.messages.labels.videoDetail,next:2,extraClassName:c.rightMostButton}),this.createActionButton({icon:u.createElement(h["default"],null),isHidden:0===t,title:this.props.messages.labels.close,next:0,extraClassName:c.rightMostButton}))}},{key:"createActionButton",value:function(e){var t,r=this,o=e.extraClassName,i=e.icon,a=e.isHidden,l=e.title,s=e.next;return u.createElement(d["default"],{className:m(c.playerOverlayToggleButton,o,(t={},n(t,f.sp,this.props.immutable.isSp),n(t,c.hidden,a),t)),onClick:function(){return r.props.observer.onChangePlayerOverlay(s)},"data-title":l},i)}}]),r}(u.Component)},{playerOverlay:!0});t["default"]=y,t.getVisibleButtonCount=l},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=f[e],r=t.widthHeight,n=t.interval,o=t.right;return r+n+o}function i(e,t){var r=f[e],n=r.widthHeight,o=r.interval;return(n+o)*t}var a,l;Object.defineProperty(t,"__esModule",{value:!0});var s=r(5),u=r(18),c=r(75),p=r(58);t.calcTotalWidth=i;var f={small:{widthHeight:30,top:8,right:12,interval:8},large:{widthHeight:34,top:12,right:16,interval:10}};t.thresholds={small:{width:288,height:162},large:{width:480,height:270}},t.hidden="hidden",t.shareButton="shareButton",t.rightMostButton="rightMostButton",t.possibleButtonCounts=[0,1,2],t.playerOverlayToggleButton=s["default"].registerStyle((a={display:"inline-block",position:"absolute",top:f.large.top,right:o("large"),width:f.large.widthHeight,height:f.large.widthHeight,borderRadius:f.large.widthHeight/2,border:"none",cursor:"pointer",background:"rgba(255,255,255,.6)",outline:"none"},n(a,c.toolTipPropName,c.toolTipStyle({top:"calc(100% + 4px)"})),n(a,"&:after",{display:"none"}),n(a,p.enabledHover+" &:hover",{background:"rgba(255,255,255,1)",transition:"all .2s ease .2s"}),n(a,"@media (max-width:"+(t.thresholds.small.width-1)+"px), (max-height:"+(t.thresholds.small.height-1)+"px)",{display:"none"}),n(a,"@media (min-width:"+t.thresholds.small.width+"px) and (max-width: "+(t.thresholds.large.width-1)+"px), (min-height:"+t.thresholds.small.height+"px) and (max-height: "+(t.thresholds.large.height-1)+"px)",{width:f.small.widthHeight,height:f.small.widthHeight,top:f.small.top,right:o("small"),borderRadius:f.small.widthHeight/2}),n(a,"&."+c.sp,{padding:0,background:"rgba(255,255,255,.9)","-webkit-tap-highlight-color":"rgba(0,0,0,0)","&:active":{background:"rgba(255,255,255,1)",filter:"drop-shadow(0 0 5px rgba(255,255,255,.5))"}}),n(a,"&."+t.hidden,{display:"none"}),n(a,"&."+t.rightMostButton,n({right:f.large.right},"@media (max-width: "+(t.thresholds.large.width-1)+"px), (max-height: "+(t.thresholds.large.height-1)+"px)",{right:f.small.right})),a)),t.toggleIcon=u.svgIcon((l={},n(l,"."+t.playerOverlayToggleButton+" &",{fill:"black",width:8,"@media (min-width:288px) and (max-width: 479px), (min-height:162px) and (max-height: 269px)":{width:7}}),n(l,"."+t.shareButton+" &",{width:16,"@media (min-width:288px) and (max-width: 479px), (min-height:162px) and (max-height: 269px)":{width:14}}),l))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.Share=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 101 100"},e),n.createElement("path",{d:"M68.171 17.999A16.085 16.085 0 0 1 68.047 16c0-8.831 7.169-16 16-16s16 7.169 16 16-7.169 16-16 16a15.93 15.93 0 0 1-10.019-3.528L31.923 52.001a16.085 16.085 0 0 1 .116 2.497l40.862 18.027A15.947 15.947 0 0 1 84.047 68c8.831 0 16 7.169 16 16s-7.169 16-16 16-16-7.169-16-16c0-.166.002-.332.008-.497L27.192 65.475A15.946 15.946 0 0 1 16.047 70c-8.831 0-16-7.169-16-16s7.169-16 16-16c3.791 0 7.276 1.321 10.018 3.528l42.106-23.529z"}))},t.VideoDetail=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 40 100"},e),n.createElement("path",{d:"M34 46.535V94a6.003 6.003 0 0 1-1.757 4.243A6.003 6.003 0 0 1 28 100H12a6.003 6.003 0 0 1-4.243-1.757A6.003 6.003 0 0 1 6 94V46.535A29.846 29.846 0 0 0 20 50c5.055 0 9.82-1.253 14-3.465zM20 0c11.038 0 20 8.962 20 20s-8.962 20-20 20S0 31.038 0 20 8.962 0 20 0z"}))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(125),c=r(126),p=r(77),f=r(86),d=r(12),h=r(64),m="twttr",b="fbAsyncInit",y="544893972254752",v="v2.7",g=h["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.isFirstMount=!0,t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"componentWillMount",value:function(){var e=this;"undefined"!=typeof window&&this.isFirstMount&&(window[m]={_e:[],ready:function(e){return window[m]._e.push(e)}},window[m].ready(function(){return window[m].events.bind("click",function(){return e.props.observer.countShareTwitter()})}),window[b]=function(){return FB.init({appId:y,version:v})}),this.isFirstMount=!1}},{key:"render",value:function(){var e=this,t=this.props.immutable,r=t.videoWatchId,o=t.videoId,i=t.title,a=t.isSp,l="https://nico.ms/"+r;return s.createElement("div",{className:f(u.root,n({},u.show,1===this.props.mutable.playerOverlay))},s.createElement("p",{className:u.title},this.props.messages.labels.share),s.createElement("a",{className:u.shareButton,href:"https://twitter.com/intent/tweet"+d["default"].objectToQuery({url:l+"?ref=twitter_share_extplayer",text:i,hashtags:o}),rel:"noopener"},s.createElement(c.Twitter,{className:u.shareButtonIcon})),s.createElement(p["default"],{className:u.shareButton,onClick:function(){return e.shareFacebook()}},s.createElement(c.Facebook,{className:u.shareButtonIcon})),s.createElement("a",{className:u.shareButton,onClick:function(t){return e.shareLine(t)},rel:"noopener"},s.createElement(c.Line,{className:u.shareButtonIcon})),a?s.createElement("a",{className:u.videoUrl,onClick:function(e){return e.preventDefault()},href:l},l):s.createElement("div",{className:u.videoUrl,onClick:function(t){return e.select(t.currentTarget)}},l),s.createElement("script",{src:"https://platform.twitter.com/widgets.js",type:"text/javascript",async:!0}),s.createElement("script",{src:"//connect.facebook.net/en_US/sdk.js",type:"text/javascript",async:!0}))}},{key:"shareFacebook",value:function(){if("undefined"!=typeof FB){this.props.observer.countShareFacebook();var e=this.props.immutable,t=e.videoWatchId,r=e.title,n=e.description,o=e.thumbnailUrl;FB.ui({method:"feed",name:r,link:"https://www.nicovideo.jp/watch/"+t+"?ref=facebook_share_extplayer",picture:o,description:n})}}},{key:"shareLine",value:function(e){e.preventDefault();var t=this.props.immutable,r=t.videoWatchId,n=t.title,o=t.os,i=t.isIPad;if(3===o.type)this.props.observer.countShareLine("line://msg/text/"+encodeURIComponent(n+" \nhttps://nico.ms/"+r+"?ref=line_share_extplayer"));else{var a=2!==o.type||i?"https://www.nicovideo.jp/watch/"+r+"?ref=line_share_extplayer":n+" \nhttps://nico.ms/"+r+"?ref=line_share_extplayer";this.props.observer.countShareLine(),window.open("https://lineit.line.me/share/ui"+d["default"].objectToQuery({url:a}),"","width=500,height=500")}}},{key:"select",value:function(e){var t=this;this.windowClickListener&&window.removeEventListener("click",this.windowClickListener);var r=window.getSelection(),n=document.createRange();n.selectNodeContents(e),r.removeAllRanges(),r.addRange(n);var o=!0;this.windowClickListener=function(){return o?void(o=!1):(r.removeRange&&r.removeRange(n),t.windowClickListener&&window.removeEventListener("click",t.windowClickListener),void(t.windowClickListener=null))},window.addEventListener("click",this.windowClickListener)}}]),r}(s.Component)},{playerOverlay:!0});t["default"]=g},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o;Object.defineProperty(t,"__esModule",{value:!0});var i=r(5),a=r(75),l=r(18),s=r(58);t.show="show",t.root=i["default"].registerStyle(n({display:"none"},"&."+t.show,{display:"block",margin:"0 auto",width:"100%",height:136,textAlign:"center",position:"absolute",bottom:0,right:0,left:0,"@media (min-height: 540px)":{top:"50%",transform:"translateY(-50%)"},"@media (max-width:287px), (max-height:161px)":{display:"none"},"@media (max-height: 179px)":{height:112}})),t.title=i["default"].registerStyle(n({},"."+t.root+" &",{fontSize:i["default"].fontSizeMedium,cursor:"default","@media (max-height: 179px)":{margin:"8px auto",fontSize:i["default"].fontSizeSmall}})),t.videoUrl=i["default"].registerStyle(n({},"."+t.root+" &",{display:"block",width:240,margin:"12px auto",padding:6,color:"#fff",background:"#000",border:"1px solid #333",userSelect:"text","@media (max-height: 179px)":{margin:"8px auto",fontSize:i["default"].fontSizeSmall},textDecoration:"none"})),t.shareButton=a.actionButton(n({},"."+t.root+" &",{width:38,height:38,padding:0,backgroundColor:"#000",boxSizing:"border-box",borderRadius:4,border:"none",margin:"0 8px","-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media (max-height: 179px)":{width:30,height:30}})),t.shareButtonIcon=l.svgIcon((o={},n(o,"."+t.shareButton+" &",{width:38,borderRadius:4,"-webkit-border-radius":4,"@media (max-height: 179px)":{width:30,height:30}}),n(o,s.enabledHover+" ."+t.shareButton+":hover &, "+s.disabledHover+" ."+t.shareButton+":active &",{opacity:.6}),o)),i["default"].registerRule("::selection",{color:"#fff",background:"lightblue"})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(4);t.Twitter=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 400 400"},e),n.createElement("title",null,"Twitter"),n.createElement("path",{fill:"#1da1f2",d:"M0 0h400v400H0z","data-name":"Dark Blue"}),n.createElement("g",{"data-name":"Logo FIXED"},n.createElement("path",{d:"M153.62 301.59c94.34 0 145.94-78.16 145.94-145.94 0-2.22 0-4.43-.15-6.63A104.36 104.36 0 0 0 325 122.47a102.38 102.38 0 0 1-29.46 8.07 51.47 51.47 0 0 0 22.55-28.37 102.79 102.79 0 0 1-32.57 12.45 51.34 51.34 0 0 0-87.41 46.78A145.62 145.62 0 0 1 92.4 107.81a51.33 51.33 0 0 0 15.88 68.47A50.91 50.91 0 0 1 85 169.86v.65a51.31 51.31 0 0 0 41.15 50.28 51.21 51.21 0 0 1-23.16.88 51.35 51.35 0 0 0 47.92 35.62 102.92 102.92 0 0 1-63.7 22 104.41 104.41 0 0 1-12.21-.74 145.21 145.21 0 0 0 78.62 23",fill:"#fff"}),n.createElement("path",{fill:"none",d:"M0 0h400v400H0z"})))},t.Facebook=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100 100"},e),n.createElement("title",null,"fb"),n.createElement("rect",{width:"100",height:"100",rx:"5.52",ry:"5.52",fill:"#3a5691"}),n.createElement("path",{d:"M69 100V61.28h13l1.95-15.09H69v-9.64c0-4.37 1.21-7.35 7.48-7.35h8V15.7a106.94 106.94 0 0 0-11.7-.59c-11.52 0-19.41 7-19.41 19.95v11.13h-13v15.09h13v38.73H69z",fill:"#fff"}))},t.Line=function(e){return n.createElement("svg",Object.assign({role:"img",viewBox:"0 0 100.04 100"},e),n.createElement("title",null,"line"),n.createElement("g",{"data-name":"TYPE A"},n.createElement("path",{d:"M100.04 0v100H.04C-.04 89.67.04 0 .04 0h81.91",fill:"#2dad38"}),n.createElement("path",{d:"M86.29 45.6c0-16.29-16.33-29.55-36.41-29.55S13.47 29.31 13.47 45.6c0 14.61 13 26.84 30.45 29.15 1.19.26 2.8.78 3.21 1.8a7.48 7.48 0 0 1 .12 3.29L46.72 83c-.16.92-.73 3.6 3.15 2s21-12.35 28.61-21.14c5.28-5.79 7.8-11.66 7.8-18.18",fill:"#fff"}),n.createElement("path",{d:"M42.48 37.73h-2.55a.71.71 0 0 0-.71.71V54.3a.71.71 0 0 0 .71.71h2.55a.71.71 0 0 0 .71-.71V38.44a.71.71 0 0 0-.71-.71M60.04 37.73H57.5a.71.71 0 0 0-.71.71v9.42L49.53 38h-3.15a.71.71 0 0 0-.71.71V54.3a.71.71 0 0 0 .71.71h2.55a.71.71 0 0 0 .71-.71v-9.42l7.28 9.83a.7.7 0 0 0 .18.17H60.04a.71.71 0 0 0 .71-.71V38.44a.71.71 0 0 0-.71-.71M36.32 51h-6.94V38.44a.71.71 0 0 0-.71-.71h-2.55a.71.71 0 0 0-.71.71V54.3a.7.7 0 0 0 .2.49.7.7 0 0 0 .49.2h10.2a.71.71 0 0 0 .74-.69v-2.55a.71.71 0 0 0-.72-.75M74.16 41.7a.71.71 0 0 0 .71-.7v-2.56a.71.71 0 0 0-.71-.71h-10.2a.71.71 0 0 0-.49.2.71.71 0 0 0-.2.49V54.3a.7.7 0 0 0 .2.49.7.7 0 0 0 .49.2h10.2a.71.71 0 0 0 .71-.71v-2.53a.71.71 0 0 0-.71-.75h-6.94v-2.64h6.94a.71.71 0 0 0 .71-.71v-2.56a.71.71 0 0 0-.71-.71h-6.94V41.7h6.94z",fill:"#2dad38"})))}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(128),c=r(121),p=r(86),f=r(13),d=r(91),h=r(20),m=r(64),b=m["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e,t=this.props.immutable,r=t.tags,o=t.nicovideoServerUrl,i=t.playOption,a=t.isSp,l=t.parentUrl,m=i.noShare,b=i.noVideoDetail,y=i.noLinkToNiconico,v=this.props.mutable,g=v.playerOverlay,w=v.playerStatus,S=f.parse(l).hostname;return s.createElement("div",{className:p(u.root,u.rightButton(c.getVisibleButtonCount({noShare:m,noVideoDetail:b,playerOverlay:g})),(e={},n(e,u.collapsed,0===g),n(e,u.sp,a),n(e,u.hidden,3===g),e))},s.createElement("div",{className:p(u.itemListTitle,n({},u.hidden,!r.length))},this.props.messages.labels.tag),r.map(function(e,t){return s.createElement(h["default"],{noLinkToNiconico:y,href:o+"/tag/"+encodeURIComponent(e),query:{via:"thumb_watch",at:"tag",state:d["default"].createStateQuery(w),ref:S},target:"_blank",key:t,className:u.itemLink},s.createElement("div",{className:u.item},e))}))}}]),r}(s.Component)},{playerStatus:!0,playerOverlay:!0});t["default"]=b},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i;Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),l=r(58),s=r(129),u=r(129);t.rightButton=u.rightButton,t.collapsed="collapsed",t.sp="sp",t.hidden="hidden",t.root=a["default"].registerStyle(Object.assign((o={margin:"-4px 0 0",overflow:"hidden"},n(o,"&."+t.collapsed,{maxHeight:36}),n(o,"@media (min-height: 320px)",{maxHeight:108}),n(o,"@media (min-height: 284px) and (max-height: 319px)",{maxHeight:72}),n(o,"@media (min-height: 270px) and (max-height: 283px)",{height:36}),n(o,"@media (max-width: 479px), (max-height: 269px)",{display:"none"}),n(o,".fullScreen &",{"@media screen and (orientation: portrait) and (max-width: 479px)":n({display:"inline-block",height:108},"&."+t.collapsed,{height:36})}),n(o,"&."+t.hidden,{display:"none"}),o),s.paddingRightStyles)),t.itemListTitle=a["default"].registerStyle((i={fontSize:a["default"].fontSizeSmall,display:"inline-block",backgroundColor:"rgba(200,200,200,0.5)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:16,color:"#fff",cursor:"default",margin:"6px 4px 2px 0",padding:"6px 8px"},n(i,"&."+t.hidden,{display:"none"}),n(i,"."+t.root+"."+t.sp+" &",{fontSize:a["default"].fontSizeXSmall}),i)),t.item=a["default"].registerStyle(n({display:"inline-block",padding:"6px 8px",border:"1px solid #fff",borderRadius:16,fontSize:a["default"].fontSizeSmall,margin:"6px 4px 2px 0",color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.5)",cursor:"default"},"."+t.root+"."+t.sp+" &",{fontSize:a["default"].fontSizeXSmall})),t.itemLink=a["default"].registerStyle(n({"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},"&>."+t.item,n({cursor:"pointer"},l.enabledHover+" &:hover",{background:"#fff",color:"#000",transition:"all .2s ease"})))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=e.top,r=e.borderColor,n=e.zIndex;return{content:'""',position:"absolute",top:t,left:"50%",marginLeft:t,display:"block",width:0,height:0,borderStyle:"solid",borderWidth:"0px "+-t+"px "+-t+"px "+-t+"px",borderColor:"transparent transparent "+r+" transparent",zIndex:n}}var i,a,l,s;Object.defineProperty(t,"__esModule",{value:!0});var u=r(5),c=r(58),p=r(122);t.collapsed="collapsed",t.hidden="hidden",t.sp="sp",t.rightButton=function(e){return 0===e?null:"rightButton"+e},t.paddingRightStyles=p.possibleButtonCounts.reduce(function(e,r){var o=t.rightButton(r),i="@media (max-width:"+(p.thresholds.small.width-1)+"px), (max-height:"+(p.thresholds.small.height-1)+"px)",a={paddingRight:0},l="@media (min-width:"+p.thresholds.small.width+"px) and (max-width: "+(p.thresholds.large.width-1)+"px), (min-height:"+p.thresholds.small.height+"px) and (max-height: "+(p.thresholds.large.height-1)+"px)",s={paddingRight:p.calcTotalWidth("small",r)+"px"},u="@media (min-width:"+p.thresholds.large.width+"px) and (min-height:"+p.thresholds.large.height+"px)",c={paddingRight:p.calcTotalWidth("large",r)+"px"};if(null===o)e[l]=s,e[u]=c,e[i]=a;else{var f;e["&."+o]=(f={},n(f,l,s),n(f,u,c),n(f,i,a),f)}return e},{}),t.root=u["default"].registerStyle(Object.assign(n({position:"relative",display:"block",verticalAlign:"middle","-webkit-tap-highlight-color":"rgba(0,0,0,0)"},"&."+t.hidden,{display:"none"}),t.paddingRightStyles)),t.watchLinkBalloon=u["default"].registerStyle((i={},n(i,"."+t.root+" &",{display:"none"}),n(i,"@media (max-width: 479px), (max-height: 269px)",{fontSize:u["default"].fontSizeSmall}),i)),t.title=u["default"].registerStyle((s={},n(s,"."+t.root+" &",(l={display:"block",backgroundImage:"url()",margin:0,fontSize:u["default"].fontSizeXLarge,fontWeight:"normal",wordWrap:"break-word",wordBreak:"break-all",lineHeight:"1.8",maxHeight:56,overflow:"hidden",cursor:"default","& a":{cursor:"pointer",color:"#fff",textDecoration:"none"}},n(l,"&:not(."+t.sp+") a",(a={},
n(a,c.enabledHover+" &:hover ."+t.watchLinkBalloon,{display:"inline-block",position:"absolute",bottom:-32,left:0,padding:"4px 8px",background:"#000",border:"1px solid #ccc",borderRadius:4,fontSize:u["default"].fontSizeMedium,cursor:"pointer",transition:"all .2s ease","&:before":o({top:-6,borderColor:"#000",zIndex:u["default"].zIndexAbove+1}),"&:after":o({top:-7,borderColor:"#fff",zIndex:u["default"].zIndexAbove})}),n(a,c.enabledHover+" &:hover",{textDecoration:"underline"}),a)),n(l,"@media (max-width: 479px), (max-height: 269px)",{fontSize:u["default"].fontSizeMedium,maxHeight:46,overflow:"hidden"}),n(l,"&."+t.sp,{textDecoration:"underline"}),l)),n(s,"."+t.root+" &."+t.collapsed,{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),s))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(129),c=r(121),p=r(86),f=r(13),d=r(91),h=r(20),m=r(64),b=m["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e=this,t=this.props.immutable,r=t.videoWatchId,o=t.nicovideoServerUrl,i=t.title,a=t.playOption,l=t.isSp,m=t.parentUrl,b=a.noShare,y=a.noVideoDetail,v=a.noLinkToNiconico,g=this.props.mutable,w=g.playerOverlay,S=g.playerStatus;return s.createElement("div",{className:p(u.root,u.rightButton(c.getVisibleButtonCount({noShare:b,noVideoDetail:y,playerOverlay:w})),n({},u.hidden,3===w))},s.createElement("h1",{className:p(u.title,n({},u.collapsed,0===w),n({},u.sp,l))},s.createElement(h["default"],{noLinkToNiconico:v,href:o+"/watch/"+r,query:{via:"thumb_watch",at:"title",state:d["default"].createStateQuery(S),ref:f.parse(m).hostname},target:"_blank",onClick:function(t){return e.props.observer.jumpToWatchPage(t)}},i,s.createElement("span",{className:u.watchLinkBalloon},this.props.messages.labels.watchOnNiconico))))}}]),r}(s.Component)},{playerStatus:!0,playerOverlay:!0});t["default"]=b},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(132),c=r(91),p=r(20),f=r(64),d=r(86),h=r(13),m=f["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t}return a(r,t),l(r,[{key:"render",value:function(){var e=this.props.mutable,t=e.uploaderInfo,r=e.playerOverlay,o=e.playerStatus,i=this.props.immutable,a=i.playOption,l=i.adjustProtocol,f=i.parentUrl;return t&&c["default"].isNonEmptyUploaderInfo(t)?s.createElement(p["default"],{noLinkToNiconico:a.noLinkToNiconico,href:t.url,query:{via:"thumb_watch",at:"uploader",state:c["default"].createStateQuery(o),ref:h.parse(f).hostname},target:"_blank",className:d(u.root,n({},u.hidden,2!==r))},s.createElement("img",{src:l(t.thumbnailUrl),alt:t.name,className:u.thumbnail}),s.createElement("p",{className:u.userName},t.name)):null}}]),r}(s.Component)},{playerStatus:!0,playerOverlay:!0,uploaderInfo:!0});t["default"]=m},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5);t.hidden="hidden",t.root=o["default"].registerStyle(n({display:"inline-block",position:"relative",height:28,marginTop:12,lineHeight:"28px","@media (max-height: 161px)":{height:16,lineHeight:"16px"}},"&."+t.hidden,{display:"none"})),t.thumbnail=o["default"].registerStyle({width:28,height:28,marginRight:8,"@media (max-height: 161px)":{width:20,height:20}}),t.userName=o["default"].registerStyle(n({margin:0,position:"absolute",top:0,left:36,textDecoration:"none",fontSize:o["default"].fontSizeMedium,whiteSpace:"nowrap","@media (max-height: 161px)":{left:24,fontSize:o["default"].fontSizeSmall}},"a."+t.root+" &",{color:"#007cff"}))},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=b.parse(e,t),n=r.hostname;return n&&n.indexOf(w)===n.length-S?r:null}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(4),c=r(1),p=r(134),f=r(86),d=r(91),h=r(64),m=r(136),b=r(13),y=r(137),v=r(12),g=h["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.autoLink=new m["default"]({video:t.props.immutable.nicovideoServerUrl,channel:t.props.immutable.channelServerUrl}),t.shouldComponentUpdate=e,t.setFullDescription=function(e){if(e&&!e.innerHTML){var r=document.createElement("div");r.innerHTML=t.props.immutable.description,t.visitAndReplace(r),e.appendChild(r);var n=!0,o=!1,i=void 0;try{for(var a,s=Array.from(e.querySelectorAll("a"))[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(u.className===p.seekPositionInDescription)u.addEventListener("click",function(e){e.preventDefault();var r=t.props.observer,n=Number(e.currentTarget.dataset.positionMs);0===t.props.mutable.playerStatus?r.onClickPlay(n):r.onSeek(n,2,!0),c.findDOMNode(t).scrollTop=0,r.onChangePlayerOverlay(0)});else if(u.href){var f=function(){var e=l(u.href,!0);return e?void u.addEventListener("click",function(r){r.preventDefault();var n=v["default"].objectToQuery(Object.assign({},e.query,{via:"thumb_watch",at:"description",state:d["default"].createStateQuery(t.props.mutable.playerStatus),ref:b.parse(t.props.immutable.parentUrl).hostname}));window.open((e.protocol||"")+"//"+(e.auth?e.auth+"@":"")+(e.host||"")+(e.pathname||"")+n+(e.hash||""))}):"continue"}();if("continue"===f)continue}}}catch(h){o=!0,i=h}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}}},t.onClickToggle=function(){c.findDOMNode(t).scrollTop=0,t.props.observer.onChangePlayerOverlay(2)},t}return a(r,t),s(r,[{key:"render",value:function(){var e=this.props.mutable.playerOverlay,t=this.props.messages,r=t.showPartialDescription,o=t.labels;return u.createElement("div",{className:f(p.root,n({},p.hidden,3!==e))},u.createElement("p",{className:p.descriptionTitle},o.videoDescription),u.createElement("div",{className:p.fullDescription,ref:this.setFullDescription}),u.createElement("span",{className:p.toggle,onClick:this.onClickToggle},r))}},{key:"visitAndReplace",value:function(e){for(var t=this.props.immutable.playOption.noLinkToNiconico,r=e.childNodes,n=0;n<r.length;n++){var o=r[n];if(o.nodeType===Node.ELEMENT_NODE){var i=o;if("a"===i.tagName||"A"===i.tagName){var a=i;if(t&&a.href&&l(a.href)){for(;a.childNodes.length;)this.visitAndReplace(a.childNodes[0]),e.insertBefore(a.childNodes[0],a),n++;e.removeChild(a),n--;continue}a.target="_blank"}}if(o.nodeType===Node.TEXT_NODE){var s=document.createElement("div");for(s.innerHTML=this.autoLink.replace(o.textContent||"",function(e){switch(e.type){case m["default"].Type.NICOPEDIA:return e.src;case m["default"].Type.SEEK_POSITION:return'<a href="#" class="'+p.seekPositionInDescription+'" data-position-ms="'+e.positionMs+'">'+e.src+"</a>";default:return e.url&&!t?'<a href="'+y(e.url)+'" target="_blank" rel="noopener">'+e.src+"</a>":e.src}});s.childNodes.length;)e.insertBefore(s.childNodes[0],o),n++;e.removeChild(o),n--}else this.visitAndReplace(o)}}}]),r}(u.Component)},{playerStatus:!0,playerOverlay:!0}),w=".nicovideo.jp",S=w.length;t["default"]=g},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(135);t.descriptionTitle=i.descriptionTitle,t.toggle=i.toggle,t.hidden="hidden",t.seekPositionInDescription="seekPositionInDescription",t.root=o["default"].registerStyle(n({height:"100%",overflow:"auto"},"&."+t.hidden,{display:"none"})),t.fullDescription=o["default"].registerStyle({userSelect:"auto",lineHeight:"140%",fontSize:o["default"].fontSizeLarge,wordWrap:"break-word","@media (min-height: 288px)":{fontSize:o["default"].fontSizeLarge},"@media (min-height: 234px) and (max-height: 287px)":{lineHeight:"140%",fontSize:o["default"].fontSizeMedium},"@media (min-height: 198px) and (max-height: 233px)":{fontSize:o["default"].fontSizeSmall},"@media (max-height: 162px), (max-height: 197px)":{fontSize:o["default"].fontSizeXSmall},"@media (max-height: 161px)":{display:"none"},"& a":{color:"#007cff"}})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5);t.hidden="hidden",t.root=o["default"].registerStyle(n({},"&."+t.hidden,{display:"none"})),t.descriptionTitle=o["default"].registerStyle({color:"#ccc",marginBottom:4,fontSize:o["default"].fontSizeMedium,"@media (min-height: 288px)":{fontSize:o["default"].fontSizeLarge},"@media (min-height: 234px) and (max-height: 287px)":{fontSize:o["default"].fontSizeMedium},"@media (min-height: 198px) and (max-height: 233px)":{fontSize:o["default"].fontSizeSmall},"@media (max-height: 162px), (max-height: 197px)":{fontSize:o["default"].fontSizeXSmall},"@media (max-height: 161px)":{display:"none"}}),t.tagStrippedDescription=o["default"].registerStyle(n({userSelect:"auto",display:"block",maxHeight:60,overflow:"hidden",lineHeight:"20px",marginTop:4,wordWrap:"break-word","@media (min-height: 288px)":{fontSize:o["default"].fontSizeLarge},"@media (min-height: 234px) and (max-height: 287px)":{fontSize:o["default"].fontSizeMedium},"@media (min-height: 198px) and (max-height: 233px)":{fontSize:o["default"].fontSizeSmall},"@media (max-height: 162px), (max-height: 197px)":{lineHeight:"16px",height:32,fontSize:o["default"].fontSizeXSmall},"@media (max-height: 161px)":{display:"none"}},"&."+t.hidden,{display:"none"})),t.toggle=o["default"].registerStyle(n({display:"block",textDecoration:"underline",cursor:"pointer",marginTop:8,"@media (min-height: 288px)":{fontSize:o["default"].fontSizeLarge},"@media (min-height: 234px) and (max-height: 287px)":{lineHeight:"140%",fontSize:o["default"].fontSizeMedium},"@media (min-height: 198px) and (max-height: 233px)":{fontSize:o["default"].fontSizeSmall},"@media (max-height: 162px), (max-height: 197px)":{marginTop:4,fontSize:o["default"].fontSizeXSmall},"@media (max-height: 161px)":{display:"none"}},"&."+t.hidden,{display:"none"}))},function(e,t,r){e.exports=r(2)(616)},function(e,t,r){function n(e){return d[e]}function o(e){return!!e&&"object"==typeof e}function i(e){return"symbol"==typeof e||o(e)&&m.call(e)==c}function a(e){if("string"==typeof e)return e;if(null==e)return"";if(i(e))return b?v.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function l(e){return e=a(e),e&&f.test(e)?e.replace(p,n):e}/**
	 * lodash 3.2.0 (Custom Build) <https://lodash.com/>
	 * Build: `lodash modularize exports="npm" -o ./`
	 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
	 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	 * Available under MIT license <https://lodash.com/license>
	 */
var s=r(138),u=1/0,c="[object Symbol]",p=/[&<>"'`]/g,f=RegExp(p.source),d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},h=Object.prototype,m=h.toString,b=s.Symbol,y=b?b.prototype:void 0,v=b?y.toString:void 0;e.exports=l},function(e,t,r){(function(e,r){function n(e){return e&&e.Object===Object?e:null}/**
	 * lodash 3.0.1 (Custom Build) <https://lodash.com/>
	 * Build: `lodash modularize exports="npm" -o ./`
	 * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>
	 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	 * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	 * Available under MIT license <https://lodash.com/license>
	 */
var o={"function":!0,object:!0},i=o[typeof t]&&t&&!t.nodeType?t:void 0,a=o[typeof e]&&e&&!e.nodeType?e:void 0,l=n(i&&a&&"object"==typeof r&&r),s=n(o[typeof self]&&self),u=n(o[typeof window]&&window),c=n(o[typeof this]&&this),p=l||u!==(c&&c.window)&&u||s||c||Function("return this")();e.exports=p}).call(t,r(39)(e),function(){return this}())},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(135),c=r(86),p=r(64),f=p["default"].create(function(e){return function(t){function r(){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.shouldComponentUpdate=e,t.setTagStrippedDescription=function(e){if(e&&!e.textContent){var r=document.createElement("div");r.innerHTML=t.props.immutable.description,e.textContent=r.textContent}},t}return a(r,t),l(r,[{key:"render",value:function(){var e=this,t=this.props.mutable.playerOverlay,r=this.props.messages,o=r.showAllDescription,i=r.labels;return s.createElement("div",{className:c(u.root,n({},u.hidden,2!==t))},s.createElement("p",{className:u.descriptionTitle},i.videoDescription),s.createElement("div",{className:u.tagStrippedDescription,ref:this.setTagStrippedDescription}),s.createElement("span",{className:u.toggle,onClick:function(){return e.props.observer.onChangePlayerOverlay(3)}},o))}}]),r}(s.Component)},{playerOverlay:!0});t["default"]=f},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i;Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),l=r(59),s=r(113),u=r(92),c=r(93),p=r(115),f=r(88),d=r(85),h=r(79),m=r(99),b=r(113),y=r(58),v={visibility:"hidden",opacity:0,zIndex:a["default"].zIndexBelow,transition:"all .4s ease"},g={visibility:"visible",opacity:1,zIndex:a["default"].zIndexAbove,transition:"all .4s ease"},w={display:"none"},S={cursor:"none"},_={cursor:"default"},E={visibility:"visible"};t.unplayed="unplayed",t.started="started",t.finished="finished",t.controlling="controlling",t.fullScreen="fullScreen",t.background=l.fillParent({background:"#000",zIndex:a["default"].zIndexBelow}),t.sp="sp",t.player=l.fillParent((i={},n(i,"&."+t.unplayed+" ."+u.root,v),n(i,"&."+t.unplayed+"."+t.controlling+" ."+u.root,g),n(i,"&."+t.started+" ."+u.root,v),n(i,"&."+t.started+"."+t.controlling+" ."+u.root,g),n(i,"&."+t.unplayed+"."+t.sp+" ."+u.root,g),n(i,"&."+t.started+" ."+c.root,v),n(i,"&."+t.started+"."+t.controlling+" ."+c.root,g),n(i,"&."+t.unplayed+" ."+p.root,w),n(i,"&."+t.started+" ."+p.root,w),n(i,"&."+t.fullScreen+" ."+p.root,S),n(i,"&."+t.fullScreen+"."+t.controlling+" ."+p.root,_),n(i,"&."+t.started+" ."+s.thumbnail,w),n(i,"&."+t.finished+" ."+s.thumbnail,w),n(i,"&."+t.fullScreen+" ."+b.root,S),n(i,"&."+t.fullScreen+"."+t.controlling+" ."+b.root,_),n(i,"&."+t.unplayed+" ."+h.root,w),n(i,"&."+t.started+" ."+h.root,w),n(i,"&."+t.finished+"."+t.sp+" ."+f.root,w),n(i,"&."+t.finished+"."+t.sp+" ."+d.root,w),n(i,"&."+t.finished+"."+t.sp+" ."+m.commentDisplayToggleButton,w),n(i,"@media (max-width:287px)",(o={},n(o,"&."+t.started+" ."+c.root,v),n(o,y.enabledHover+" &."+t.started+":hover ."+c.root,v),n(o,"&."+t.started+"."+t.controlling+" ."+c.root,v),o)),n(i,"."+y.androidStandardBrowser+" &."+t.unplayed+" ."+u.root,E),n(i,"."+y.androidStandardBrowser+" &."+t.started+" ."+u.root,E),n(i,"."+y.androidStandardBrowser+" &."+t.started+" ."+c.root,E),i)),t.root=l.fillParent(),t.contentArea=a["default"].registerStyle({position:"absolute",margin:"auto",top:0,left:0,right:0,bottom:0})},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){for(var t=[],r=0;r<l.DOTS_COUNT;r++){var o="scale(.9) rotate(-"+30*(r+1)+",60,60)";t.push(i.createElement("g",{className:l.spinnerDot,transform:o,key:r},i.createElement("circle",{r:"10",cx:"20",cy:"20"})))}return i.createElement("div",{className:a(l.spinner,n({},l.notLoading,!e.isLoading))},i.createElement("svg",{viewBox:"-5 -5 120 120",version:"1.1"},i.createElement("g",null,t)))}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),a=r(86),l=r(142);t["default"]=o},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(59);t.DOTS_COUNT=12,t.notLoading="notLoading",t.spinner=i.fillParent(n({margin:"auto",overflow:"visible",width:80,height:80,textAlign:"center","& svg":{width:"100%",height:"100%",overflow:"visible"}},"&."+t.notLoading,{display:"none"}));for(var a=o["default"].registerKeyframes({"3%":{opacity:1},"75%":{opacity:0}}),l={fill:"#333",animation:a+" 1.2s linear infinite",opacity:0,animationName:a},s=0;s<t.DOTS_COUNT;s++){var u=s+1,c="&:nth-child(12n + "+u+")",p={animationDelay:"-"+(.1*u).toFixed(1)+"s"};l[c]=p}t.spinnerDot=o["default"].registerStyle(l)},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l,s=r(54),u=r(13),c=r(12),p=r(144),f=function(){function e(){i(this,e),this.listeners=[]}return a(e,[{key:"addFullScreenChangeListener",value:function(e){this.listeners.push(e)}},{key:"removeFullScreenChangeListener",value:function(e){var t=this.listeners.indexOf(e);t>=0&&this.listeners.splice(t,1)}}]),e}(),d=function(e){function t(e,r,o){var a=o.browser,l=o.isSp;i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.screenfull=e,s.player=r,s.listener=function(){s.isFullScreen?s.orientationLocker.lock("landscape"):s.orientationLocker.unlock(),s.listeners.forEach(function(e){return e()})},s.errorListener=function(){if(s.dispose(),s.clientErrorListener){var e=m.createIfPossible(s.player,s.browser);e?(s.listeners.forEach(function(t){return e.addFullScreenChangeListener(t)}),e.onError(s.clientErrorListener),s.clientErrorListener(e)):s.clientErrorListener(b)}},s.clientErrorListener=null,s.enabled=!0,s.isProgrammatic=!1,s.browser=a,s.orientationLocker=l?p["default"].create():p["default"].ineffective,document.addEventListener(s.screenfull.raw.fullscreenchange,s.listener),document.addEventListener(s.screenfull.raw.fullscreenerror,s.errorListener),s}return o(t,e),a(t,[{key:"dispose",value:function(){document.removeEventListener(this.screenfull.raw.fullscreenchange,this.listener),document.removeEventListener(this.screenfull.raw.fullscreenerror,this.errorListener)}},{key:"onError",value:function(e){this.clientErrorListener=e}},{key:"request",value:function(){this.screenfull.request(this.player)}},{key:"exit",value:function(){this.screenfull.exit()}},{key:"isFullScreen",get:function(){return this.screenfull.isFullscreen}}]),t}(f),h=function(e){function t(){i(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.enabled=!0,e.isProgrammatic=!0,e.isFullScreen=!1;var r=u.parse(c["default"].getOrgRefererOnClient());return e.playerFullScreenIFrameConnector=new s.PlayerFullScreenIFrameConnector(u.parse(window.location.href,!0).query.playerId,r.protocol+"//"+r.host),e}return o(t,e),a(t,[{key:"dispose",value:function(){}},{key:"onError",value:function(){}},{key:"request",value:function(){this.isFullScreen=!0,this.playerFullScreenIFrameConnector.eventEmitter.emit("enterProgrammaticFullScreen",void 0),this.listeners.forEach(function(e){return e()})}},{key:"exit",value:function(){this.isFullScreen=!1,this.playerFullScreenIFrameConnector.eventEmitter.emit("exitProgrammaticFullScreen",void 0),this.listeners.forEach(function(e){return e()})}}]),t}(f),m=function(e){function t(e,r){i(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.video=e,o.listenerNames=r,o.listener=function(){return o.listeners.forEach(function(e){return e()})},o.enabled=!0,o.isProgrammatic=!1,o.listenerNames.forEach(function(e){return o.video.addEventListener(e,o.listener)}),o}return o(t,e),a(t,[{key:"dispose",value:function(){var e=this;this.listenerNames.forEach(function(t){return e.video.removeEventListener(t,e.listener)})}},{key:"onError",value:function(){}},{key:"request",value:function(){this.video.webkitEnterFullscreen()}},{key:"exit",value:function(){this.video.webkitExitFullscreen()}},{key:"isFullScreen",get:function(){return this.video.webkitDisplayingFullscreen}}],[{key:"createIfPossible",value:function(e,r){var n=e.getElementsByTagName("video")[0];return n&&n.webkitEnterFullscreen?5===r.type?new t(n,["webkitbeginfullscreen","webkitendfullscreen"]):new t(n,["webkitfullscreenchange"]):null}}]),t}(f),b={enabled:!1,isFullScreen:!1,isProgrammatic:!1};!function(e){function t(e,t){var n=t.browser,o=t.playOption,i=t.isSp,a=r(145);if(5===n.type){var l=m.createIfPossible(e,n);if(l)return l}else if(a.enabled)return new d(a,e,{browser:n,isSp:i});return o.allowProgrammaticFullScreen?new h:b}e.create=t}(l||(l={})),t["default"]=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){function t(){var t=window.screen.orientation;return t&&"function"==typeof t.lock&&"function"==typeof t.unlock?t:e.ineffective}e.create=t,e.ineffective={lock:function(){},unlock:function(){}}}(r||(r={})),t["default"]=r},function(e,t,r){e.exports=r(2)(615)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(147),u=r(151),c=r(153),p=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props.mutable,t=e.playInfo,r=e.incrementViewCounter,n=e.videoErrorCausedPossiblyBySessionExpiration;return t?c["default"].isDmcInfo(t)?l.createElement(s["default"],{immutable:this.props.immutable,mutable:{playInfo:t,incrementViewCounter:r,videoErrorCausedPossiblyBySessionExpiration:n},observer:this.props.observer}):l.createElement(u["default"],{immutable:this.props.immutable,mutable:{playInfo:t,incrementViewCounter:r},observer:this.props.observer}):null}},{key:"shouldComponentUpdate",value:function(e){return e.mutable.playInfo!==this.props.mutable.playInfo||e.mutable.incrementViewCounter!==this.props.mutable.incrementViewCounter||e.mutable.videoErrorCausedPossiblyBySessionExpiration!==this.props.mutable.videoErrorCausedPossiblyBySessionExpiration}}]),t}(l.Component);t["default"]=p},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.nicovideoServerUrl,r=e.adjustProtocol,n=e.isHttps;return n?"https://www.nicovideo.jp":r(t)}function l(e,t){if(e.indexOf(t)>=0)return"http";throw new Error("No available protocol in an array: "+e)}function s(e,t){if(Object.keys(e).indexOf(t)>=0)return e[t];throw new Error("No available authType in an array: "+e)}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var c=r(4),p=r(148),f=r(149),d=r(150),h=r(12),m=6e3,b=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.beforeUnload=function(){r.session&&r.session.deleteSession()["catch"](function(){})},r.pendingConfirmVideoError=!1,r.visibilityChangeListener=function(){return document[r.hidden]?r.onPageHide():r.onPageShow()},r.onPageShow=function(){if(r.props.immutable.isSp&&r.session&&(r.session.restartHeartbeat(),r.pendingConfirmVideoError)){r.pendingConfirmVideoError=!1;var e=r.props.mutable.videoErrorCausedPossiblyBySessionExpiration;e&&r.confirmVideoError(e)}},r.onPageHide=function(){return r.props.immutable.isSp&&r.session&&r.session.stopHeartbeat()};var i=h["default"].getPrefixedVisibilityApi(),a=i.hidden,l=i.visibilityChange;return r.hidden=a,r.visibilityChange=l,r}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.immutable,r=t.frontendId,n=t.videoWatchId,o=t.actionTrackId,i=t.isSp,u=t.isHttps,c=t.isSecureHLS,h=this.props.mutable,b=h.playInfo,y=h.incrementViewCounter,v=b.contentId,g=b.videos,w=b.audios,S=b.protocols,_=b.skips,E=b.contentKeyTimeout,k=b.watchApiSignature,x=b.serviceUserId,O=this.props.observer;new p["default"].NoLogin(a(this.props.immutable),x).access(n,{frontend_id:r,videos:g,audios:w,protocols:S.map(function(e){return d["default"].Protocol[e]}),skips:_,content_key_timeout:E,signature:k,action_track_id:o,increment_view_counter:y,is_https:u}).then(function(t){var r=t.thread,n=r.nicos_thread_id,o=r.server_url,a=r.channel_ng_words,u=r.owner_ng_words;O.onGetThreadInfo({serverUrl:o,channelNgWords:a,ownerNgWords:u,nicosThreadId:n});var p=function(e){var r=!1;return t.session_api.urls.some(function(t){return t.is_well_known_port===e&&(r=t),!!r})&&r},d=c?"hls":"http",h=new Error("No accessible session API URL found in watchResponse.session_api.urls");[!1,!0].reduce(function(r,n){return r["catch"](function(r){var o=(r===f.ConnectionTimeoutError||r===h)&&p(n);return o?e.enableSecureHLSKey(t.tracking_id,c).then(function(){return f["default"].createSession(o.url,{recipe_id:t.session_api.recipe_id,content_id:v,videos:t.session_api.videos,audios:t.session_api.audios,protocol:l(t.session_api.protocols,d),heartbeat_lifetime:t.session_api.heartbeat_lifetime,token:t.session_api.token,signature:t.session_api.signature,auth_type:s(t.session_api.auth_types,d),content_key_timeout:t.session_api.content_key_timeout,service_user_id:t.session_api.service_user_id,player_id:t.session_api.player_id,priority:t.session_api.priority,use_ssl:o.is_ssl,use_well_known_port:o.is_well_known_port,http_parameters:c?{use_hls:!0,hls_parameters:{segment_duration:m},encryption:t.encryption}:void 0})}):Promise.reject(r)})},Promise.reject(h)).then(function(t){return t.ready().then(function(){e.session=t,t.event("heartbeatSucceeded").on(function(){return O.onSessionHeartbeatSucceeded(t)}).event("heartbeatFailed").on(function(e){return O.onSessionHeartbeatFailed(e)}),window.addEventListener("beforeunload",e.beforeUnload),window.addEventListener("pageshow",e.onPageShow),window.addEventListener("pagehide",e.onPageHide),document.addEventListener(e.visibilityChange,e.visibilityChangeListener),i&&document[e.hidden]&&t.stopHeartbeat(),O.onGetContentUrl(t.getSessionObject().content_uri)})})["catch"](function(e){return O.onCreateSessionError(e)})},function(e){return O.onDmcWatchApiError(e)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.beforeUnload),window.removeEventListener("pageshow",this.onPageShow),window.removeEventListener("pagehide",this.onPageHide),document.removeEventListener(this.visibilityChange,this.visibilityChangeListener)}},{key:"shouldComponentUpdate",value:function(e){var t=e.mutable,r=e.immutable,n=t.videoErrorCausedPossiblyBySessionExpiration;if(n&&!this.props.mutable.videoErrorCausedPossiblyBySessionExpiration){if(r.isSp&&document[this.hidden])return this.pendingConfirmVideoError=!0,!1;this.confirmVideoError(n)}return!1}},{key:"confirmVideoError",value:function(e){var t=this;this.session&&this.session.isolatedHeartbeat().then(function(){return t.props.observer.onVideoError(e,!0)})["catch"](function(r){return t.props.observer.onSessionHeartbeatFailed(r,e)})}},{key:"render",value:function(){return null}},{key:"enableSecureHLSKey",value:function(e,t){var r=this.props.immutable,n=r.frontendId,o=r.nvapiServerUrl,i=t?1e4:0;return Promise.race([fetch(o+"/v1/2ab0cbaa/watch?t="+encodeURIComponent(e),{headers:{"X-Frontend-Id":n.toString()},mode:"cors",credentials:"include"}),new Promise(function(e){return setTimeout(e,i)})])["catch"](function(){})}}]),t}(c.Component);t["default"]=b},function(e,t,r){e.exports=r(2)(611)},function(e,t,r){e.exports=r(2)(532)},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=/archive_aac_(\d+)kbps/,i=[{id:"archive_h264_1080p",playable:!1,type:"super-high",label:"1080p"},{id:"archive_h264_6000kbps_1080p",playable:!1,type:"super-high",label:"1080p | 6M"},{id:"archive_h264_5000kbps_1080p",playable:!1,type:"super-high",label:"1080p | 5M"},{id:"archive_h264_4000kbps_1080p",playable:!1,type:"super-high",label:"1080p | 4M"},{id:"archive_h264_3000kbps_1080p",playable:!1,type:"super-high",label:"1080p | 3M"},{id:"archive_h264_2000kbps_1080p",playable:!1,type:"super-high",label:"1080p | 2M"},{id:"archive_h264_1600kbps_1080p",playable:!1,type:"super-high",label:"1080p | 1.6M"},{id:"archive_h264_1200kbps_1080p",playable:!1,type:"super-high",label:"1080p | 1.2M"},{id:"archive_h264_1000kbps_1080p",playable:!1,type:"super-high",label:"1080p | 1M"},{id:"archive_h264_720p",playable:!1,type:"high",label:"720p"},{id:"archive_h264_2000kbps_720p",playable:!1,type:"high",label:"720p | 2M"},{id:"archive_h264_1800kbps_720p",playable:!1,type:"high",label:"720p | 1.8M"},{id:"archive_h264_1600kbps_720p",playable:!1,type:"high",label:"720p | 1.6M"},{id:"archive_h264_1400kbps_720p",playable:!1,type:"high",label:"720p | 1.4M"},{id:"archive_h264_1200kbps_720p",playable:!1,type:"high",label:"720p | 1.2M"},{id:"archive_h264_1000kbps_720p",playable:!1,type:"high",label:"720p | 1M"},{id:"archive_h264_800kbps_720p",playable:!1,type:"high",label:"720p | 0.8M"},{id:"archive_h264_480p",playable:!1,type:"middle",label:"480p"},{id:"archive_h264_2000kbps_540p",playable:!1,type:"middle",label:"540p | 2M"},{id:"archive_h264_2000kbps_480p",playable:!1,type:"middle",label:"480p | 2M"},{id:"archive_h264_2000kbps_360p",playable:!1,type:"middle",label:"360p | 2M"},{id:"archive_h264_1600kbps_540p",playable:!1,type:"middle",label:"540p | 1.6M"},{id:"archive_h264_1600kbps_480p",playable:!1,type:"middle",label:"480p | 1.6M"},{id:"archive_h264_1600kbps_360p",playable:!1,type:"middle",label:"360p | 1.6M"},{id:"archive_h264_1200kbps_540p",playable:!1,type:"middle",label:"540p | 1.2M"},{id:"archive_h264_1200kbps_480p",playable:!1,type:"middle",label:"480p | 1.2M"},{id:"archive_h264_1200kbps_360p",playable:!1,type:"middle",label:"360p | 1.2M"},{id:"archive_h264_1000kbps_540p",playable:!1,type:"middle",label:"540p | 1M"},{id:"archive_h264_1000kbps_480p",playable:!1,type:"middle",label:"480p | 1M"},{id:"archive_h264_1000kbps_360p",playable:!1,type:"middle",label:"360p | 1M"},{id:"archive_h264_900kbps_540p",playable:!1,type:"middle",label:"540p | 0.9M"},{id:"archive_h264_900kbps_480p",playable:!1,type:"middle",label:"480p | 0.9M"},{id:"archive_h264_900kbps_360p",playable:!1,type:"middle",label:"360p | 0.9M"},{id:"archive_h264_800kbps_540p",playable:!1,type:"middle",label:"540p | 0.8M"},{id:"archive_h264_800kbps_480p",playable:!1,type:"middle",label:"480p | 0.8M"},{id:"archive_h264_800kbps_360p",playable:!1,type:"middle",label:"360p | 0.8M"},{id:"archive_h264_700kbps_540p",playable:!1,type:"middle",label:"540p | 0.7M"},{id:"archive_h264_700kbps_480p",playable:!1,type:"middle",label:"480p | 0.7M"},{id:"archive_h264_700kbps_360p",playable:!1,type:"middle",label:"360p | 0.7M"},{id:"archive_h264_360p",playable:!0,type:"low",label:"360p"},{id:"archive_h264_600kbps_360p",playable:!0,type:"low",label:"360p | 0.6M"},{id:"archive_h264_500kbps_360p",playable:!0,type:"low",label:"360p | 0.5M"},{id:"archive_h264_400kbps_360p",playable:!0,type:"low",label:"360p | 0.4M"},{id:"archive_h264_360p_low",playable:!0,type:"super-low",label:"低画質"},{id:"archive_h264_300kbps_360p",playable:!0,type:"super-low",label:"360p | 0.3M"},{id:"archive_h264_250kbps_360p",playable:!0,type:"super-low",label:"360p | 0.2M"},{id:"archive_h264_200kbps_360p",playable:!0,type:"super-low",label:"360p | 0.2M"}],a=function(){function e(t){r(this,e),this.id=t.id,this.videos=t.videos,this.audios=t.audios,this.protocols=t.protocols}return n(e,[{key:"limitVideos",value:function(){var e=this.videos.filter(function(e){var t=i.find(function(t){return t.id===e});return t&&t.playable});return e.length?e:[this.videos[this.videos.length-1]]}},{key:"limitAudios",value:function(){var e=this.audios.filter(function(e){return Number((e.match(o)||[])[1])<=64});return e.length?e:[this.audios[this.audios.length-1]]}}]),e}();!function(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.sort(function(e,r){var n=i.findIndex(function(t){return t.id===e}),o=i.findIndex(function(e){return e.id===r});return t?n-o:o-n})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.sort(function(e,r){return(Number((e.match(o)||[])[1])-Number((r.match(o)||[])[1]))*(t?-1:1)})}var n=void 0;!function(e){e[e.http=0]="http",e[e.hls=1]="hls"}(n=e.Protocol||(e.Protocol={})),e.sortVideosByQuality=t,e.sortAudiosByQuality=r}(a||(a={})),t["default"]=a},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(152),u=6e5,c=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props.immutable,t=e.videoWatchId,r=e.thumbWatchServerUrl,n=e.isHttps,o=e.adjustProtocol,i=this.props.mutable,a=i.playInfo,l=i.incrementViewCounter,c=this.props.observer,p=new s["default"](o(r));p.access(t,{device:"html5_watch",notIncrementViewCounter:!l,isHttps:n&&!0},a.thumbWatchPlayKey).then(function(e){var t=e.getflvResponse,r=t.url,n=t.ms,o=t.ng_ch,i=t.ng_up,a=t.nicos_id;c.onGetThreadInfoAndContentUrl({serverUrl:n,channelNgWords:o,ownerNgWords:i,nicosThreadId:a},r)})["catch"](function(e){return c.onThumbWatchApiError(e)}),this.heartbeatTimer=setInterval(function(){return p.access(t,{device:"html5_watch",notIncrementViewCounter:!0},a.thumbWatchPlayKey)["catch"](function(){})},u)}},{key:"componentWillUnmount",value:function(){this.heartbeatTimer&&clearTimeout(this.heartbeatTimer)}},{key:"render",value:function(){return null}}]),t}(l.Component);t["default"]=c},function(e,t,r){e.exports=r(2)(592)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){function t(e){return!!e.watchApiSignature}e.isDmcInfo=t}(r||(r={})),t["default"]=r},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(91),u=r(12),c=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.isRequesting=!1,e}return i(t,e),a(t,[{key:"render",value:function(){return null}},{key:"shouldComponentUpdate",value:function(e){var t=this,r=e.mutable,n=r.playerStatus,o=r.playInfo,i=r.error;if(0===n||o||this.isRequesting||i)return!1;var a=e.immutable,l=a.videoWatchId,c=a.extplayervUrl,p=a.playOption,f=a.parentUrl,d=a.adjustProtocol,h=localStorage.getItem(s["default"].LocalStorageConstants.SERVICE_USER_ID_KEY),m={};m.parent=f,h&&(m.serviceUserId=h),p.autoplay&&(m.autoplay=1),this.isRequesting=!0;var b=-1;return fetch(d(c)+"/play/"+l+u["default"].objectToQuery(m),{credentials:"include"}).then(function(e){return e.ok?e.json():(b=e.status,Promise.reject(new Error("video.play failed")))}).then(function(e){return t.props.observer.onGetPlayInfo(e)})["catch"](function(e){return t.props.observer.onVideoPlayError(b,e)}).then(function(){return t.isRequesting=!1}),!1}}]),t}(l.Component);t["default"]=c},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=r(4),u=r(156),c=r(157),p=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.flapi=new c.Flapi({baseURL:e.props.immutable.adjustProtocol(e.props.immutable.flapiServerUrl),noCredentials:!0}),e.keyRepository=new u.KeyRepository({fetchThreadkey:function(t){return e.flapi.getthreadkey.invoke({thread:t.id})}}),e}return a(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,r=e.mutable,o=r.threadInfo,i=r.fetchThreadCompleted;if(!o||o===this.props.mutable.threadInfo)return!1;if(i)return!1;var a=1,l=new u.Client({context:new u.Context({server:this.props.immutable.adjustProtocol(o.serverUrl)}),keyRepository:this.keyRepository}),s=this.props.immutable,c=s.lengthInSeconds,p=s.defaultThread,f=s.hasOwnerThread,d=s.thread,h=s.isCommunityOnly,m=o.nicosThreadId,b=u.LeafExpression.generateForNicovideo({videoLengthSec:c}),y=void 0,v=void 0,g=void 0,w=void 0;switch(d.groupType){case 1:v={thread:l.createThread({id:d.id,isPrivate:!0,leafExpression:b}),scores:a},h||(y={thread:l.createThread({id:p,leafExpression:b}),scores:a}),g={thread:l.createThread({id:p,fork:1})};break;case 2:y={thread:l.createThread({id:d.id,noLeaf:!0}),scores:a},f&&(g={thread:l.createThread({id:d.id,fork:1})});break;case 0:y={thread:l.createThread({id:d.id,leafExpression:b}),scores:a},f&&(g={thread:l.createThread({id:d.id,fork:1})})}m&&(w={thread:l.createThread(Object.assign({id:m},2===d.groupType?{noLeaf:!0}:{leafExpression:b})),scores:a});var S=[y,v,g,w].filter(function(e){return"undefined"!=typeof e});return l.fetchThread.apply(l,n(S)).then(function(){t.props.observer.onFetchThreads(y?y.thread:void 0,v?v.thread:void 0,g?g.thread:void 0,w?w.thread:void 0)})["catch"](function(){return t.props.observer.onFetchThreadsFail()}),!1}},{key:"render",value:function(){return null}}]),t}(s.Component);t["default"]=p},function(e,t,r){e.exports=r(2)(379)},function(e,t,r){e.exports=r(2)(548)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){
return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(13),u=r(54),c=r(12),p=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this,t=s.parse(c["default"].getOrgRefererOnClient());this.connector=new u.PlayerIFrameConnector(s.parse(window.location.href,!0).query.playerId,t.protocol+"//"+t.host),this.connector.eventEmitter.emit("loadComplete",{videoInfo:{watchId:this.props.immutable.videoWatchId,videoId:this.props.immutable.videoId,title:this.props.immutable.title,description:this.props.immutable.description,thumbnailUrl:this.props.immutable.thumbnailUrl,postedAt:new Date(this.props.immutable.firstRetrieve),lengthInSeconds:this.props.immutable.lengthInSeconds,viewCount:this.props.immutable.viewCounter,mylistCount:this.props.immutable.mylistCounter,commentCount:this.props.immutable.thread.commentCounter}}),this.connector.eventEmitter.on("seek",function(t){e.props.observer.onSeek(t.time,2)}).on("play",function(){4===e.props.mutable.playerStatus?e.props.observer.onClickReplay():e.props.observer.onClickPlay()}).on("pause",function(){e.props.observer.onClickPause()}).on("mute",function(t){e.props.observer.onMute(t.mute)}).on("volumeChange",function(t){e.props.observer.onVolumeChange(t.volume)})}},{key:"shouldComponentUpdate",value:function(e){e.mutable.currentTimeMs===this.props.mutable.currentTimeMs&&e.mutable.maximumBufferedMs===this.props.mutable.maximumBufferedMs&&e.mutable.mute===this.props.mutable.mute&&e.mutable.volume===this.props.mutable.volume&&e.mutable.durationMs===this.props.mutable.durationMs||this.connector.eventEmitter.emit("playerMetadataChange",{currentTime:e.mutable.currentTimeMs,maximumBuffered:e.mutable.maximumBufferedMs,muted:e.mutable.mute,volume:e.mutable.volume,duration:e.mutable.durationMs});var t=e.mutable.playerStatus!==this.props.mutable.playerStatus,r=e.mutable.seekStatus!==this.props.mutable.seekStatus;return t&&this.connector.eventEmitter.emit("playerStatusChange",{playerStatus:e.mutable.playerStatus}),r&&this.connector.eventEmitter.emit("seekStatusChange",{seekStatus:e.mutable.seekStatus}),(t||r)&&this.connector.eventEmitter.emit("statusChange",{playerStatus:e.mutable.playerStatus,seekStatus:e.mutable.seekStatus}),!1}},{key:"render",value:function(){return null}}]),t}(l.Component);t["default"]=p},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=r(160),u=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=this;return 4!==this.props.mutable.playerStatus&&4===e.mutable.playerStatus&&(!this.props.mutable.relatedVideos&&(this.fetchRecommend().then(function(e){t.props.observer.onGetRelatedVideos(e)}),!1))}},{key:"render",value:function(){return null}},{key:"fetchRecommend",value:function(){var e=this,t=this.props.immutable,r=t.videoId,n=t.izumoSite,o=t.frontendId,i=t.frontendVersion,a=t.nvapiServerUrl,l=t.nicobusUrl,u=new s.RecommendClient({site:n,frontendId:o,frontendVersion:i,nvapiBaseURL:a,publicAPIBaseURL:l});return u.fetch({id:"video_embed_player_end_screen",videoId:r}).then(function(t){return e.sendLogDisplay(t),t})}},{key:"sendLogDisplay",value:function(e){return e.logDisplay("embedVideoEndScreen",e.items.map(function(e,t){return{posId:String(t),item:e}}))}}]),t}(l.Component);t["default"]=u},function(e,t,r){e.exports=r(2)(585)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s="/v2/user/actions/watch-events.json",u="/v1/user/actions/watch-events/nonmember.json",c=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.latestPlayStartMs=null,r.watchMs=0,r.isFirstPlay=!0;var i=r.props.immutable,a=i.nicobusUrl,l=i.hasUserSession;return r.apiUrl=""+a+(l?s:u),r.sendEnd=function(){r.send("end",{watchMilliseconds:null===r.latestPlayStartMs?r.watchMs:r.watchMs+Date.now()-r.latestPlayStartMs})},r}return i(t,e),a(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){this.send("start"),window.addEventListener("beforeunload",this.sendEnd)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.sendEnd)}},{key:"shouldComponentUpdate",value:function(e){if(0===this.props.mutable.playerStatus&&1===e.mutable.playerStatus)return this.send("play"),!1;var t=this.judgePlaying(this.props),r=this.judgePlaying(e);return!t&&r?(this.isFirstPlay&&(this.send("impression"),this.isFirstPlay=!1),this.latestPlayStartMs=Date.now(),!1):!(!t||r)&&(null!==this.latestPlayStartMs&&(this.watchMs+=Date.now()-this.latestPlayStartMs,this.latestPlayStartMs=null),!1)}},{key:"send",value:function(e,t,r){var n=this,o=this.props.immutable,i=o.frontendId,a=o.videoWatchId,l=o.actionTrackId,s=o.nicosid,c=o.adjustProtocol,p=o.parentUrl,f=o.nicobusUrl,d=o.hasUserSession;return fetch(c(this.apiUrl),{method:"POST",headers:{"X-Frontend-Id":i.toString()},body:JSON.stringify([Object.assign({eventType:e,eventOccurredAt:Date.now(),watchTrackId:l,contentId:a,contentType:"video",additionalParameters:{nicosid:s,referer:p}},t)]),credentials:"include"}).then(function(o){r||o&&401===o.status&&d&&(n.apiUrl=""+f+u,n.send(e,t,!0))})["catch"](function(){})}},{key:"judgePlaying",value:function(e){return 2===e.mutable.playerStatus}}]),t}(l.Component);t["default"]=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function l(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,l)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var s=r(91),u=r(11),c=r(163),p=r(164),f=r(165),d=r(153),h=r(83),m=r(12),b=r(166),y=r(167),v=r(22),g=r(26),w=r(62),S=6e5,_=16/9,E=function(e){function t(e,r,i){n(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.adjustProtocol=i,a.previousSession=null,a.recentUserActionTimer=null,a.recentVolumeControlTimer=null,a.messages=r,a.recentActionDurationMs=2e3,a}return i(t,e),a(t,[{key:"onMount",value:function(){this.updateStore(function(e,t){if(t.isSecureHLS&&!w["default"].supported("hls-js")&&!w["default"].supported("hls-native"))return{fullScreen:!1,error:new v.FatalError({code:v.FatalErrorCode.UNSUPPORTED_BROWSER,videoTitle:{text:t.title,url:t.nicovideoServerUrl+"/watch/"+t.videoWatchId},linkURL:t.qaUrl+"/faq/show/1112"})};var r={},n=localStorage.getItem(s["default"].LocalStorageConstants.VOLUME_SETTING_KEY),o=localStorage.getItem(s["default"].LocalStorageConstants.MUTE_SETTING_KEY),i=localStorage.getItem(s["default"].LocalStorageConstants.HIDE_COMMENT_SETTING_KEY);if(n){var a=Number(n);"number"==typeof a&&(r.volume=a)}return(t.playOption.mute||o)&&(r.mute=!!t.playOption.mute||"true"===o),i&&(r.showComment="true"!==i),r.playerStatus=t.playOption.autoplay?1:0,Object.keys(r).length?r:void 0})}},{key:"onClickPlay",value:function(e){this.updateStore(function(t){var r=t.playerStatus,n=t.pendingPlayRequest,o=t.pendingSessionUpdate,i=t.currentTimeMs;if(i="undefined"==typeof e?i:e,o)return{playInfo:void 0,videoLoadedMetaData:!1,playerStatus:1,pendingPlayRequest:1,pendingSessionUpdate:!1,currentTimeMs:i};if(0!==n)return{pendingPlayRequest:1,currentTimeMs:i};switch(r){case 0:return{playerStatus:1,pendingPlayRequest:1,currentTimeMs:i};case 1:case 3:return{playRequest:1,currentTimeMs:i};default:return}})}},{key:"onRelatedVideoListPageChange",value:function(e){this.updateStore(function(t){if(e!==t.relatedVideoListPage)return{relatedVideoListPage:e}})}},{key:"onClickPause",value:function(){this.updateStore(function(e){return 0!==e.pendingPlayRequest?{pendingPlayRequest:2}:2===e.playerStatus?{playRequest:2,currentTimeMs:e.getCurrentVideoTimeMs()}:void 0})}},{key:"onSeek",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(o,i){return r.updateStore(function(a,l){var s=l.browser,u=a.playerStatus,c=a.pendingPlayRequest,p=a.forbidSeek,f=a.durationMs,d=a.maximumSeekableMs,h=a.pendingSessionUpdate;if((0===u||1===u)&&!n)return i();if(4!==u&&p&&!n)return i(),{message:r.messages.forbidSeek};var m=e;if(m<0&&(m=0),m>a.currentTimeMs&&(m=Math.min(m,n?f||0:d)),h)return i(),{currentTimeMs:m,playInfo:void 0,videoLoadedMetaData:!1,playerStatus:1,pendingPlayRequest:0===c?3===u?2:1:c,pendingSessionUpdate:!1};if(o({currentTimeMs:m,seekStatus:t}),m===f&&2===t)return{currentTimeMs:m,seekStatus:t,playerStatus:4,fullScreen:!1,playRequest:2,pendingPlayRequest:0};var b=r.isControllingSeek(t,s),y=r.isControllingSeek(a.seekStatus,s);return!y&&b?{currentTimeMs:m,playerStatus:4===u?3:u,seekStatus:t,pendingPlayRequest:3===u?2:1,playRequest:2}:y&&!b?Object.assign({currentTimeMs:m,seekStatus:t},r.applyPendingPlayRequest(c)):5===s.type&&4===u&&2===t?{currentTimeMs:m,seekStatus:t,playRequest:1,pendingPlayRequest:0}:{currentTimeMs:m,seekStatus:t}})})}},{key:"isControllingSeek",value:function(e,t){return 5===t.type?1===e:0!==e}},{key:"applyPendingPlayRequest",value:function(e){return{playRequest:e,pendingPlayRequest:0}}},{key:"onPlayRequestAccepted",value:function(e){this.updateStore(function(t){var r=t.playerStatus;return 2===e&&(r=2),3!==e||2!==r&&1!==r||(r=3),{playRequest:0,playerStatus:r}})}},{key:"onTimeUpdate",value:function(e){var t=this;this.updateStore(function(r){var n=r.getCurrentVideoTimeMs?r.getCurrentVideoTimeMs():r.currentTimeMs,o=t.getMaximumBufferedMs(e,n);return{currentTimeMs:n,maximumBufferedMs:o,maximumSeekableMs:r.playInfo&&d["default"].isDmcInfo(r.playInfo)?r.durationMs||0:o}})}},{key:"onDurationChange",value:function(e){this.updateStore(function(t){if(e!==t.durationMs)return{durationMs:e}})}},{key:"onProgress",value:function(e){var t=this;this.updateStore(function(r){var n=t.getMaximumBufferedMs(e,r.currentTimeMs);return{maximumBufferedMs:n,maximumSeekableMs:r.playInfo&&d["default"].isDmcInfo(r.playInfo)?r.durationMs||0:n}})}},{key:"onVideoEnd",value:function(){this.updateStore(function(e){return 4===e.playerStatus?void 0:{playerStatus:4,fullScreen:!1}})}},{key:"onGetPlayInfo",value:function(e){try{localStorage.setItem(s["default"].LocalStorageConstants.SERVICE_USER_ID_KEY,e.serviceUserId)}catch(t){}this.updateStore(function(){return{playInfo:e}})}},{key:"onGetContentUrl",value:function(e){this.updateStore(function(){return{contentUrl:e,videoErrorCausedPossiblyBySessionExpiration:void 0}}),this.previousSession&&this.previousSession.deleteSession()["catch"](function(){}),this.previousSession=null}},{key:"onGetThreadInfo",value:function(e){this.updateStore(function(){return{threadInfo:e,incrementViewCounter:!1}})}},{key:"onGetThreadInfoAndContentUrl",value:function(e,t){this.updateStore(function(){return{threadInfo:e,contentUrl:t,incrementViewCounter:!1,videoErrorCausedPossiblyBySessionExpiration:void 0}}),this.previousSession&&this.previousSession.deleteSession()["catch"](function(){}),this.previousSession=null}},{key:"onVideoSeeked",value:function(){var e=this;this.updateStore(function(t,r){var n=t.seekStatus,o=t.pendingPlayRequest,i=r.browser;return Object.assign({},e.isControllingSeek(n,i)?e.applyPendingPlayRequest(o):{},{seekStatus:0})})}},{key:"onVideoLoadedMetaData",value:function(){var e=this;this.updateStore(function(t){var r=t.pendingPlayRequest,n=t.fetchThreadCompleted;return Object.assign({},n?e.applyPendingPlayRequest(r):{},{videoLoadedMetaData:!0})})}},{key:"onVideoMount",value:function(e){this.updateStore(function(){return{getCurrentVideoTimeMs:e}})}},{key:"getMaximumBufferedMs",value:function(e,t){if(!e)return 0;for(var r=e.length,n=0;n<r;n++){var o=1e3*e.start(n),i=1e3*e.end(n);if(o<=t&&t<=i)return i}return t}},{key:"onFetchThreads",value:function(e,t,r,n){var o=this;this.updateStore(function(i,a){var l=void 0,s=void 0;if(r){var u=p["default"].assort(r.chats);l=u.nicoscript,s=u.main}var f=y["default"].parse(l),d=f.timeDependentNicoscript,h=f.filterRelatedNicoscript,m=new b["default"](i.threadInfo,a.lengthInSeconds,a.backCommentMode,h),v=void 0,g=void 0,w=void 0;if(e||n){var S=[e,n].reduce(function(e,t){return t?(e.chatList.push.apply(e.chatList,t.chats),e.threadDataList.push({threadId:t.id,lastRes:t.lastRes}),e):e},{chatList:[],threadDataList:[]}),_=S.chatList,E=S.threadDataList;v=o.createAndStartThreadProcessor(i,_,c["default"].create(m.createNormalThreadFilters(E)))}return t&&(g=o.createAndStartThreadProcessor(i,t.chats,c["default"].create(m.createCommunityThreadFilters([{threadId:t.id,lastRes:t.lastRes}])))),s&&(w=o.createAndStartThreadProcessor(i,s,c["default"].create(m.createOwnerThreadFilters()))),Object.assign({},i.videoLoadedMetaData?o.applyPendingPlayRequest(i.pendingPlayRequest):{},{threadProcessors:{normal:v,community:g,owner:w},fetchThreadCompleted:!0,timeDependentNicoscript:d})})}},{key:"onEnterForbidSeek",value:function(){this.updateStore(function(){return{forbidSeek:!0}})}},{key:"onExitForbidSeek",value:function(){this.updateStore(function(){return{forbidSeek:!1}})}},{key:"onEnterForbidComment",value:function(){this.updateStore(function(){return{forbidComment:!0}})}},{key:"onExitForbidComment",value:function(){this.updateStore(function(){return{forbidComment:!1}})}},{key:"onEnterReverseNonOwnerThread",value:function(){this.updateStore(function(){return{reverseNonOwnerThread:!0}})}},{key:"onExitReverseNonOwnerThread",value:function(){this.updateStore(function(){return{reverseNonOwnerThread:!1}})}},{key:"onEnterReverseOwnerThread",value:function(){this.updateStore(function(){return{reverseOwnerThread:!0}})}},{key:"onExitReverseOwnerThread",value:function(){this.updateStore(function(){return{reverseOwnerThread:!1}})}},{key:"onFetchThreadsFail",value:function(){var e=this;this.updateStore(function(t){var r=t.pendingPlayRequest,n=t.videoLoadedMetaData;return Object.assign({},n?e.applyPendingPlayRequest(r):{},{fetchThreadCompleted:!0,message:e.messages.fetchThreadsFail})})}},{key:"clearMessage",value:function(){this.updateStore(function(){return{message:void 0}})}},{key:"createAndStartThreadProcessor",value:function(e,t,r){var n=e.createThread({chatList:t},f["default"]);return n.applyFilter(r),n}},{key:"onCommentRendererInitialized",value:function(e){this.updateStore(function(){return{createThread:e}})}},{key:"jumpToWatchPage",value:function(e){var t=this;e.preventDefault(),this.updateStore(function(r,n){var o=n.playOption;if(!o.noLinkToNiconico){var i=e.currentTarget,a=i.href,l=i.search,s=Math.floor(r.currentTimeMs/1e3);4===r.playerStatus&&(s=0),window.open(""+a+(l.length?"&":"?")+"from="+s),t.onClickPause()}})}},{key:"onClickReplay",value:function(){var e=this;this.updateStore(function(t,r){var n=t.pendingSessionUpdate,o=r.browser;if(n)return{currentTimeMs:0,playInfo:void 0,videoLoadedMetaData:!1,playerStatus:1,pendingPlayRequest:1,pendingSessionUpdate:!1};var i=2,a=e.isControllingSeek(i,o);return{currentTimeMs:0,seekStatus:i,playRequest:a?0:1,pendingPlayRequest:a?1:0}})}},{key:"onToggleFullScreen",value:function(){var e=this;this.updateStore(function(t){if(t.fullScreenAvailable){var r=!t.fullScreen;return e.countFullScreen(h["default"].Action.click,r),{fullScreen:r}}})}},{key:"onFullScreenChanged",value:function(e){var t=this;this.updateStore(function(r){if(e!==r.fullScreen)return t.countFullScreen(h["default"].Action.key,e),{fullScreen:e}})}},{key:"onVideoGetBackUnderControl",value:function(e){this.updateStore(function(t){var r=t.playerStatus;return e&&2!==r?{playerStatus:2}:e||2!==r?void 0:{playerStatus:3}})}},{key:"setFullScreenAvailable",value:function(e){this.updateStore(function(){return e?{fullScreenAvailable:!0}:{fullScreenAvailable:!1,fullScreen:!1}})}},{key:"onToggleComment",value:function(){var e=this;this.updateStore(function(t){if(t.forbidComment)return{message:e.messages.forbidComment};var r=!t.showComment;if(r)localStorage.removeItem(s["default"].LocalStorageConstants.HIDE_COMMENT_SETTING_KEY);else try{localStorage.setItem(s["default"].LocalStorageConstants.HIDE_COMMENT_SETTING_KEY,(!0).toString())}catch(n){}return{showComment:r}})}},{key:"onToggleMute",value:function(){this.updateStore(function(e){var t=!e.mute;try{localStorage.setItem(s["default"].LocalStorageConstants.MUTE_SETTING_KEY,t.toString())}catch(r){}return{mute:t}})}},{key:"onVolumeChange",value:function(e,t){var r=this;e<0&&(e=0),e>1&&(e=1);var n=!1;this.recentVolumeControlTimer&&clearTimeout(this.recentVolumeControlTimer),this.recentVolumeControlTimer=setTimeout(function(){return r.updateStore(function(){return{recentVolumeControl:!1}})},this.recentActionDurationMs);try{localStorage.setItem(s["default"].LocalStorageConstants.VOLUME_SETTING_KEY,e.toString()),localStorage.setItem(s["default"].LocalStorageConstants.MUTE_SETTING_KEY,n.toString())}catch(o){}this.updateStore(function(r){return{volume:e,mute:n,recentVolumeControl:!0,controllingVolume:"undefined"==typeof t?r.controllingVolume:t}})}},{key:"onDmcWatchApiError",value:function(e){var t=this;this.updateStore(function(e,r){var n=r.extplayervUrl,o=r.videoWatchId,i=r.parentUrl;t.analyze(n,h["default"].dmcErrorWatchApi(o),i)}),this.onThumbWatchApiError(e)}},{key:"onThumbWatchApiError",value:function(e){this.updateStore(function(e,t){var r=t.videoWatchId,n=t.title,o=t.nicovideoServerUrl;return{fullScreen:!1,error:new v.FatalError({code:v.FatalErrorCode.WATCH_API_ERROR,videoTitle:{text:n,url:o+"/watch/"+r}})}})}},{key:"onVideoPlayError",value:function(e,t){this.updateStore(function(r,n){var o=n.videoWatchId,i=n.title,a=n.nicovideoServerUrl,l=n.isProduction,s=function(){switch(e){case 404:return new v.FatalError({code:v.FatalErrorCode.POSSIBLY_DELETED_VIDEO});case 503:return new v.FatalError({code:v.FatalErrorCode.MAINTENANCE});case 509:return new v.FatalError({code:v.FatalErrorCode.TECHNICALLY_UNWATCHABLE,via:"thumb_watch_limit_exceeded",videoTitle:{text:i,url:a+"/watch/"+o}});default:return new v.FatalError({code:v.FatalErrorCode.UNEXPECTED_ERROR})}}();return l||(s.debug=t),{fullScreen:!1,error:s}})}},{key:"onCreateSessionError",value:function(e){var t=this;this.updateStore(function(e,r){var n=r.extplayervUrl,o=r.videoWatchId,i=r.parentUrl;t.analyze(n,h["default"].dmcErrorSessionApi(o),i)}),this.onThumbWatchApiError(e)}},{key:"onGetRelatedVideos",value:function(e){this.updateStore(function(){return{relatedVideos:e}})}},{key:"onVideoPlay",value:function(){this.updateStore(function(e){return 2===e.playerStatus?void 0:{playerStatus:2}})}},{key:"onVideoPause",value:function(){this.updateStore(function(e){return 2===e.playerStatus?{playerStatus:3}:void 0})}},{key:"onVideoError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.previousSession||this.updateStore(function(r,n){var o=r.playInfo,i=r.videoErrorCausedPossiblyBySessionExpiration,a=n.videoWatchId,l=n.title,s=n.nicovideoServerUrl;return!d["default"].isDmcInfo(o)||e.code!==MediaError.MEDIA_ERR_NETWORK&&e.code!==MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED||t?e.code===MediaError.MEDIA_ERR_DECODE||e.code===MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED?{fullScreen:!1,error:new v.FatalError({code:v.FatalErrorCode.VIDEO_ERROR_DECODE,raw:e,videoTitle:{text:l,url:s+"/watch/"+a}})}:{fullScreen:!1,error:new v.FatalError({code:v.FatalErrorCode.VIDEO_ERROR_NETWORK,raw:e})}:i?void 0:{videoErrorCausedPossiblyBySessionExpiration:e}})}},{key:"onClickRetryMessage",value:function(){this.updateStore(function(){return{error:void 0,playInfo:void 0,videoLoadedMetaData:!1,playerStatus:1,pendingPlayRequest:1,pendingSessionUpdate:!1}})}},{key:"onSessionHeartbeatSucceeded",value:function(e){this.previousSession||e.getTimeUntilExpiration()>=S||(this.previousSession=e,this.updateStore(function(e,t){var r=e.playerStatus,n=t.isSp;return n&&2!==r?{pendingSessionUpdate:!0}:{playInfo:void 0,videoLoadedMetaData:!1,playerStatus:1,pendingPlayRequest:2===r?1:2,pendingSessionUpdate:!1}}))}},{key:"onSessionHeartbeatFailed",value:function(e,t){return e&&"session_not_found"===e.message?void(this.previousSession||(this.previousSession={deleteSession:function(){return Promise.resolve()}},this.updateStore(function(e,t){var r=e.playerStatus,n=t.isSp;return n&&2!==r?{pendingSessionUpdate:!0}:{playInfo:void 0,videoLoadedMetaData:!1,playerStatus:1,pendingPlayRequest:2===r?1:2,pendingSessionUpdate:!1}}))):void(t&&this.onVideoError(t,!0))}},{key:"onChangePlayerOverlay",value:function(e){this.updateStore(function(){return{playerOverlay:e}})}},{key:"countShareTwitter",value:function(){var e=this;this.updateStore(function(t,r){var n=r.extplayervUrl,o=r.parentUrl;e.analyze(n,h["default"].shareTwitter,o)})}},{key:"countShareFacebook",value:function(){var e=this;this.updateStore(function(t,r){var n=r.extplayervUrl,o=r.parentUrl;e.analyze(n,h["default"].shareFacebook,o)})}},{key:"countShareLine",value:function(e){var t=this;this.updateStore(function(r,n){var o=n.extplayervUrl,i=n.parentUrl;t.analyze(o,h["default"].shareLine,i,e)})}},{key:"countReplay",value:function(){var e=this;this.updateStore(function(t,r){var n=r.extplayervUrl,o=r.actionTrackId,i=r.parentUrl;e.analyze(n,h["default"].replay(o),i)})}},{key:"countSeek",value:function(e,t,r){var n=this;this.updateStore(function(o,i){var a=i.extplayervUrl,l=i.actionTrackId,s=i.parentUrl;n.analyze(a,h["default"].seek(e,t,"undefined"==typeof r?"bar":r,l),s)})}},{key:"countFullScreen",value:function(e,t){var r=this;this.updateStore(function(n,o){var i=o.extplayervUrl,a=o.actionTrackId,l=o.parentUrl;r.analyze(i,h["default"].fullScreen(e,t,a),l)})}},{key:"analyze",value:function(e,t,r,n){var o=t.path,i=t.data;return l(this,void 0,void 0,regeneratorRuntime.mark(function a(){var t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=m["default"].objectToQuery(Object.assign({},i,{parent:r})),a.next=3,fetch(this.adjustProtocol(e)+"/analyze"+o+t)["catch"](function(){});case 3:n&&(window.location.href=n);case 4:case"end":return a.stop()}},a,this)}))}},{key:"onUserAction",value:function(e){var t=this;this.recentUserActionTimer&&clearTimeout(this.recentUserActionTimer),e||(this.recentUserActionTimer=setTimeout(function(){return t.updateStore(function(){return{recentUserAction:!1}})},this.recentActionDurationMs));var r=!e;this.updateStore(function(e){return e.recentUserAction===r?void 0:{recentUserAction:r}})}},{key:"onMouseLeaveVolumeController",value:function(){this.recentVolumeControlTimer&&clearTimeout(this.recentVolumeControlTimer),this.updateStore(function(){return{recentVolumeControl:!1}})}},{key:"onMute",value:function(e){this.updateStore(function(t){if(t.mute!==e)return{mute:e}})}},{key:"onTouchStartPlayer",value:function(e,t,r){var n=this;this.updateStore(function(o){var i=o.recentUserAction,a=o.fullScreen,l=e&&i,s=!1,u=!1;return a&&t&&e?(r.preventDefault(),n.onUserAction(l)):(s=!0,l&&(n.onUserAction(l),u=!0)),{unintendedHover:!0,ignoreMousemove:s,ignoreClick:u}})}},{key:"onMouseMovePlayer",value:function(){var e=this;this.updateStore(function(t){var r=t.unintendedHover,n=t.ignoreMousemove;return n?{ignoreMousemove:!1}:(e.onUserAction(),r?{unintendedHover:!1}:void 0)})}},{key:"onClickPlayer",value:function(){var e=this;this.updateStore(function(t,r){var n=t.playerStatus,o=t.ignoreClick,i=r.isSp;if(!i||0!==n)return o?{ignoreClick:!1}:e.onUserAction()})}},{key:"onResizePlayer",value:function(e,t){this.updateStore(function(){var r=t*_;return{contentAreaSize:r<e?{width:Math.ceil(r),height:t}:{width:e,height:Math.ceil(e/_)}}})}},{key:"onBlurWindow",value:function(){var e=this;this.updateStore(function(t,r){var n=t.playerOverlay,o=r.isSp,i=r.os,a=r.browser;if(o&&(2!==i.type||6!==a.type))return e.onUserAction(!0),0===n?void 0:{playerOverlay:0}})}},{key:"onFetchUploaderInfo",value:function(e){this.updateStore(function(){return{uploaderInfo:e}})}},{key:"onPlayPromiseRejected",value:function(e){this.updateStore(function(){return{error:g.PlayerError.create(g.PlayerErrorTarget.VIDEO,g.PlayerErrorAction.PLAY,g.PlayerErrorCode.VIDEO_PLAY_PROMISE_REJECTED,e)}})}},{key:"onVideoAutoplayRejected",value:function(e){this.updateStore(function(){return{playerStatus:3}})}},{key:"onEmitErrorEvent",value:function(){this.updateStore(function(e){if(e.error&&!(e.error instanceof v.FatalError))return{error:void 0}})}}]),t}(u["default"]);t["default"]=E},function(e,t,r){e.exports=r(2)(377)},function(e,t,r){e.exports=r(2)(376)},function(e,t,r){e.exports=r(2)(358)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(163),a=function(){function e(t,r,o,i){n(this,e),this.threadInfo=t,this.lengthInSeconds=r,this.backCommentMode=o,this.filterRelatedNicoscript=i,this.createCommunityThreadFilters=this.createNormalThreadFilters}return o(e,[{key:"createNormalThreadFilters",value:function(e){var t=this.filterRelatedNicoscript,r=t.replaceFilterParameterForNonOwner,n=t.defaultFilterParameter,o=[i["default"].deleted(),i["default"].ngScoring(i["default"].ngScoring.THRESHOLD_MIDDLE),i["default"].channelNg(this.threadInfo.channelNgWords),i["default"].ownerNg(this.threadInfo.ownerNgWords),i["default"].atNumber(),i["default"].oldPatissier(this.lengthInSeconds,e),i["default"].premiumColor()];return 2!==this.backCommentMode&&3!==this.backCommentMode&&4!==this.backCommentMode||o.push(i["default"].defaultSmall()),r.length&&o.push(i["default"].replaceSetting(r)),n.length&&o.push(i["default"].defaultSetting(n)),o}},{key:"createOwnerThreadFilters",value:function(){var e=this.filterRelatedNicoscript,t=e.replaceFilterParameterForOwner,r=e.defaultFilterParameter,n=[i["default"].premiumColor()];return t.length&&n.push(i["default"].replaceSetting(t)),r.length&&n.push(i["default"].defaultSetting(r)),n}}]),e}();t["default"]=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(168),i=r(136),a=new i["default"];!function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],r=[],n=[],l=[],s=[],u=[],c=[],p=[];return o["default"].parse(e).forEach(function(e){switch(e.type){case o["default"].Type.REVERSE:var f={enterPositionMs:e.startMs,exitPositionMs:e.endMs};return e.targetThreads.indexOf(o["default"].TargetThread.OWNER)>=0&&r.push(f),void(e.targetThreads.indexOf(o["default"].TargetThread.NON_OWNER)>=0&&t.push(f));case o["default"].Type.JUMP:if(!e.target)return;var d=a.resolve(e.target);return void(d.type===i["default"].Type.SEEK_POSITION&&u.push({seekPositionMs:d.positionMs,timeRange:{enterPositionMs:e.startMs,exitPositionMs:e.endMs}}));case o["default"].Type.REPLACE:var h=e.src,m=e.dest,b=e.replaceAll,y=e.perfectMatching,v=e.targetThreads,g=e.unixTimestamp,w=e.startMs,S=e.endMs,_=e.size,E=e.position,k=e.color,x=e.font;if(!h)return;var O={createdUnixTimestamp:g,timeRange:{startMs:w,endMs:S},replaceInfo:{source:h,destination:m,replaceAll:b,perfectMatching:y},commands:{size:_,position:E,color:k,font:x}};return v.indexOf(o["default"].TargetThread.OWNER)>=0&&l.push(O),void(v.indexOf(o["default"].TargetThread.NON_OWNER)>=0&&n.push(O));case o["default"].Type.DEFAULT:var P=e.unixTimestamp,T=e.startMs,C=e.endMs,j=e.size,M=e.position,R=e.color,I=e.font;return void s.push({createdUnixTimestamp:P,timeRange:{startMs:T,endMs:C},commands:{size:j,position:M,color:R,font:I}});case o["default"].Type.FORBID_SEEK:return void c.push({enterPositionMs:e.startMs,exitPositionMs:e.endMs});case o["default"].Type.FORBID_COMMENT:return void p.push({enterPositionMs:e.startMs,exitPositionMs:e.endMs});default:return}}),{timeDependentNicoscript:{reverseTimeRangesForNonOwner:t,reverseTimeRangesForOwner:r,jumpToSeekPositionTriggerParameters:u,forbidSeekTimeRanges:c,forbidCommentTimeRanges:p},filterRelatedNicoscript:{replaceFilterParameterForNonOwner:n,replaceFilterParameterForOwner:l,defaultFilterParameter:s}}}e.parse=t}(n||(n={})),t["default"]=n},function(e,t,r){e.exports=r(2)(545)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(4),s=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.isRequesting=!1,e}return i(t,e),a(t,[{key:"render",value:function(){return null}},{key:"componentDidMount",value:function(){var e=this.props,t=e.mutable,r=e.immutable,n=e.observer;!t.uploaderInfo&&r.channel&&n.onFetchUploaderInfo(Object.assign({url:r.channelServerUrl+"/ch"+r.channel.id
},r.channel))}},{key:"shouldComponentUpdate",value:function(e){var t=this,r=e.immutable,n=e.mutable,o=e.observer;return!n.uploaderInfo&&(this.isRequesting||2!==n.playerOverlay||(this.isRequesting=!0,fetch(r.adjustProtocol(r.extplayervUrl)+"/users/"+r.videoUploaderId,{credentials:"include"}).then(function(e){return e.ok?e.json():Promise.reject(null)}).then(function(e){var n=e.id,i=e.nickname,a=e.icon;t.isRequesting=!1,o.onFetchUploaderInfo({id:n,name:i,thumbnailUrl:a,url:r.nicovideoServerUrl+"/user/"+n})},function(){t.isRequesting=!1,o.onFetchUploaderInfo({})})),!1)}}]),t}(l.Component);t["default"]=s}]);