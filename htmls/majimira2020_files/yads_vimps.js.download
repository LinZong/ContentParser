/*! built at Mon Jan 20 2020 05:46:39 GMT+0000 (Coordinated Universal Time) */!function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=10)}([function(e,t,i){"use strict";i.r(t),t.default={inherit:function(e,t){if(Object.create)e.prototype=Object.create(t.prototype);else{var i=function(){};i.prototype=t.prototype,e.prototype=new i}(e.prototype.constructor=e).super_=t},isInherited:function(e,t){for(var i=e;;){if(i===t)return!0;if(!i.super_)return!1;i=i.super_}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},forEach:function(e,t,i){if(e.forEach)e.forEach(t,i);else for(var n=0;n<e.length;n++)t.call(i,e[n],n,e)},map:function(e,t,i){if(e.map)return e.map(t,i);for(var n=[],r=0;r<e.length;r++)n.push(t.call(i,e[r],r,e));return n},filter:function(e,t,i){if(e.filter)return e.filter(t,i);for(var n=[],r=0;r<e.length;r++){t.call(i,e[r],r,e)&&n.push(e[r])}return n},forEachHash:function(e,t,i){for(var n in e)e.hasOwnProperty(n)&&t.call(i,n,e[n],e)},extend:function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}return e},makeRandomString:function(){return Math.floor(1e9*Math.random()).toString(32)}}},function(e,t,i){"use strict";i.r(t);var h=i(0),s=function(){try{window.top.document}catch(e){return window}return window.top}(),r=s.document;function l(e){this.top=e.top,this.left=e.left,e.width?(this.width=e.width,this.height=e.height,this.bottom=this.top+this.height,this.right=this.left+this.width):(this.bottom=e.bottom,this.right=e.right,this.width=this.right-this.left,this.height=this.bottom-this.top)}function u(e){return e.ownerDocument.defaultView||e.ownerDocument.parentWindow}function c(e){var t,i=(t=e).currentStyle||u(t).getComputedStyle(t,"");return 0<=i.overflow.indexOf("scroll")||0<=i.overflow.indexOf("hidden")}function d(e,t,i){t=t||0,i=i||0;for(var n,r=0,o=0,a=e;;)try{var s=u(a).frameElement;if(!s)break;var h=s.getBoundingClientRect();r+=h.top,o+=h.left,a=s}catch(a){break}try{n=e.getBoundingClientRect()}catch(e){n={top:0,left:0,bottom:0,right:0}}return new l({top:Math.round(n.top+i+r),left:Math.round(n.left+t+o),bottom:Math.round(n.bottom+i+r),right:Math.round(n.right+t+o)})}function p(){var e=s.innerWidth||r.documentElement.clientWidth,t=s.innerHeight||r.documentElement.clientHeight,i=0,n=0;return r.body&&(i=r.body.scrollLeft||r.documentElement.scrollLeft,n=r.body.scrollTop||r.documentElement.scrollTop),new l({top:Math.round(n),left:Math.round(i),width:Math.round(e),height:Math.round(t)})}function f(){var e=r.body.scrollLeft||r.documentElement.scrollLeft,t=r.body.scrollTop||r.documentElement.scrollTop;return{left:Math.round(e),top:Math.round(t)}}function n(e,t,i){this.elem=e,this.zeroSizeViewableMode=i&&i.zeroSizeViewableMode,this.trimmedRect=null,t&&(this.trimmedRect=t)}l.prototype.toString=function(){return"Rect W:"+this.width+" H:"+this.height+" T:"+this.top+" L:"+this.left+" B:"+this.bottom+" R:"+this.right},l.prototype.transfer=function(e,t){this.left+=e,this.right+=e,this.top+=t,this.bottom+=t},l.prototype.copy=function(){return new l(this)},l.prototype.getOverlappedArea=function(e){var t=Math.max(this.top,e.top),i=Math.min(this.bottom,e.bottom),n=Math.max(this.left,e.left),r=Math.min(this.right,e.right);return new l(0<i-t&&0<r-n?{top:t,bottom:i,left:n,right:r}:{top:0,bottom:0,left:0,right:0})},n.prototype.calcLayoutPosition=function(){var i=[],e=f(),n=e.top,r=e.left;function t(e){for(var t=e;(t=t.parentNode)!==t.ownerDocument.body;)c(t)&&(i.unshift(t),n+=t.scrollTop,r+=t.scrollLeft)}t(this.elem);for(var o=u(this.elem);o!=s;){i.unshift(o.frameElement);var a=f();n+=a.top,r+=a.left,t(o.frameElement),o=o.parent}this.layoutPosition=d(this.elem,r,n),this.scrollParents=i},n.prototype.getLayoutPosition=function(e){return!e&&this.layoutPosition||this.calcLayoutPosition(),this.layoutPosition},n.prototype.getViewableRect=function(){this.scrollParents||this.calcLayoutPosition();var e=p(),t=h.default.map(this.scrollParents,function(e){return e});t.push(this.elem);for(var i=null,n=e,r=0;r<t.length;r++){if(i=d(t[r],e.left,e.top),this.zeroSizeViewableMode){var o=0===i.width?1:i.width,a=0===i.height?1:i.height;i=new l({top:i.top,left:i.left,width:o,height:a})}if(0===(n=n.getOverlappedArea(i)).width||0===n.height)break}if(this.trimmedRect){var s=this.trimmedRect.copy();return s.transfer(i.left,i.top),n.getOverlappedArea(s)}return n},t.default={Rect:l,traverseAllWindows:function(o,e){(function e(t){if(!o(t))return!1;for(var i=t.frames,n=0;n<i.length;n++){var r=i[n];try{r.document.URL}catch(e){continue}if(!e(r))return!1}return!0})(e=e||s)},getElementRect:function(e){var t=e.getBoundingClientRect();return new l({top:Math.round(t.top),left:Math.round(t.left),bottom:Math.round(t.bottom),right:Math.round(t.right)})},getViewedRect:p,getPageSize:function(){var e=0,t=0;return r.body&&(t=r.body.scrollWidth||r.documentElement.scrollWidth,e=r.body.scrollHeight||r.documentElement.scrollHeight),{width:Math.round(t),height:Math.round(e)}},getScreenSize:function(){var e=s.innerWidth||r.documentElement.clientWidth,t=s.innerHeight||r.documentElement.clientHeight;return{width:Math.round(e),height:Math.round(t)}},getScrollPos:f,ElementPosition:n,getTopWindow:function(){return s},getBoundingClientRectAsRect:d,isIframeCrossDomain:function(e){var t=null;try{t=(e.contentWindow.document||e.contentDocument).body.innerHTML}catch(e){}return null===t}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(7);t.default=function(e,t,i){var n={tk:"b4db4bd2-193f-49c8-b029-1504f702baf5",p:"uadf",d:"sampling_beacon"};n.adprodset=e;var r=o.parse(t);n.pv=r.pv,n.rand=r.rand,n.vi=r.vi.substring(0,10),"1"==r.measurable?n.type="m":"0"==r.measurable?n.type="nm":n.type="v",n.tm=(new Date).getTime(),n.aux=i,document.createElement("img").src="https://dsb.yahoo.co.jp/api/v1/clear.gif?"+o.stringify(n)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(6),n=(o.prototype.getBucket=function(e){var t={name:"default",rate:1};if(!e)return t;var i=e.split("-")[0];if(!this.config[i]||-1===this.selected[i])return t;var n=this.selected[i];return this.config[i][n]},o.prototype.getBucketName=function(e){return this.getBucket(e).name},o.prototype.isFeatureEnabled=function(e,t){if(window.YJ_UADF&&window.YJ_UADF.bucketManager&&window.YJ_UADF.bucketManager.features&&window.YJ_UADF.bucketManager.features.some(function(e){return e.toLowerCase()===t.toLowerCase()}))return!0;var i=this.getBucket(e);return!!i.features&&i.features.some(function(e){return e===t})},o.prototype.enableFeature=function(e){this.activeFeatures.push(e)},o.prototype.isSamplingBeaconTarget=function(e){return!!this.getBucket(e).beacontarget},o.prototype.getSamplingBeaconData=function(e,t,i){var n=this.getBucket(e);if(!n.beacondata)return"";try{return n.beacondata(t,i)}catch(e){return"error"}},o);function o(t,i){var n=this;i=i||r.default,this.config=i,window.YJ_UADF&&window.YJ_UADF.bucketManager&&"number"==typeof window.YJ_UADF.bucketManager.selectValue&&(t=window.YJ_UADF.bucketManager.selectValue),this.selectValue=t,this.activeFeatures=[];this.selected={},Object.keys(i).forEach(function(e){n.selected[e]=function(e,t){for(var i=0,n=0;n<e.length;++n)if(0<=e[n].rate&&e[n].rate<1&&t<(i+=e[n].rate))return n;return-1}(i[e],t)})}t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(1),l=i(0),n=(r.prototype.handleVImpsMode=function(e){return 0!==e},r.prototype.notifyRendered=function(r){if(r.viewableUrl&&this.detector.beaconSenderForViewableBeacon.setUri(r.viewableUrl),r.measurableUrl?(this.detector.beaconSenderForMeasurableBeacon.setUri(r.measurableUrl),this.detector.beaconSenderForMeasurableBeacon.setAllowed()):this.detector.beaconSenderForMeasurableBeacon.setDisallowed(),this.handleVImpsMode(r.vimpsMode)){this.detector.beaconSenderForViewableBeacon.setAllowed();var o=s.default.getTopWindow();if("multi"===r.type){var e=r.parentIdList;l.default.forEach(e,function(e,t){var i=o.document.getElementById(e);if(i){var n=r.viewableInfoList&&r.viewableInfoList[t]||null;this.detector.collectTextAdsIn(i,r.adProdSetCode,r.requestId,n,r.viewableMethod)}},this)}else if("single_with_parent"===r.type){var t=r.parentId,i=o.document.getElementById(t);i&&this.detector.collectTextAdsIn(i,r.adProdSetCode,r.requestId,r.viewableInfo,r.viewableMethod)}else"doc_write"===r.type?this.detector.collectTextAdsIn(r.docWriteCaller.parentNode,r.adProdSetCode,r.requestId,r.viewableInfo,r.viewableMethod):"stream"===r.type?r.viewableInfo&&this.detector.registerTargetProxyForStream(r.adProdSetCode,r.requestId,r.viewableInfo):"timeline"===r.type?this.detector.registerTargetProxyForTimeline(r.uniqueId,r.adNum,r.adProdSetCode,r.requestId,r.viewableInfo):"richad"===r.type&&l.default.forEach(r.parentIdList,function(e,t){var i=o.document.getElementById(e);i&&this.detector.collectRichAdsIn(i,r.adProdSetCode,r.viewableInfo)},this);this.detector.sendMeasurableBeacon(r.viewableInfoList||r.viewableInfo,r.adProdSetCode)}else this.detector.sendNonMeasurableBeacon(r.viewableInfoList||r.viewableInfo,r.adProdSetCode)},r.prototype.notifyStreamAttached=function(e,t){this.detector.notifyStreamAttached(e,t)},r.prototype.notifyTimelineAttached=function(e,t,i,n,r){this.detector.notifyTimelineAttached(e,t,i,n,r)},Object.defineProperty(r.prototype,"messageEventHandlers",{get:function(){return{frameStarted:{method:this.handleFrameStartedMessage},frameLoaded:{method:this.handleFrameLoadedMessage},frameScrolled:{method:this.handleFrameScrolledMessage}}},enumerable:!0,configurable:!0}),r.prototype.setMessageEventHandler=function(){function e(e){t.handleMessageEvent(e)}var t=this,i=s.default.getTopWindow();i.addEventListener?i.addEventListener("message",e,!1):i.attachEvent("onmessage",e)},r.prototype.handleMessageEvent=function(e){if(("http://i.yimg.jp"===e.origin||"https://s.yimg.jp"===e.origin||/\.yahoo\.co\.jp(:[0-9]+)?$/.test(e.origin))&&l.default.isString(e.data)){var t=e.data.split(","),i=t[0],n=this.messageEventHandlers[i];n&&n.method.call(this,t,e)}},r.prototype.detectMessagedFrame=function(n){var e=s.default.getTopWindow(),r=null;return s.default.traverseAllWindows(function(e){for(var t=e.document.getElementsByTagName("iframe"),i=0;i<t.length;i++)if(t[i].contentWindow===n)return r=t[i],!1;return!0},e),r},r.prototype.handleFrameStartedMessage=function(e,t){if(3===e.length){var i=parseInt(e[1],10);if(!isNaN(i)&&this.handleVImpsMode(i)){var n=this.detectMessagedFrame(t.source);if(n){var r=e[2];this.detector.registerFrameNotifyingTargets(r,n)}}}},r.prototype.handleFrameLoadedMessage=function(e,t){var i=parseInt(e[1],10);if(!isNaN(i)){var n=e[5],r=e[6];r&&this.detector.beaconSenderForViewableBeacon.setUri(r),n?(this.detector.beaconSenderForMeasurableBeacon.setUri(n),this.detector.beaconSenderForMeasurableBeacon.setAllowed()):this.detector.beaconSenderForMeasurableBeacon.setDisallowed();var a=e[2];if(this.handleVImpsMode(i)){this.detector.beaconSenderForViewableBeacon.setAllowed();var s=this.detectMessagedFrame(t.source);if(s){var h=e[3];if("non_ydn"!==h){if(0!==e[4].indexOf("ERR")){var o=e[4].split("|");l.default.forEach(o,function(e,t){var i=this.parseViewableInfo(e);if(i){var n=i[0],r=i[1],o={canDuplicate:!0,tagId:a,requestId:h,rank:t+1,viewableInfo:n};r&&(o.trimmedRect=r),this.detector.registerTarget(s,o),this.detector.sendMeasurableBeacon(n,a)}},this)}}else this.detector.registerTarget(s,{tagId:a,requestId:h,rank:"1",viewableInfo:"non_ydn"})}}else l.default.forEach(e[4].split("|"),function(e){var t=this.parseViewableInfo(e);if(t){var i=t[0];this.detector.sendNonMeasurableBeacon(i,a)}},this)}},r.prototype.parseViewableInfo=function(e){var t=e.split("/");if(5!==t.length)return null;var i=parseInt(t[0],10),n=parseInt(t[1],10),r=parseInt(t[2],10),o=parseInt(t[3],10);if(isNaN(i)||isNaN(n)||isNaN(r)||isNaN(o))return null;var a=t[4]&&0!==t[4].length?t[4]:null;return 0===i&&0===n&&0===r&&0===o?[a,null]:[a,new s.default.Rect({top:i,right:n,bottom:r,left:o})]},r.prototype.markAdsForDebug=function(){this.detector.markAdsForDebug()},r.prototype.handleFrameScrolledMessage=function(e,t){var i=e[4].split("|");l.default.forEach(i,function(e){var t=this.parseViewableInfo(e);if(t){var i=t[0],n=t[1];this.detector.updateTargetRect(n,i)}},this)},r);function r(e){this.detector=e,this.setMessageEventHandler()}t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=(r.prototype.enable=function(){this.enabled=!0},r.prototype.setDebugStyle=function(e){var t=this;if(this.enabled){e.rawElement.querySelectorAll("*");var i,n=e.rawElement.getAttribute("data-rma-viewable"),r=/^https:\/\/m\.yahoo\.co\.jp\/.*/.test(location.href);i=n||r?e.rawElement.parentElement:e.rawElement,e.viewedEnoughTime?i.style.outline="6px green outset":i.style.outline="6px red outset",i.style.outlineOffset="-3px",i.style.transitionDuration="0.5s",window.requestAnimationFrame(function(){return t.displayCenterPoint(e)})}},r.prototype.displayCenterPoint=function(e){var t=this,i=e.getCenterPoints()[0],n=e.viewedEnoughTime?"green":"red";if(!e.debugCenterElement){var r=document.createElement("div");r.style.width="5px",r.style.height="5px",r.style.zIndex="999",r.style.backgroundColor=n,r.style.position="fixed",r.style.top=i.top+1+"px",r.style.left=i.left+1+"px",e.debugCenterElement=r,document.body.appendChild(r)}i.top<0||i.left<0?e.debugCenterElement.style.display="none":(e.debugCenterElement.style.display="block",e.debugCenterElement.style.backgroundColor=n,e.debugCenterElement.style.top=i.top+1+"px",e.debugCenterElement.style.left=i.left+1+"px"),window.requestAnimationFrame(function(){return t.displayCenterPoint(e)})},r);function r(){this.enabled=!1}t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}},function(e,t,i){"use strict";t.decode=t.parse=i(8),t.encode=t.stringify=i(9)},function(e,t,i){"use strict";e.exports=function(e,t,i,n){t=t||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var o=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s,h,l=e.length;0<a&&a<l&&(l=a);for(var u=0;u<l;++u){var c,d,p,f,g=e[u].replace(o,"%20"),m=g.indexOf(i);d=0<=m?(c=g.substr(0,m),g.substr(m+1)):(c=g,""),p=decodeURIComponent(c),f=decodeURIComponent(d),s=r,h=p,Object.prototype.hasOwnProperty.call(s,h)?y(r[p])?r[p].push(f):r[p]=[r[p],f]:r[p]=f}return r};var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,i){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}e.exports=function(i,n,r,e){return n=n||"&",r=r||"=",null===i&&(i=void 0),"object"==typeof i?s(h(i),function(e){var t=encodeURIComponent(o(e))+r;return a(i[e])?s(i[e],function(e){return t+encodeURIComponent(o(e))}).join(n):t+encodeURIComponent(o(i[e]))}).join(n):e?encodeURIComponent(o(e))+r+encodeURIComponent(o(i)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var h=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},function(e,t,i){"use strict";i.r(t);function n(e){this.baseTime=e,this.incrementedKey=0,this.data={}}n.prototype.getElapsedTime=function(){return(new Date).getTime()-this.baseTime},n.prototype.getAutoIncrementedKey=function(){return++this.incrementedKey},n.prototype.set=function(e,t){this.data[e]=t},n.prototype.get=function(e){return this.data[e]};function r(e){this.pollInterval=e,this.targets=[],this.timer=null,this.activeNums=0}var o=n,d=i(0),l=i(1);r.prototype.start=function(){var e=this,t=l.default.getTopWindow();this.timer=t.setInterval(function(){e.poll()},this.pollInterval)},r.prototype.stop=function(){l.default.getTopWindow().clearInterval(this.timer),this.timer=null},r.prototype.poll=function(){var t=(new Date).getTime();d.default.forEach(this.targets,function(e){e.active&&t-e.lastFiredAt>=e.interval&&(e.method.call(e.context,"Polling"),e.lastFiredAt=t)},this)},r.prototype.registerHandler=function(e,t,i){var n={active:!1,interval:e,context:t,method:i,lastFiredAt:(new Date).getTime(),lazyCounter:0},r=this.targets.length;return this.targets.push(n),r},r.prototype.activateHandler=function(e){var t=this.targets[e];t.active=!0,0===this.activeNums&&this.start(),this.activeNums++},r.prototype.deactivateHandler=function(e){var t=this.targets[e];t.active=!1,this.activeNums--,0===this.activeNums&&this.stop()};function a(e,t){this.manager=e,this.context=t.context,this.method=t.method,this.name=t.name||this.method.name||"UNNAMED",this.events=t.events||[],this.polling=t.polling||-1,this.minInterval=t.minInterval||0,this.lastFiredAt=0,this.eventKeys=[],this.pollingKey=-1,this.registerHandlers()}a.prototype.registerHandlers=function(){d.default.forEach(this.events,function(e){var t=this.manager.getEvent(e),i=t.registerHandler(this,this.fire);this.eventKeys.push({event:t,key:i})},this),0<=this.polling&&(this.pollingKey=this.manager.poller.registerHandler(this.polling,this,this.fire)),this.activate()},a.prototype.activate=function(){d.default.forEach(this.eventKeys,function(e){e.event.activateHandler(e.key)},this),0<=this.pollingKey&&this.manager.poller.activateHandler(this.pollingKey)},a.prototype.deactivate=function(){d.default.forEach(this.eventKeys,function(e){e.event.deactivateHandler(e.key)},this),0<=this.pollingKey&&this.manager.poller.deactivateHandler(this.pollingKey)},a.prototype.fire=function(e,t){var i=(new Date).getTime(),n=!1;if(0===this.minInterval||0===this.lastFiredAt?n=!0:i-this.lastFiredAt>this.minInterval&&(n=!0),n){var r=t||{},o=(this.lastFiredAt=i)-this.manager.baseTime;this.method.call(this.context,o,e,r)}};var s=function(e){this.baseTime=e,this.poller=new r(50),this.events={}};function h(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i)}function u(e,t,i,n){e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i)}s.prototype.newAction=function(e){return new a(this,e)},s.prototype.getEvent=function(e){if(this.events[e])return this.events[e];if(!v[e])return null;var t=new v[e](this);return this.events[e]=t};function c(){this.eventName="",this.handlers=[],this.activeNums=0}c.prototype.registerHandler=function(e,t){var i={active:!1,context:e,method:t},n=this.handlers.length;return this.handlers.push(i),n},c.prototype.activateHandler=function(e){var t=this.handlers[e];t.active=!0,0===this.activeNums&&this.setup(),this.activeNums++},c.prototype.deactivateHandler=function(e){var t=this.handlers[e];t.active=!1,this.activeNums--,0===this.activeNums&&this.cleanup()},c.prototype.setup=function(){},c.prototype.fire=function(t){d.default.forEach(this.handlers,function(e){e.active&&e.method.call(e.context,this.eventName,t)},this)},c.prototype.cleanup=function(){};function p(){c.apply(this,arguments),this.eventName="onLoad"}d.default.inherit(p,c),p.prototype.setup=function(){var t=this,e=l.default.getTopWindow();this.boundHandler=function(e){t.fire({nativeEvent:e})},h(e,"load",this.boundHandler,!1)},p.prototype.cleanup=function(){u(l.default.getTopWindow(),"load",this.boundHandler,!1)};function f(){c.apply(this,arguments),this.eventName="viewPosChange"}d.default.inherit(f,c),f.prototype.setup=function(){var t=this,e=l.default.getTopWindow();this.nativeWrapper=function(e){t.nativeHandler({nativeEvent:e})},h(e,"scroll",this.nativeWrapper,!1),h(e,"touchmove",this.nativeWrapper,!1)},f.prototype.fireManually=function(){var e={nativeEvent:{}};e.rect=l.default.getViewedRect(),this.fire(e)},f.prototype.nativeHandler=function(e){var t=l.default.getViewedRect();e.rect=t,this.lastViewedRect?t.width!==this.lastViewedRect.width||t.height!==this.lastViewedRect.height?(this.fire(e),this.lastViewedRect=t):(Math.abs(t.top-this.lastViewedRect.top)>=this.changeThreshold||Math.abs(t.left-this.lastViewedRect.left)>=this.changeThreshold)&&(this.fire(e),this.lastViewedRect=t):(this.fire(e),this.lastViewedRect=t)},f.prototype.changeThreshold=50,f.prototype.cleanup=function(){var e=l.default.getTopWindow();u(e,"scroll",this.nativeWrapper,!1),u(e,"touchmove",this.nativeWrapper,!1)};function g(){this.dataSize=0,this.parent=null}var m,y,v={onLoad:p,viewPosChange:f},b={EventManager:s,MetaEvent:c,MetaEventDefinition:v},w=(m=new o((new Date).getTime()),y=new b.EventManager(m.baseTime),m.set("eventManager",y),{getMaster:function(){return m}});g.prototype.incrementSize=function(e){this.dataSize+=e,this.parent&&this.parent.incrementSize(e)},g.prototype.decrementSize=function(e){this.dataSize-=e,this.parent&&this.parent.decrementSize(e)},g.prototype.getDataSize=function(){return this.dataSize},g.prototype.exports=function(){};function I(e,t){g.apply(this,arguments),this.value=t?e:encodeURIComponent(e),this.incrementSize(this.value.length)}function E(e){return e instanceof g?e:d.default.isString(e)||d.default.isNumber(e)?new I(e.toString()):null}d.default.inherit(I,g),I.prototype.exports=function(){return this.value};function M(e){g.apply(this,arguments),this.sep=encodeURIComponent(e),this.children=[]}d.default.inherit(M,g),M.prototype.exports=function(){return d.default.map(this.children,function(e){return e.exports()},this).join(this.sep)},M.prototype.push=function(e){var t=E(e);0<this.children.length&&this.incrementSize(this.sep.length),this.incrementSize(t.dataSize),this.children.push(t),t.parent=this},M.prototype.clear=function(){this.children=[],this.dataSize=0};function S(e,t){this.options=t||{},this.definition={},this.exportOrder=[],this.staticValueNums=0,this.staticValueSize=0,d.default.forEach(e,function(e){e._encodedKey=encodeURIComponent(e.key),"static"===e.type&&(e._encodedValue=encodeURIComponent(e.value),this.staticValueSize+=e._encodedKey.length,this.staticValueSize+=1,this.staticValueSize+=e._encodedValue.length,0<this.staticValueNums&&(this.staticValueSize+=1),this.staticValueNums++),this.definition[e.name]=e,this.exportOrder.push(e.name)},this)}S.prototype.getInstance=function(){return new T(this)},S.prototype.isDefinedVar=function(e){return this.definition[e]&&"var"===this.definition[e].type},S.prototype.getStaticValueSize=function(){return this.staticValueSize},S.prototype.setLazyStaticValue=function(e,t){var i=this.definition[e];i._encodedValue&&(this.staticValueSize-=i._encodedKey.length,--this.staticValueSize,this.staticValueSize-=i._encodedValue.length,i._encodedValue=null,--this.staticValueNums,0!==this.staticValueNums&&--this.staticValueSize),t&&(i._encodedValue=encodeURIComponent(t),this.staticValueSize+=i._encodedKey.length,this.staticValueSize+=1,this.staticValueSize+=i._encodedValue.length,0<this.staticValueNums&&(this.staticValueSize+=1),this.staticValueNums++)};var T=function(e){this.template=e,this.vars={}};T.prototype.bind=function(e,t,i){var n;n=i?new I(t,!0):E(t),this.template.isDefinedVar(e)&&(this.vars[e]=n)},T.prototype.exports=function(){var i="";return d.default.forEach(this.template.exportOrder,function(e){var t=this.template.definition[e];"static"===t.type&&(0<i.length&&(i+="&"),i+=t._encodedKey+"="+t._encodedValue),"lazy-static"===t.type?t._encodedValue&&(0<i.length&&(i+="&"),i+=t._encodedKey+"="+t._encodedValue):"random"===t.type?(0<i.length&&(i+="&"),i+=t._encodedKey+"="+d.default.makeRandomString()):"var"===t.type&&this.vars[e]&&(0<i.length&&(i+="&"),i+=t._encodedKey+"="+this.vars[e].exports())},this),i};function A(e,t){this.rawElement=e,this.trimmedRect=t&&t.trimmedRect?t.trimmedRect:null,this.zeroSizeViewableMode=t&&t.zeroSizeViewableMode;var i={zeroSizeViewableMode:this.zeroSizeViewableMode};this.position=new l.default.ElementPosition(this.rawElement,this.trimmedRect,i),this.layoutPosition=this.position.getLayoutPosition(),this.lastViewedIn=!1,this.lastViewedStart=0,this.currentViewedTime=0,this.viewedEnoughTime=!1,this.notifiedOnce=!1,this.viewInTimes=[],this.viewOutTimes=[],this.options=t,this.tagId=t.tagId,this.requestId=t.requestId,this.rank=t.rank,this.viewableInfo=t.viewableInfo,this.exclusiveId=t.exclusiveId,this.query=t.query||{},this.rawElement&&this.rawElement.getAttribute("data-ydnnoad")&&(this.isNoObstruction=!0)}var V=M,N=S;A.prototype.VIEWED_TIME_CONDITION=1e3,A.prototype.VIEWED_AREA_CONDITION=.5,A.prototype.isBeaconedTarget=function(){return this.viewedEnoughTime&&!this.notifiedOnce},A.prototype.setAsNotified=function(){this.notifiedOnce=!0},A.prototype.checkEfpFunction=function(){var t=0,e=[],i=this.rawElement.getBoundingClientRect(),n={top:Math.round((i.top+i.bottom)/2),left:Math.round((i.left+i.right)/2)},r={top:i.top+1,left:i.left+1,right:i.right-1,bottom:i.bottom-1};return e.push(document.elementFromPoint(r.left,r.top)),e.push(document.elementFromPoint(r.right,r.top)),e.push(document.elementFromPoint(r.left,r.bottom)),e.push(document.elementFromPoint(r.right,r.bottom)),e.push(document.elementFromPoint(n.left,n.top)),d.default.forEach(e,function(e){null!==e&&t++},this),3<=t},A.prototype.calcViewableArea=function(e,t){if("hidden"===window.getComputedStyle(this.rawElement).visibility||document.hidden)return this.lastViewedIn=!1,0;var i=this.position.getViewableRect(),n=i.width*i.height;if(0==n)return 0;var r=this.trimmedRect?this.trimmedRect:l.default.getElementRect(this.rawElement);if(this.zeroSizeViewableMode){var o=0===r.width?1:r.width,a=0===r.height?1:r.height;r=new l.default.Rect({top:r.top,left:r.left,width:o,height:a})}var s=r.width*r.height,h=e.width*e.height;return 0==s||0==h?0:n/Math.min(s,h)},A.prototype.isAdIframe=function(e,t){var i=t||1;if(10<i)return!0;if(l.default.isIframeCrossDomain(e))return e===this.rawElement;var n=(e.contentDocument||e.contentWindow.document).body,r=[];if(d.default.forEach(n.getElementsByTagName("iframe"),function(e){this.isAdIframe(e,i+1)&&r.push(e)},this),0<r.length)return!0;if(d.default.forEach(n.getElementsByTagName("*"),function(e){null!==e.getAttribute("data-ydntxt-item")&&r.push(e)}),0<r.length)return!0;var o=n.getElementsByTagName("a");return d.default.forEach(o,function(e){null!==e.href.match(/https?:\/\/rd\.ane\.yahoo\.co\.jp\//)&&r.push(e)}),0<r.length},A.prototype.getCenterPoints=function(){var e=l.default.getBoundingClientRectAsRect(this.rawElement,0,0);if(this.trimmedRect){var t=this.trimmedRect.copy();t.transfer(e.left,e.top),e=t}var i=[];e.height%2==0?(i.push(e.height/2),i.push(e.height/2-1)):i.push(Math.floor(e.height/2));var n=[];e.width%2==0?(n.push(e.width/2),n.push(e.width/2-1)):n.push(Math.floor(e.width/2));for(var r=[],o=0;o<n.length;++o)for(var a=0;a<i.length;++a)r.push({left:e.left+n[o],top:e.top+i[a]});return 4===r.length&&(r=[r[0],r[3]]),r},A.prototype.hasNoObstruction=function(){if(!(!this.options.viewableMethod||"getBoundingClientRect"===this.options.viewableMethod))return!0;if(!0===this.isNoObstruction)return!0;for(var e=this.getCenterPoints(),t=0;t<e.length;++t)if(this.hasNoObstructionAt(e[t].left,e[t].top))return!0;return!1},A.prototype.hasNoObstructionAt=function(e,t){var i=window.top.document.elementFromPoint(e,t);if(null===i)return!1;var n=!1;if("iframe"===i.nodeName.toLowerCase())this.isAdIframe(i)&&(n=!0);else for(var r=i;null!==r&&r.parentNode;){if(null!==r.getAttribute("data-ydntxt-item")||r.getAttribute("data-rma-viewable")){n=!0;break}var o=r.getAttribute("href");if(o&&null!==o.match(/https?:\/\/rd\.ane\.yahoo\.co\.jp\//)){n=!0;break}r=r.parentNode}return n},A.prototype.check=function(e,t,i){var n;if("IntersectionObserver"===this.options.viewableMethod)n=this.rawElement.dataset.ydnintersectionratio&&this.rawElement.dataset.ydnintersectionratio>=this.VIEWED_AREA_CONDITION;else if("elementFromPoint"===this.options.viewableMethod)n=this.checkEfpFunction();else{n=this.calcViewableArea(t,i)>=this.VIEWED_AREA_CONDITION&&this.hasNoObstruction()}this.lastViewedIn&&n?this.handleViewContinue(e):this.lastViewedIn&&!n?this.handleViewOut(e):!this.lastViewedIn&&n&&this.handleViewIn(e)},A.prototype.handleViewIn=function(e){this.lastViewedIn=!0,this.lastViewedStart=e,this.currentViewedTime=0,this.viewInTimes.push(this.lastViewedStart)},A.prototype.handleViewContinue=function(){this.currentViewedTime=w.getMaster().getElapsedTime()-this.lastViewedStart,this.currentViewedTime>=this.VIEWED_TIME_CONDITION&&(this.viewedEnoughTime=!0)},A.prototype.handleViewOut=function(e){this.currentViewedTime=e-this.lastViewedStart,this.currentViewedTime>=this.VIEWED_TIME_CONDITION&&(this.viewedEnoughTime=!0),this.viewOutTimes.push(e),this.lastViewedIn=!1,this.lastViewedStart=0,this.currentViewedTime=0},A.prototype.updateRect=function(e){this.trimmedRect=e;var t={zeroSizeViewableMode:this.zeroSizeViewableMode};this.position=new l.default.ElementPosition(this.rawElement,this.trimmedRect,t)};function k(e,t){this.tagId=t.tagId,this.sendNumViewIn=0,this.sendNumViewable=0,this.sendNumViewOut=0,x.call(this,e,t)}var x=A;d.default.inherit(k,x),k.prototype.sendNotification=function(e,t,i){var n=this.rawElement.contentWindow;if(n&&n.postMessage){var r=t+","+i+","+e,o="vimpsMessage,"+r;n.postMessage(o,"*")}},k.prototype.handleViewIn=function(e){k.super_.prototype.handleViewIn.apply(this,arguments),this.sendNotification(e,"view-in",++this.sendNumViewIn)},k.prototype.handleViewContinue=function(e){var t=this.viewedEnoughTime;k.super_.prototype.handleViewContinue.apply(this,arguments),!t&&this.viewedEnoughTime&&this.sendNotification(e,"viewable",++this.sendNumViewable)},k.prototype.handleViewOut=function(e){k.super_.prototype.handleViewOut.apply(this,arguments),this.sendNotification(e,"view-out",++this.sendNumViewOut)},k.prototype.sendAbortMessage=function(){var e=this.rawElement.contentWindow;e.postMessage&&e.postMessage("vimpsMessage,aborted","*")};function _(e,t,i,n){this.tagId=e,this.requestId=t,this.rank=i,this.viewableInfo=n,this.targets=[]}var R=k;_.prototype.setDummyTarget=function(e){this.targets.push(e)};function C(e,t){this.proxy=t.proxy,this.proxy.setDummyTarget(this),t.tagId=this.proxy.tagId,t.requestId=this.proxy.requestId,t.viewableInfo=this.proxy.viewableInfo,x.call(this,e,t)}d.default.inherit(C,x),C.prototype.isBeaconedTarget=function(){return this.viewedEnoughTime&&!this.proxy.notifiedOnce},C.prototype.setAsNotified=function(){this.proxy.notifiedOnce=!0},C.prototype.handleViewIn=function(){x.prototype.handleViewIn.apply(this,arguments)},C.prototype.handleViewOut=function(){x.prototype.handleViewOut.apply(this,arguments)};function O(e){this.uri=e.uri,this.requestType=e.requestType,this.beaconAllowed=!1}O.prototype.MAX_LENGTH_FOR_EACH_REQUEST=8e3,O.prototype.getQueryMaxLength=function(){return this.MAX_LENGTH_FOR_EACH_REQUEST-this.uri.length},O.prototype.doRequest=function(e){var t=this.getQueryMaxLength();e.length>t&&(e=e.substring(0,t));var i=this.uri;(0<e.length&&(i+="?"+e+"&EOQ"),"sendbeacon"===this.requestType&&window.navigator.sendBeacon)?window.navigator.sendBeacon(i)||(document.createElement("img").src=i):document.createElement("img").src=i},O.prototype.sendString=function(e,t){(t||this.beaconAllowed)&&this.doRequest(e)},O.prototype.setAllowed=function(){this.beaconAllowed=!0},O.prototype.setDisallowed=function(){this.beaconAllowed=!1},O.prototype.setUri=function(e){this.uri=e};function D(){this.data=new V(this.separator)}D.prototype.push=function(e){this.data.push(e)},D.prototype.getDataSize=function(){return this.data.getDataSize()},D.prototype.separator="&";function F(e){this.targetVisualizer=e,this.serialNumber=100,this.registerAllActions(),this.targets=[],this.viewedQueryTmpl=new N(this.viewedQueryTmplDef),this.requestIdTable={},this.targetProxies={},this.streamAttachedMessageStack=[],this.timelineTargetProxies={},this.timelineAttachedMessageStack=[],this.frameNotifyingTargets=[],this.pendingCollectingTextAdsIn={},this.alreadySentBeacon=[],this.beaconNum=0,this.beaconSenderForViewableBeacon=new O({uri:"https://b94.yahoo.co.jp/v",requestType:"image"}),this.beaconSenderForMeasurableBeacon=new O({uri:"https://b94.yahoo.co.jp/m",requestType:"sendbeacon"}),this.pvRandom=d.default.makeRandomString(),this.viewedQueryTmpl.setLazyStaticValue("pvRandom",this.pvRandom),this.messageQueryTmpl=new N(this.messageQueryTmplDef),"IntersectionObserver"in window&&(this.iobserver=new IntersectionObserver(this.iObserverCallback,{threshold:function(){for(var e=[0],t=1;t<=100;t++)e.push(t/100);return e}()})),this.bucketManager=new P.a(Math.random())}var B=i(3),P=i.n(B),z=i(2),j=i.n(z);F.prototype.registerAllActions=function(){d.default.forEachHash(this.actions,function(e,t){var i=this.registerAction(e,t);this.actions[e]._registered=i},this)},F.prototype.registerAction=function(e,t){var i={context:this,method:this[e],name:e,events:t.events,polling:t.polling,minInterval:t.minInterval},n=w.getMaster().get("eventManager");return n.newAction(i)},F.prototype.isCollectedElem=function(e){if(e.__uadfCollectedBy)for(var t=e.__uadfCollectedBy,i=0;i<t.length;i++)if(t[i]===this.serialNumber)return!0;return!1},F.prototype.setAsCollected=function(e){e.__uadfCollectedBy||(e.__uadfCollectedBy=[]),e.__uadfCollectedBy.push(this.serialNumber)},F.prototype.registerTarget=function(e,t){if(!this.isCollectedElem(e)||t&&t.canDuplicate){(t=t||{}).bucketManager=this.bucketManager;var i=new x(e,t);return this.targets.push(i),this.setAsCollected(e),this.targetVisualizer.setDebugStyle(i),"IntersectionObserver"===t.viewableMethod&&this.iobserver.observe(e),i}return null},F.prototype.actions={checkViewableState:{events:["onLoad","viewPosChange"],polling:1e3,minInterval:100}},F.prototype.checkViewableState=function(t,e,i){var n=i.rect?i.rect:l.default.getViewedRect();d.default.forEach(this.targets,function(e){e.check(t,n)},this),this.sendViewableBeacon(t,e,i),d.default.forEach(this.frameNotifyingTargets,function(e){e.check(t,n)},this)},F.prototype._sendMeasurableBeacon=function(e,h,l){var u=this;if(this.beaconSenderForMeasurableBeacon.beaconAllowed&&e){var t;"string"==typeof e&&(e=[e]),e=function i(e){return e.reduce(function(e,t){return Array.isArray(t)?e.concat(i(t)):e.concat(t)},[])}(e);var i=navigator.userAgent;if(i.match(/MSIE/)||i.match(/Trident/)){var n=i.match(/(MSIE\s|rv:)([\d.]+)/)[2];t=11<=n?5e3:1500}else t=8e3;var r=function(e,t,i,n){var r=e.getInstance();r.bind("beaconType","5"),r.bind("seqNum",t),r.bind("elapsedTime",w.getMaster().getElapsedTime()),r.bind("measurable",h),r.bind("reportData",c.data);var o=r.exports();if(i.sendString(o),n.isSamplingBeaconTarget(l)){var a=u.bucketManager.getBucketName(l),s=u.bucketManager.getSamplingBeaconData(l,a);j()(l,o,s)}};if(0<e.length){var c=new D;d.default.forEach(e,function(e){"non_ydn"!==e&&(0<c.getDataSize()&&c.getDataSize()+e.length>=t&&(r(this.viewedQueryTmpl,++this.beaconNum,this.beaconSenderForMeasurableBeacon,this.bucketManager),c=new D),c.push(e))},this),0<c.getDataSize()&&r(this.viewedQueryTmpl,++this.beaconNum,this.beaconSenderForMeasurableBeacon,this.bucketManager)}}},F.prototype.sendMeasurableBeacon=function(e,t){this._sendMeasurableBeacon(e,"1",t)},F.prototype.sendNonMeasurableBeacon=function(e,t){this._sendMeasurableBeacon(e,"0",t)},F.prototype.registerTargetProxyForStream=function(n,r,e){var o=n.split("-")[0];this.targetProxies[o]||(this.targetProxies[o]=[],d.default.forEach(e,function(e,t){var i=new _(n,r,t+1,e);this.targetProxies[o][t]=i},this),this.procStreamAttachedMessage(o))},F.prototype.notifyStreamAttached=function(e,t){this.streamAttachedMessageStack.push([e,t]),this.procStreamAttachedMessage(e)},F.prototype.procStreamAttachedMessage=function(e){if(this.targetProxies[e]){for(var t=[];0<this.streamAttachedMessageStack.length;){var i=this.streamAttachedMessageStack.shift();i[0]===e?this.registerDummyTargetForStream(i[0],i[1]):t.push(i)}this.streamAttachedMessageStack=t}},F.prototype.registerDummyTargetForStream=function(r,e){var t=l.default.getTopWindow().document.getElementById(e);if(t){var i=Array.prototype.slice.apply(t.querySelectorAll(".yads_stream [data-ydntxt-item]"));for(var n in this.pendingCollectingTextAdsIn){if(this.pendingCollectingTextAdsIn.hasOwnProperty(n))(0,this.pendingCollectingTextAdsIn[n])()}d.default.forEach(i,function(e,t){if(!this.isCollectedElem(e)){var i=this.targetProxies[r][t];if(i){var n=new C(e,{rank:t+1,proxy:i,bucketManager:this.bucketManager});this.targets.push(n),this.targetVisualizer.setDebugStyle(n),this.setAsCollected(e)}}},this)}},F.prototype.registerTargetProxyForTimeline=function(e,t,i,n,r){if(!this.timelineTargetProxies[e]){this.timelineTargetProxies[e]=[];for(var o=r||[],a=0;a<t;a++){var s=new _(i,n,a+1,o[a]);this.timelineTargetProxies[e][a]=s}this.procTimelineAttachedMessage(e)}},F.prototype.notifyTimelineAttached=function(e,t,i,n,r){this.timelineAttachedMessageStack.push([e,t,i,n,r]),this.procTimelineAttachedMessage(e)},F.prototype.procTimelineAttachedMessage=function(e){var t=this.timelineTargetProxies[e];if(t){for(;0<this.timelineAttachedMessageStack.length;){var i=this.timelineAttachedMessageStack.shift();if(i[0]===e){var n=i[3],r=i[4],o=t[n-1];if(!o)return;var a=new C(r,{rank:n,proxy:o,bucketManager:this.bucketManager});this.targets.push(a),this.targetVisualizer.setDebugStyle(a),this.setAsCollected(r)}}this.timelineAttachedMessageStack=[]}},F.prototype.collectRichAdsIn=function(t,i,n){var r=0,o=this,a=1800,s=null;function e(){try{--a<=0&&clearInterval(s);var e=o.getRichAds(t);if(0===e.length)return;d.default.forEach(e,function(e){var t=n&&n[r]||null;o.registerTarget(e,{tagId:i,exclusiveId:i,viewableInfo:t,query:o.getRichAdsQuery(e)}),r++},o),clearInterval(s)}catch(e){}}s=setInterval(e,100),e()},F.prototype.getRichAds=function(e){var t=[];return d.default.forEach(e.getElementsByTagName("*"),function(e){null!==e.getAttribute("data-rma-viewable")&&t.push(e)}),t},F.prototype.getRichAdsQuery=function(e){return e?{getMainshrink:function(){return e.getAttribute("data-rma-mainshrink")},getSidehide:function(){return e.getAttribute("data-rma-sidehide")}}:{getMainshrink:function(){return null},getSidehide:function(){return null}}},F.prototype.collectTextAdsIn=function(t,n,r,o,a){var s=0,h=this,i=1800,l=null;function e(){try{--i<=0&&(delete h.pendingCollectingTextAdsIn[l],clearInterval(l));var e=h.getTextAds(t);if(0===e.length)return;d.default.forEach(e,function(e){r in h.requestIdTable||(h.requestIdTable[r]=0);var t=++h.requestIdTable[r],i=o&&o[s]||null;h.registerTarget(e,{tagId:n,requestId:r,rank:t,viewableInfo:i,viewableMethod:a}),s++},h),delete h.pendingCollectingTextAdsIn[l],clearInterval(l)}catch(e){}}l=setInterval(e,100),(this.pendingCollectingTextAdsIn[l]=e)()},F.prototype.getTextAds=function(e){var t=[];if(d.default.forEach(e.getElementsByTagName("*"),function(e){null!==e.getAttribute("data-ydntxt-item")&&t.push(e)}),0<t.length)return t;var i=e.getElementsByTagName("a");return d.default.forEach(i,function(e){null!==e.href.match(/https?:\/\/rd\.ane\.yahoo\.co\.jp\//)&&t.push(e)}),t},F.prototype.getBeaconDataForTarget=function(e){return e.viewableInfo},F.prototype.sendViewableBeacon=function(a){if(this.beaconSenderForViewableBeacon.beaconAllowed){var r=[];d.default.forEach(this.targets,function(e){if(e.isBeaconedTarget()&&-1===this.alreadySentBeacon.indexOf(e.exclusiveId)){this.targetVisualizer.setDebugStyle(e);var t=this.getBeaconDataForTarget(e);if(t){e.exclusiveId&&this.alreadySentBeacon.push(e.exclusiveId);var i=null;e.query&&e.query.getMainshrink&&(i=e.query.getMainshrink());var n=null;e.query&&e.query.getSidehide&&(n=e.query.getSidehide()),e.setAsNotified(),r.push({viewableInfo:t,mainshrink:i,sidehide:n,target:e})}}},this),0<r.length&&d.default.forEach(r,function(e){if("non_ydn"!==e.viewableInfo){var t=new D;t.push(e.viewableInfo);var i=this.viewedQueryTmpl.getInstance();i.bind("reportData",t.data),i.bind("beaconType","2"),i.bind("seqNum",++this.beaconNum),i.bind("elapsedTime",a),e.mainshrink&&i.bind("mainshrink",e.mainshrink),e.sidehide&&i.bind("sidehide",e.sidehide);var n=i.exports();if(this.beaconSenderForViewableBeacon.sendString(n),this.bucketManager.isSamplingBeaconTarget(e.target.tagId)){var r=this.bucketManager.getBucketName(e.target.tagId),o=this.bucketManager.getSamplingBeaconData(e.target.tagId,r,e.target);j()(e.target.tagId,n,o)}}},this)}},F.prototype.registerFrameNotifyingTargets=function(e,t){this.frameNotifyingTargets.push(new R(t,{tagId:e,bucketManager:this.bucketManager}))},F.prototype.markAdsForDebug=function(){this.targetVisualizer.enable();var t=this;d.default.forEach(this.targets,function(e){t.targetVisualizer.setDebugStyle(e)})},F.prototype.updateTargetRect=function(t,i){d.default.forEach(this.targets,function(e){e.viewableInfo===i&&e.updateRect(t)},this),w.getMaster().get("eventManager").getEvent("viewPosChange").fireManually()},F.prototype.iObserverCallback=function(e){d.default.forEach(e,function(e){e.target.dataset.ydnintersectionratio=e.intersectionRatio})};var q=[{name:"rs",type:"static",key:"rs",value:"yads_vb"},{name:"beaconType",type:"var",key:"bt"},{name:"pvRandom",type:"lazy-static",key:"pv"},{name:"beaconRandom",type:"random",key:"rand"},{name:"seqNum",type:"var",key:"seq"},{name:"elapsedTime",type:"var",key:"et"},{name:"retryNum",type:"var",key:"rn"},{name:"mainshrink",type:"var",key:"mainshrink"},{name:"sidehide",type:"var",key:"sidehide"},{name:"reportData",type:"var",key:"vi"},{name:"measurable",type:"var",key:"measurable"}];F.prototype.viewedQueryTmplDef=q,F.prototype.messageQueryTmplDef=q;var L=F,W=i(4),H=i.n(W),U=i(5),K=i.n(U);!function(t){var i;try{t.top.document;i=t.top}catch(e){i=t}i.YJ_UADF||(i.YJ_UADF={});var e=i.YJ_UADF;if(!(e&&e.YADSViewable&&e.YADSViewable.initialized)){var n=new K.a,r=new L(n),o=new H.a(r);e.YADSViewable={initialized:!0,notifyRendered:function(){o.notifyRendered.apply(o,arguments)},notifyStreamAttached:function(){o.notifyStreamAttached.apply(o,arguments)},notifyTimelineAttached:function(){o.notifyTimelineAttached.apply(o,arguments)},markAdsForDebug:function(){o.markAdsForDebug.apply(o,arguments)}}}}(window)}]);